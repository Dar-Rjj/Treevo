```python
import pandas as pd

def heuristics_v2(df, n=10, sma_period=5, ema_period=5):
    # Calculate Enhanced High-Low Spread
    df['High-Low'] = df['high'] - df['low']
    
    # Smoothing High-Low Spread with SMA
    df['SMA_High-Low'] = df['High-Low'].rolling(window=sma_period).mean()
    df['Smoothed_High-Low'] = df['High-Low'] - df['SMA_High-Low']
    
    # Calculate Composite Momentum Indicator
    df['Close-to-Close_Return'] = df['close'].pct_change(periods=n)
    df['Composite_Momentum'] = df['Close-to-Close_Return'].sum()
    
    # Confirm with Trading Volume Increase
    df['Volume_Change'] = df['volume'].diff()
    df['Volume_Increase'] = (df['Volume_Change'] > 0).astype(int)
    
    # Integrate with Enhanced Convergence Divergence of High-Low Prices
    df['Avg_High-Low'] = (df['high'] + df['low']) / 2
    df['Short_MA_Avg_High-Low'] = df['Avg_High-Low'].rolling(window=5).mean()
    df['Long_MA_Avg_High-Low'] = df['Avg_High-Low'].rolling(window=20).mean()
    df['Enhanced_CD'] = df['Short_MA_Avg_High-Low'] - df['Long_MA_Avg_High-Low']
    
    # Volume-Adjusted High-Low Range
    volume_adjusted_high_low_range = ((df['high'] - df['low']) * df['volume']).rolling(window=n).sum() / df['volume'].rolling(window=n).sum()
    df['Volume_Adjusted_High-Low_Range'] = volume_adjusted_high_low_range
    
    # Adjust for Market Sentiment
    df['Close-to-Open_Return'] = df['close'] - df['open']
    sentiment_modifier = df['Close-to-Open_Return'].apply(lambda x: 1 if x > 0 else -1)
    df['Adjusted_Volume_Adjusted_High-Low_Range'] = df['Volume_Adjusted_High-Low_Range'] * sentiment_modifier
    
    # Smoothed High-Low Spread with EMA
    df['EMA_High-Low'] = df['High-Low'].ewm(span=ema_period, adjust=False).mean()
    df['Smoothed_High-Low_EMA'] = df['High-Low'] - df['EMA_High-Low']
    
    # Price Momentum
    df['Price_Momentum'] = df['close'].diff(periods=n).sum()
    
    # Trend Confirmation
    df['SMA_5'] = df['close'].rolling(window=5).mean()
    df['SMA_20'] = df['close'].rolling(window=20).mean()
    df['Trend_Confirmation'] = (df['SMA_5'] > df['SMA_20']).astype(int)
    
    # Filter by Volume Change
    df['Integrated_Momentum'] = df['Composite_Momentum'] * df['Volume_Increase']
    
    # Combine Indicators
    df['Combined_Factor'] = (df['Integrated_Momentum'] +
                             df['Enhanced_CD'] +
                             df['Adjusted_Volume_Adjusted_High-Low_Range'] +
                             df['Smoothed_High-Low_EMA'])
    
    # Final Alpha Factor
    df['Alpha_Factor'] = df['Combined_Factor'] * df['Trend_Confirmation']
    
    return df['Alpha_Factor']
```
