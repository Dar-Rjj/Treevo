```txt
Enhanced Volatility-Adjusted Volume Momentum with Long-Term Trend Consideration
├── Calculate Daily Volatility
│   ├── Use High price
│   ├── Use Low price
│   └── Subtract Low from High
├── Calculate Weighted Daily Volatility
│   ├── Multiply Daily Volatility by Volume
│   └── Use Volume
├── Calculate Smoothed Weighted Volatility
│   ├── Sum of Weighted Daily Volatility over 20 days
│   └── Divide by Sum of Volumes over 20 days
├── Determine Long-Term Price Trend
│   ├── Use Close price
│   ├── Use Close price 20 days ago
│   └── Subtract Close price 20 days ago from Close price
├── Adjust for Price Direction
│   ├── Use Close price
│   ├── Use Previous Close price
│   └── If Close > Previous Close, 1 else -1
├── Calculate Momentum from Open to Close
│   ├── (Close of Day t - Open of Day t-1)
│   └── Use Close and Open prices for specific days
├── Combine Momentum and Trend
│   ├── Multiply Momentum from Open to Close by Price Direction
│   └── Add Long-Term Price Trend
├── Final Alpha Factor
│   ├── Combine Momentum and Trend
│   └── Multiply by Smoothed Weighted Volatility
└── Output the Final Alpha Factor
    └── Use the combined factor as the alpha factor
```
