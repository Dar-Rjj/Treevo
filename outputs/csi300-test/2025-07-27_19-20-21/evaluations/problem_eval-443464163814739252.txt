def heuristics_v2(df):
    # Calculate the 14-period Rate of Change (ROC)
    roc = ((df['close'] - df['close'].shift(14)) / df['close'].shift(14)) * 100
    
    # Calculate the 20-period Typical Price (TP)
    tp = (df['high'] + df['low'] + df['close']) / 3
    
    # Calculate the 20-period Simple Moving Average of TP
    sma_tp = tp.rolling(window=20).mean()
    
    # Calculate the Mean Deviation
    mean_deviation = (tp - sma_tp).abs().rolling(window=20).mean()
    
    # Calculate the Commodity Channel Index (CCI)
    cci = (tp - sma_tp) / (0.015 * mean_deviation)
    
    # Combine ROC and CCI into a single heuristic matrix
    heuristics_matrix = 0.7 * roc + 0.3 * cci
    
    return heuristics_matrix
