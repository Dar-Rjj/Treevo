def heuristics_v2(df):
    # Calculate MACD
    ema_12 = df['close'].ewm(span=12, adjust=False).mean()
    ema_26 = df['close'].ewm(span=26, adjust=False).mean()
    macd_line = ema_12 - ema_26
    signal_line = macd_line.ewm(span=9, adjust=False).mean()
    macd_histogram = macd_line - signal_line
    
    # Calculate Stochastic Oscillator
    highest_high = df['high'].rolling(window=14).max()
    lowest_low = df['low'].rolling(window=14).min()
    k_percent = 100 * (df['close'] - lowest_low) / (highest_high - lowest_low)
    d_percent = k_percent.rolling(window=3).mean()
    
    # Calculate Accumulation/Distribution Line
    adl = ((df['close'] - df['low']) - (df['high'] - df['close'])) / (df['high'] - df['low'])
    adl = adl * df['volume']
    adl = adl.cumsum()
    
    # Combine MACD, Stochastic Oscillator, and ADL into a single heuristic matrix
    heuristics_matrix = 0.4 * macd_histogram + 0.3 * d_percent + 0.3 * adl
    
    return heuristics_matrix
