import pandas as pd
    
    # Calculate simple moving averages
    sma_short = df['close'].rolling(window=10).mean()
    sma_long = df['close'].rolling(window=30).mean()
    
    # Calculate the difference between short and long SMAs
    sma_diff = sma_short - sma_long
    
    # Calculate the rate of change over 12 periods
    roc_12 = df['close'].pct_change(periods=12)
    
    # Calculate the average true range over 14 periods
    tr = df['high'] - df['low']
    atr_14 = tr.rolling(window=14).mean()
    
    # Combine the factors into a single heuristics matrix
    heuristics_matrix = 0.5 * sma_diff + 0.3 * roc_12 - 0.2 * atr_14
    
    return heuristics_matrix
