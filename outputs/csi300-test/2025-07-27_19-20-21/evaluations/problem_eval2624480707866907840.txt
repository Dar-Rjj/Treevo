import pandas as pd

def heuristics_v2(df):
    # Calculate short and long period Exponential Moving Averages
    ema_short = df['close'].ewm(span=10, adjust=False).mean()
    ema_long = df['close'].ewm(span=30, adjust=False).mean()
    
    # Difference between short and long EMAs
    ema_diff = ema_short - ema_long
    
    # Rate of change over 12 periods
    roc_12 = df['close'].pct_change(periods=12)
    
    # Bollinger Bands: Middle Band (20-day SMA), Upper and Lower Bands
    mb = df['close'].rolling(window=20).mean()
    bb_width = 2 * df['close'].rolling(window=20).std()
    
    # Heuristic matrix combining EMA difference, ROC, and Bollinger Bands width
    heuristics_matrix = 0.5 * ema_diff + 0.3 * roc_12 - 0.2 * bb_width
    
    return heuristics_matrix
