```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate High-Low Spread
    high_low_spread = df['high'] - df['low']
    
    # Calculate Daily Volume Trend
    ema_volume_10 = df['volume'].ewm(span=10, adjust=False).mean()
    daily_volume_trend = df['volume'] - ema_volume_10
    volume_trend_positive = daily_volume_trend > 0
    
    # Calculate Price Trend
    ema_close_10 = df['close'].ewm(span=10, adjust=False).mean()
    price_trend = df['close'] - ema_close_10
    price_trend_positive = price_trend > 0
    
    # Calculate Momentum Trend
    momentum_trend = df['close'] - df['close'].shift(10)
    momentum_trend_positive = momentum_trend > 0
    
    # Calculate Volatility (Average True Range)
    true_range = np.maximum(df['high'] - df['low'], 
                            np.abs(df['high'] - df['close'].shift(1)),
                            np.abs(df['low'] - df['close'].shift(1)))
    atr_10 = true_range.rolling(window=10).mean()
    
    # Calculate Relative Strength
    gain = df['close'] - df['close'].shift(1)
    gain[gain < 0] = 0
    loss = df['close'].shift(1) - df['close']
    loss[loss < 0] = 0
    avg_gain = gain.rolling(window=14).mean()
    avg_loss = loss.rolling(window=14).mean()
    rs = avg_gain / avg_loss
    
    # Combine all trends
    spread_with_volume_trend = high_low_spread * daily_volume_trend
    spread_with_volume_trend[volume_trend_positive] *= 1.5
    spread_with_volume_trend[~volume_trend_positive] *= 0.5
    
    spread_with_price_trend = spread_with_volume_trend.copy()
    spread_with_price_trend[price_trend_positive] *= 1.2
    spread_with_price_trend[~price_trend_positive] *= 0.8
    
    spread_with_momentum_trend = spread_with_price_trend.copy()
    spread_with_momentum_trend[momentum_trend_positive] *= 1.3
    spread_with_momentum_trend[~momentum_trend_positive] *= 0.7
    
    # Adjust for volatility
    spread_with_volatility = spread_with_momentum_trend.copy()
    spread_with_volatility[atr_10 > np.nanmedian(atr_10)] *= 1.1
    spread_with_volatility[atr_10 <= np.nanmedian(atr_10)] *= 0.9
    
    # Adjust for relative strength
    final_alpha_factor = spread_with_volatility.copy()
    final_alpha_factor[rs > 1] *= 1.1
    final_alpha_factor[rs <= 1] *= 0.9
    
    return final_alpha_factor
```
