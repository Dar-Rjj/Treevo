```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the 5-day moving average of the close price to capture short-term trend
    df['close_5d_sma'] = df['close'].rolling(window=5).mean()
    
    # Calculate the 20-day moving average of the close price to capture medium-term trend
    df['close_20d_sma'] = df['close'].rolling(window=20).mean()
    
    # Calculate the difference between 5-day and 20-day moving averages to capture the trend strength
    df['trend_strength'] = df['close_5d_sma'] - df['close_20d_sma']
    
    # Calculate the 10-day rolling standard deviation of the close price to capture volatility
    df['volatility_10d_std'] = df['close'].rolling(window=10).std()
    
    # Calculate the 5-day moving average of volume to smooth out daily fluctuations
    df['volume_5d_sma'] = df['volume'].rolling(window=5).mean()
    
    # Factor: ratio of trend strength to volatility, adjusted by smoothed volume
    factor = (df['trend_strength'] / (df['volatility_10d_std'] + 1e-7)) * df['volume_5d_sma']
    
    return factor
```
