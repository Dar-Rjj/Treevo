```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the difference between today's and yesterday's close to capture momentum
    df['price_diff'] = df['close'].diff()
    
    # Calculate the 5-day moving average of the price difference for short-term momentum
    df['price_diff_5d_sma'] = df['price_diff'].rolling(window=5).mean()
    
    # Calculate the 20-day moving average of the price difference for medium-term momentum
    df['price_diff_20d_sma'] = df['price_diff'].rolling(window=20).mean()
    
    # Calculate the 10-day standard deviation of the price difference for volatility
    df['price_diff_10d_std'] = df['price_diff'].rolling(window=10).std()
    
    # Calculate the 30-day standard deviation of the price difference for long-term volatility
    df['price_diff_30d_std'] = df['price_diff'].rolling(window=30).std()
    
    # Factor: ratio of short-term momentum to long-term volatility
    factor = (df['price_diff_5d_sma'] - df['price_diff_20d_sma']) / (df['price_diff_30d_std'] + 1e-7)
    
    return factor
```
