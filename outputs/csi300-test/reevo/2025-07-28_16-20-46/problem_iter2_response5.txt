```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate price change and volume change
    df['price_change'] = df['close'].pct_change()
    df['volume_change'] = df['volume'].pct_change()

    # Calculate the 5-day and 20-day moving standard deviation (volatility) of the closing prices
    df['volatility_5'] = df['close'].rolling(window=5).std()
    df['volatility_20'] = df['close'].rolling(window=20).std()

    # Calculate the ratio of short-term volatility to long-term volatility
    df['volatility_ratio'] = df['volatility_5'] / (df['volatility_20'] + 1e-7)

    # Calculate the leverage as a weighted sum of price change, volume change, and volatility ratio
    leverage = (df['price_change'] + 2 * df['volume_change'] + 3 * df['volatility_ratio']) / 6

    # Calculate the 5-day and 20-day moving average of the closing prices
    df['sma_5'] = df['close'].rolling(window=5).mean()
    df['sma_20'] = df['close'].rolling(window=20).mean()

    # Calculate the trend as the ratio of the 5-day SMA to the 20-day SMA
    df['trend'] = df['sma_5'] / (df['sma_20'] + 1e-7)

    # Calculate the alpha factor as a combination of leverage and trend
    df['alpha_factor'] = leverage * df['trend']

    return df['alpha_factor']
```
