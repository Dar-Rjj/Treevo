```txt
Enhanced Momentum and Volume Reversal Factor
├── Calculate Enhanced Momentum
│   ├── Calculate Raw Momentum
│   │   ├── Use Close price
│   │   │   └── Day t Close
│   │   └── Use Previous Close price
│   │       └── Day t-20 Close
│   └── Calculate Volume Delta
│       ├── Use Volume
│       │   └── Day t Volume
│       └── Use Previous Volume
│           └── Day t-20 Volume
├── Combine Momentum and Volume
│   ├── Multiply Raw Momentum by Volume Delta
│   ├── If Volume Delta is negative, multiply by -1
│   └── Add a smoothing factor (if needed)
│       └── Use a simple moving average of the combined value over 5 days
├── Calculate Intraday Return
│   ├── Use High price
│   └── Use Low price
├── Calculate Intraday Range
│   ├── Use High price
│   └── Use Low price
├── Calculate Intraday Volatility
│   ├── Use Open, High, Low, Close prices
│   └── Average True Range over a period
├── Calculate Volume Trend
│   ├── Use Volume
│   └── Exponential Moving Average of Volume
├── Compute Volume Reversal Component
│   ├── Compare Volume to its EMA
│   │   ├── If Volume > EMA, Positive Sentiment
│   │   └── If Volume < EMA, Negative Sentiment
│   └── Multiply by Intraday Return
└── Synthesize Factors
    ├── Multiply Combined Momentum and Volume by Intraday Return
    ├── Multiply by Intraday Range
    ├── Multiply by Intraday Volatility
    └── Add Volume Reversal Component
```
