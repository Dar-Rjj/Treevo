{
     "algorithm": "The new algorithm calculates a set of technical and fundamental heuristics based on price and volume data, incorporating exponential moving averages, stochastic oscillator, and average directional index to create a composite factor aimed at predicting future stock returns.",
     "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate exponential moving averages\n    ema_5 = df['close'].ewm(span=5, adjust=False).mean()\n    ema_10 = df['close'].ewm(span=10, adjust=False).mean()\n    ema_ratio = (ema_5 / ema_10) - 1\n    \n    # Stochastic Oscillator\n    low_14 = df['low'].rolling(window=14).min()\n    high_14 = df['high'].rolling(window=14).max()\n    k_percent = 100 * ((df['close'] - low_14) / (high_14 - low_14))\n    \n    # Average Directional Index (ADX)\n    tr = df['high'] - df['low']\n    up_move = df['high'] - df['close'].shift(1)\n    down_move = df['low'] - df['close'].shift(1)\n    plus_dm = up_move.where((up_move > down_move) & (up_move > 0), 0)\n    minus_dm = down_move.where((down_move > up_move) & (down_move > 0), 0)\n    tr_14 = tr.rolling(window=14).sum()\n    plus_di = 100 * (plus_dm.rolling(window=14).sum() / tr_14)\n    minus_di = 100 * (minus_dm.rolling(window=14).sum() / tr_14)\n    dx = 100 * (abs(plus_di - minus_di) / (plus_di + minus_di))\n    adx = dx.rolling(window=14).mean()\n    \n    # Volume weighted by close price\n    volume_weighted = df['volume'] * df['close']\n    \n    # Composite heuristic\n    heuristics_matrix = (ema_ratio + k_percent - adx + volume_weighted) / 4\n    return heuristics_matrix",
     "objective": -0.03608,
     "other_inf": null
}