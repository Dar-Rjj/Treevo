def heuristics_v2(df):
    # Calculate the rate of change over 14 days for the closing price
    roc = df['close'].pct_change(periods=14)
    
    # Calculate the cumulative volume as the rolling sum of volume over 20 days
    cum_volume = df['volume'].rolling(window=20).sum()
    
    # Calculate the average true range (ATR) over 14 days
    tr = df[['high', 'low']].diff().abs().max(axis=1)
    atr = tr.rolling(window=14).mean()
    
    # Calculate the simple moving average (SMA) of the closing price over 20 days
    sma_20 = df['close'].rolling(window=20).mean()
    
    # Calculate the ratio of ATR to SMA
    atr_sma_ratio = atr / sma_20
    
    # Combine the factors into a heuristics matrix, assigning equal weights for simplicity
    heuristics_matrix = (roc + cum_volume + atr_sma_ratio) / 3
    
    return heuristics_matrix
