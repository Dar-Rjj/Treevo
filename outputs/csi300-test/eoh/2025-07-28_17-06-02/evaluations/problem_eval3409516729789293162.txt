def heuristics_v2(df):
    # Calculate weighted moving averages with different spans
    wma_7 = df['close'].ewm(span=7, adjust=False).mean()
    wma_14 = df['close'].ewm(span=14, adjust=False).mean()
    wma_ratio = (wma_7 / wma_14) - 1
    
    # Rate of Change (ROC) indicator with a different period
    roc = (df['close'] - df['close'].shift(15)) / df['close'].shift(15)
    
    # Average True Range (ATR) for volatility with a different window
    tr = df['high'] - df['low']
    atr = tr.rolling(window=30).mean()
    
    # Price range
    price_range = (df['high'] - df['low']) / df['close']
    
    # Volume momentum with a different shift
    volume_momentum = df['volume'] / df['volume'].shift(7) - 1
    
    # Composite heuristic with adjusted weights
    heuristics_matrix = (2 * wma_ratio + 3 * roc - atr + price_range + 2 * volume_momentum) / 9
    return heuristics_matrix
