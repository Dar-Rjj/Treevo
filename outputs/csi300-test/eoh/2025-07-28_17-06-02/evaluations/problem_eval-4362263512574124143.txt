def heuristics_v2(df):
    # Simple Moving Averages
    sma_10 = df['close'].rolling(window=10).mean()
    sma_30 = df['close'].rolling(window=30).mean()
    sma_ratio = (sma_10 / sma_30) - 1

    # Relative Strength Index (RSI)
    delta = df['close'].diff(1)
    up = delta.clip(lower=0)
    down = -delta.clip(upper=0)
    ema_up = up.ewm(com=19, adjust=False).mean()
    ema_down = down.ewm(com=19, adjust=False).mean()
    rs = ema_up / ema_down
    rsi = 100 - (100 / (1 + rs))

    # Aroon Oscillator
    aroon_up = df['high'].rolling(window=50).apply(lambda x: (x.argmax() + 1) / 50 * 100, raw=True)
    aroon_down = df['low'].rolling(window=50).apply(lambda x: (x.argmin() + 1) / 50 * 100, raw=True)
    aroon_oscillator = aroon_up - aroon_down

    # Adjusted Price Weighted by Volume
    price_weighted = (df['open'] * 0.2 + df['high'] * 0.2 + df['low'] * 0.2 + df['close'] * 0.4) * df['volume']

    # Composite heuristic
    heuristics_matrix = (sma_ratio + rsi + aroon_oscillator + price_weighted) / 4
    return heuristics_matrix
