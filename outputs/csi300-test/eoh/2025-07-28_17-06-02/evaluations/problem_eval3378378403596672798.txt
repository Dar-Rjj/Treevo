import pandas as pd

def heuristics_v2(df):
    # Volume-Weighted Average Price (VWAP)
    vwap = (df['close'] * df['volume']).rolling(window=30).sum() / df['volume'].rolling(window=30).sum()
    
    # Median Price
    median_price = df['close'].rolling(window=30).median()
    
    # Heuristics matrix as the ratio of VWAP to median price
    heuristics_matrix = vwap / median_price
    return heuristics_matrix
