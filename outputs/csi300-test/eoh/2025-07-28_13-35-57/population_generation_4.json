[
     {
          "algorithm": "The new algorithm calculates a 5-day moving average (MA) of closing prices and a 10-day volume-weighted average price (VWAP), then derives a weighted score from the ratio of the close price to both averages, which is used in conjunction with the 3-day shifted daily return for predicting future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return_3d'] = df['daily_return'].shift(-3)\n    df['vwap_10d'] = (df['amount'] / df['volume']).rolling(window=10).mean()  # Calculating VWAP\n    df['ma_5d'] = df['close'].rolling(window=5).mean()  # Calculating 5-day MA\n    df['price_ratio_vwap'] = df['close'] / df['vwap_10d']\n    df['price_ratio_ma'] = df['close'] / df['ma_5d']\n    heuristics_matrix = (df['shifted_daily_return_3d'] * (df['price_ratio_vwap'] + df['price_ratio_ma'])).dropna()\n    return heuristics_matrix",
          "objective": -0.40824,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a 7-day moving average (MA) of closing prices and a 15-day volume-weighted average price (VWAP), using these to derive a weighted score from the ratio of the close price to both averages, which is then used alongside the 2-day shifted daily return for predicting future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return_2d'] = df['daily_return'].shift(-2)\n    df['vwap_15d'] = (df['amount'] / df['volume']).rolling(window=15).mean()  # Calculating VWAP\n    df['ma_7d'] = df['close'].rolling(window=7).mean()  # Calculating 7-day MA\n    df['price_ratio_vwap'] = df['close'] / df['vwap_15d']\n    df['price_ratio_ma'] = df['close'] / df['ma_7d']\n    heuristics_matrix = (df['shifted_daily_return_2d'] * (df['price_ratio_vwap'] + df['price_ratio_ma'])).dropna()\n    return heuristics_matrix",
          "objective": -0.40593,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a 5-day VWAP, then calculates the price-to-VWAP ratio and multiplies it by the next day's return to produce the heuristic factor.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['vwap_5d'] = (df['amount'] / df['volume']).rolling(window=5).mean()  # Calculating 5-day VWAP\n    df['price_ratio'] = df['close'] / df['vwap_5d']\n    heuristics_matrix = (df['shifted_daily_return'] * df['price_ratio']).dropna()\n    return heuristics_matrix",
          "objective": -0.40333,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a factor by combining the daily return with the exponential moving average (EMA) of the low price over 10 days, emphasizing the impact of recent downward price movements on future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['ema_low_10d'] = df['low'].ewm(span=10, adjust=False).mean()\n    df['low_ema_ratio'] = df['low'] / df['ema_low_10d']\n    heuristics_matrix = (df['shifted_daily_return'] * df['low_ema_ratio']).dropna()\n    return heuristics_matrix",
          "objective": -0.40268,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm incorporates the 5-day moving average (MA) of the close prices and calculates a score based on the ratio between the current close price and this MA, multiplied by the next day's daily return.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['ma_5d'] = df['close'].rolling(window=5).mean()  # Calculating 5-day MA\n    df['price_ma_ratio'] = df['close'] / df['ma_5d']\n    heuristics_matrix = (df['shifted_daily_return'] * df['price_ma_ratio']).dropna()\n    return heuristics_matrix",
          "objective": -0.40262,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristic factor by incorporating the daily return with the exponential moving average (EMA) of the closing price over the past 10 days, aiming to better reflect the impact of recent price changes on future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['ema_close_10d'] = df['close'].ewm(span=10).mean()\n    df['price_ratio'] = df['close'] / df['ema_close_10d']\n    heuristics_matrix = (df['shifted_daily_return'] * df['price_ratio']).dropna()\n    return heuristics_matrix",
          "objective": -0.40255,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm incorporates the 5-day moving average (MA) of closing prices and uses it alongside the 10-day volume-weighted average price (VWAP) to predict future returns by calculating a weighted score based on the ratio of the close price to the 5-day MA and the 10-day VWAP.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['vwap_10d'] = (df['amount'] / df['volume']).rolling(window=10).mean()  # Calculating VWAP\n    df['ma_5d'] = df['close'].rolling(window=5).mean()  # Calculating 5-day MA\n    df['price_ratio_vwap'] = df['close'] / df['vwap_10d']\n    df['price_ratio_ma'] = df['close'] / df['ma_5d']\n    heuristics_matrix = (df['shifted_daily_return'] * (df['price_ratio_vwap'] + df['price_ratio_ma'])).dropna()\n    return heuristics_matrix",
          "objective": -0.40224,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm modifies the original by incorporating the volume-weighted average price (VWAP) over a 10-day period into the heuristic, aiming to reflect the impact of both recent price and volume changes on future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['vwap_10d'] = (df['amount'] / df['volume']).rolling(window=10).mean()  # Calculating VWAP\n    df['price_ratio'] = df['close'] / df['vwap_10d']\n    heuristics_matrix = (df['shifted_daily_return'] * df['price_ratio']).dropna()\n    return heuristics_matrix",
          "objective": -0.40184,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a weighted score based on the ratio of the close price to the highest and lowest prices over a 10-day window, aiming to capture the impact of recent price volatility on future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['high_10d'] = df['high'].rolling(window=10).max()\n    df['low_10d'] = df['low'].rolling(window=10).min()\n    df['price_ratio_high'] = df['close'] / df['high_10d']\n    df['price_ratio_low'] = df['close'] / df['low_10d']\n    heuristics_matrix = (df['shifted_daily_return'] * (df['price_ratio_high'] + df['price_ratio_low'])).dropna()\n    return heuristics_matrix",
          "objective": -0.40162,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm incorporates the ratio of the current closing price to the 10-day simple moving average (SMA) of the closing prices, aiming to capture the impact of recent price trends on future returns.",
          "code": "def heuristics_v2(df):\n    df['daily_return'] = df['close'].pct_change()\n    df['shifted_daily_return'] = df['daily_return'].shift(-1)\n    df['sma_10d'] = df['close'].rolling(window=10).mean()  # Calculating 10-day SMA\n    df['price_ratio'] = df['close'] / df['sma_10d']\n    heuristics_matrix = (df['shifted_daily_return'] * df['price_ratio']).dropna()\n    return heuristics_matrix",
          "objective": -0.40156,
          "other_inf": null
     }
]