import pandas as pd

def heuristics_v2(df):
    # Calculate EMAs for close price and volume
    ema_close = df['close'].ewm(span=10, adjust=False).mean()
    ema_volume = df['volume'].ewm(span=10, adjust=False).mean()
    
    # Calculate the average true range (ATR) as a measure of volatility
    atr = df[['high' - 'low', abs('high' - df['close'].shift(1)), abs('low' - df['close'].shift(1))]].max(axis=1).rolling(window=14).mean().fillna(0)
    
    # Adjust the EMA of close price by the ATR
    adjusted_ema_close = ema_close / (1 + atr)
    
    # Compute the heuristic factor
    heuristics_matrix = adjusted_ema_close / ema_volume
    
    return heuristics_matrix
