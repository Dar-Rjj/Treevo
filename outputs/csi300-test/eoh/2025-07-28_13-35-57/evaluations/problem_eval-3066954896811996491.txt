import pandas as pd

def heuristics_v2(df):
    n = 30  # Changed from 20 to 30 for a different parameter setting
    df['PriceRange'] = df['high'] - df['low']
    avg_volume = df['volume'].ewm(span=n, adjust=False).mean()
    df['Weighted_PriceRange'] = (df['PriceRange'].ewm(span=n, adjust=False).mean()) / avg_volume
    heuristics_matrix = (df['close'] * df['volume']) / (df['Weighted_PriceRange'] * avg_volume)
    return heuristics_matrix
