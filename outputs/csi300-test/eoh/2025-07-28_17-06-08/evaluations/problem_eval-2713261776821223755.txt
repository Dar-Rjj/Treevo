def heuristics_v2(df):
    close_momentum_10 = df['close'].pct_change(10)
    close_momentum_20 = df['close'].pct_change(20)
    avg_range = (df['high'] - df['low']).rolling(window=5).mean()
    range_ratio = (df['high'] - df['low']) / avg_range
    heuristics_matrix = ((close_momentum_10 + close_momentum_20) / 2) * range_ratio
    return heuristics_matrix
