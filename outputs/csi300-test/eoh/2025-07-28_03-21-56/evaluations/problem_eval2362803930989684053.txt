import pandas as pd

def heuristics_v2(df):
    close = df['close']
    ema_short = close.ewm(span=10, adjust=False).mean()
    ema_long = close.ewm(span=50, adjust=False).mean()
    delta = close.diff(1)
    up = delta.clip(lower=0)
    down = -1 * delta.clip(upper=0)
    ema_up = up.ewm(com=13, adjust=False).mean()
    ema_down = down.ewm(com=13, adjust=False).mean()
    rs = ema_up / ema_down
    rsi = 100 - (100 / (1 + rs))
    momentum = close / close.shift(1) - 1
    heuristics_matrix = (ema_short - ema_long) / rsi + momentum
    return heuristics_matrix
