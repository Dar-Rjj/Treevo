import pandas as pd

def heuristics_v2(df):
    close = df['close']
    ma_short = close.rolling(window=10).mean()
    ma_long = close.rolling(window=50).mean()
    std_dev = close.rolling(window=30).std()
    momentum_smoothed = close.ewm(span=10, adjust=False).mean().pct_change()
    heuristics_matrix = (ma_short / ma_long) - (std_dev * 0.5) + momentum_smoothed
    return heuristics_matrix
