[
     {
          "algorithm": "The new algorithm calculates a novel factor by measuring the relative distance of the closing price to both the 5-day maximum and minimum, then averaging these distances, thereby capturing a more balanced view of the stock's position within its recent price range.",
          "code": "def heuristics_v2(df):\n    df['5d_high'] = df['high'].rolling(window=5).max()\n    df['5d_low'] = df['low'].rolling(window=5).min()\n    df['rel_dist_to_5d_max'] = (df['5d_high'] - df['close']) / (df['5d_high'] - df['5d_low'])\n    df['rel_dist_to_5d_min'] = (df['close'] - df['5d_low']) / (df['5d_high'] - df['5d_low'])\n    df['avg_rel_dist'] = (df['rel_dist_to_5d_max'] + df['rel_dist_to_5d_min']) / 2\n    heuristics_matrix = df['avg_rel_dist'].dropna()\n    return heuristics_matrix",
          "objective": -0.10202,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a novel factor by measuring the exponential moving average (EMA) of the relative distance to 5-day high and low, instead of using a simple average, to give more weight to recent price movements.",
          "code": "def heuristics_v2(df):\n    df['5d_high'] = df['high'].rolling(window=5).max()\n    df['5d_low'] = df['low'].rolling(window=5).min()\n    df['rel_dist_to_5d_max'] = (df['5d_high'] - df['close']) / (df['5d_high'] - df['5d_low'])\n    df['rel_dist_to_5d_min'] = (df['close'] - df['5d_low']) / (df['5d_high'] - df['5d_low'])\n    df['avg_rel_dist_ema'] = df[['rel_dist_to_5d_max', 'rel_dist_to_5d_min']].mean(axis=1).ewm(span=5, adjust=False).mean()\n    heuristics_matrix = df['avg_rel_dist_ema'].dropna()\n    return heuristics_matrix",
          "objective": -0.10192,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the weighted average of the volume and amount over the past 30 days, where weights are determined by the squared difference of the closing price from its 20-day mean, aiming to emphasize larger deviations in price.",
          "code": "def heuristics_v2(df):\n    df['20d_mean_close'] = df['close'].rolling(window=20).mean()\n    df['squared_dist_to_20d_mean'] = (df['close'] - df['20d_mean_close']) ** 2\n    total_weight = df['squared_dist_to_20d_mean'].rolling(window=30).sum()\n    df['weighted_volume'] = df['volume'] * df['squared_dist_to_20d_mean']\n    df['weighted_amount'] = df['amount'] * df['squared_dist_to_20d_mean']\n    df['weighted_avg'] = (df['weighted_volume'].rolling(window=30).sum() + df['weighted_amount'].rolling(window=30).sum()) / total_weight\n    heuristics_matrix = df['weighted_avg'].dropna()\n    return heuristics_matrix",
          "objective": -0.03731,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the weighted average of the volume and amount over the past 30 days, where weights are determined by the squared difference of the closing price from its 5-day mean, aiming to give more emphasis on larger deviations and shorter-term momentum.",
          "code": "def heuristics_v2(df):\n    df['5d_mean_close'] = df['close'].rolling(window=5).mean()\n    df['sq_dist_to_5d_mean'] = (df['close'] - df['5d_mean_close'])**2\n    total_weight = df['sq_dist_to_5d_mean'].rolling(window=30).sum()\n    df['weighted_volume'] = df['volume'] * df['sq_dist_to_5d_mean']\n    df['weighted_amount'] = df['amount'] * df['sq_dist_to_5d_mean']\n    df['weighted_avg'] = (df['weighted_volume'].rolling(window=30).sum() + df['weighted_amount'].rolling(window=30).sum()) / total_weight\n    heuristics_matrix = df['weighted_avg'].dropna()\n    return heuristics_matrix",
          "objective": -0.03659,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristic score by integrating the 10-day moving average (MA) of high prices with the 20-day Exponential Moving Average (EMA) of volume, capturing both trend and liquidity effects.",
          "code": "def heuristics_v2(df):\n    # Calculate the 10-day Moving Average (MA) of high prices\n    ma_high = df['high'].rolling(window=10).mean()\n    \n    # Calculate the 20-day Exponential Moving Average (EMA) of volume\n    ema_volume = df['volume'].ewm(span=20, adjust=False).mean()\n    \n    # Create a heuristic score by combining MA of high prices and EMA of volume\n    heuristics_matrix = (ma_high * ema_volume).dropna()\n    \n    return heuristics_matrix",
          "objective": -0.03605,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the weighted average of the volume and amount over the past 20 days, where weights are determined by the absolute difference of the closing price from its 10-day mean, aiming to capture liquidity and momentum effects with a focus on price deviations.",
          "code": "def heuristics_v2(df):\n    df['10d_mean_close'] = df['close'].rolling(window=10).mean()\n    df['abs_dist_to_10d_mean'] = abs(df['close'] - df['10d_mean_close'])\n    total_weight = df['abs_dist_to_10d_mean'].rolling(window=20).sum()\n    df['weighted_volume'] = df['volume'] * df['abs_dist_to_10d_mean']\n    df['weighted_amount'] = df['amount'] * df['abs_dist_to_10d_mean']\n    df['weighted_avg'] = (df['weighted_volume'].rolling(window=20).sum() + df['weighted_amount'].rolling(window=20).sum()) / total_weight\n    heuristics_matrix = df['weighted_avg'].dropna()\n    return heuristics_matrix",
          "objective": -0.03591,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the weighted average of the volume and amount over the past 20 days, where weights are determined by the squared distance of the closing price from its 10-day mean, aiming to capture liquidity and momentum effects.",
          "code": "def heuristics_v2(df):\n    df['10d_mean_close'] = df['close'].rolling(window=10).mean()\n    df['sq_dist_to_10d_mean'] = (df['close'] - df['10d_mean_close']) ** 2\n    total_weight = df['sq_dist_to_10d_mean'].rolling(window=20).sum()\n    df['weighted_volume'] = df['volume'] * df['sq_dist_to_10d_mean']\n    df['weighted_amount'] = df['amount'] * df['sq_dist_to_10d_mean']\n    df['weighted_avg'] = (df['weighted_volume'].rolling(window=20).sum() + df['weighted_amount'].rolling(window=20).sum()) / total_weight\n    heuristics_matrix = df['weighted_avg'].dropna()\n    return heuristics_matrix",
          "objective": -0.03583,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the weighted average of the volume and amount over the past 15 days, where weights are determined by the absolute distance of the closing price from its 7-day mean, aiming to capture liquidity and momentum effects.",
          "code": "def heuristics_v2(df):\n    df['7d_mean_close'] = df['close'].rolling(window=7).mean()\n    df['abs_dist_to_7d_mean'] = abs(df['close'] - df['7d_mean_close'])\n    total_weight = df['abs_dist_to_7d_mean'].rolling(window=15).sum()\n    df['weighted_volume'] = df['volume'] * df['abs_dist_to_7d_mean']\n    df['weighted_amount'] = df['amount'] * df['abs_dist_to_7d_mean']\n    df['weighted_avg'] = (df['weighted_volume'].rolling(window=15).sum() + df['weighted_amount'].rolling(window=15).sum()) / total_weight\n    heuristics_matrix = df['weighted_avg'].dropna()\n    return heuristics_matrix",
          "objective": -0.03482,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a novel factor by averaging the relative distance of the closing price to both the 20-day maximum and minimum, providing a more smoothed view over a longer recent price range.",
          "code": "def heuristics_v2(df):\n    df['20d_high'] = df['high'].rolling(window=20).max()\n    df['20d_low'] = df['low'].rolling(window=20).min()\n    df['rel_dist_to_20d_max'] = (df['20d_high'] - df['close']) / (df['20d_high'] - df['20d_low'])\n    df['rel_dist_to_20d_min'] = (df['close'] - df['20d_low']) / (df['20d_high'] - df['20d_low'])\n    df['avg_rel_dist'] = (df['rel_dist_to_20d_max'] + df['rel_dist_to_20d_min']) / 2\n    heuristics_matrix = df['avg_rel_dist'].dropna()\n    return heuristics_matrix",
          "objective": -0.03146,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristic score by integrating the 14-day moving average (MA) of closing prices with the 14-day RSI, capturing both trend and momentum.",
          "code": "def heuristics_v2(df):\n    # Calculate the 14-day Relative Strength Index (RSI)\n    delta = df['close'].diff(1)\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    rsi = 100 - (100 / (1 + rs))\n\n    # Calculate the 14-day Moving Average (MA) of closing prices\n    ma = df['close'].rolling(window=14).mean()\n\n    # Create a heuristic score by combining RSI and MA\n    heuristics_matrix = (rsi / ma).dropna()\n    \n    return heuristics_matrix",
          "objective": -0.02421,
          "other_inf": null
     }
]