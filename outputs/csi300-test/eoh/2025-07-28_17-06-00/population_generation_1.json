[
     {
          "algorithm": "The new algorithm calculates a factor based on the exponential moving average (EMA) of the trading amount and the ratio of the closing price to the EMA of the closing price, aiming to capture both liquidity and price trend information.",
          "code": "def heuristics_v2(df):\n    # Define the lookback window for calculations\n    window_size = 20\n    \n    # Calculate the exponential moving average (EMA) of the closing price\n    df['ema_close'] = df['close'].ewm(span=window_size, adjust=False).mean()\n    \n    # Calculate the EMA of the trading amount\n    df['ema_amount'] = df['amount'].ewm(span=window_size, adjust=False).mean()\n    \n    # Construct the heuristics matrix by combining the EMA of the trading amount and the ratio of the closing price to its EMA\n    heuristics_matrix = df['ema_amount'] * (df['close'] / df['ema_close'])\n    \n    return heuristics_matrix",
          "objective": -0.03662,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm introduces a weighted sum of the EMA of the trading amount and the ratio of the closing price to its EMA, where weights are determined by the standard deviation of the closing prices over the lookback window, aiming to capture liquidity and trend adjusted for volatility.",
          "code": "def heuristics_v2(df):\n    window_size = 20\n    df['ema_close'] = df['close'].ewm(span=window_size, adjust=False).mean()\n    df['ema_amount'] = df['amount'].ewm(span=window_size, adjust=False).mean()\n    std_close = df['close'].rolling(window=window_size).std()\n    weight_close_ratio = std_close / (std_close + df['amount'].rolling(window=window_size).std())\n    heuristics_matrix = (df['close'] / df['ema_close']) * weight_close_ratio + df['ema_amount'] * (1 - weight_close_ratio)\n    return heuristics_matrix",
          "objective": -0.03659,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm, named AlphaHeuristics, identifies potential alpha factors by first calculating the percentage change in closing prices over a fixed period, then applying a weighted moving average to this change using trade volume as weights, and finally, adding a momentum indicator calculated from the high and low prices.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate percentage change in close price\n    df['pct_change_close'] = df['close'].pct_change()\n    \n    # Compute weighted moving average with 'volume' as weights\n    window_size = 30\n    df['wma'] = (df['pct_change_close'] * df['volume']).rolling(window=window_size).sum() / df['volume'].rolling(window=window_size).sum()\n    \n    # Add momentum indicator: ratio of high/low over a period\n    df['momentum'] = df['high'].rolling(window=window_size).mean() / df['low'].rolling(window=window_size).mean()\n    \n    # Heuristic formula: Weighted Moving Average + Momentum\n    heuristics_matrix = df['wma'] + df['momentum']\n    \n    return heuristics_matrix",
          "objective": -0.02521,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm leverages the directional movement of stock prices alongside the accumulation and distribution of trading volume to infer future stock price movements.",
          "code": "def heuristics_v2(df):\n    # Calculate daily price change\n    price_change = df['close'].diff(1).fillna(0)\n    \n    # Calculate the difference between high and low as a measure of intraday volatility\n    intraday_volatility = (df['high'] - df['low']).rolling(window=10).mean()\n    \n    # Compute the cumulative difference between up and down days in volume\n    volume_diff = (df['volume'] * (price_change > 0) - df['volume'] * (price_change < 0)).cumsum()\n    \n    # Combine the intraday volatility with the volume difference\n    heuristics_matrix = intraday_volatility * volume_diff\n    \n    return heuristics_matrix",
          "objective": -0.0249,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm constructs an alpha factor by integrating the rate of change in closing price, the relative strength index (RSI) of volume, and the average true range (ATR) to capture momentum, volume strength, and market volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    close = df['close']\n    volume = df['volume']\n    high = df['high']\n    low = df['low']\n    \n    # Rate of Change (ROC) for closing price over a 10-day period\n    roc_close = close.pct_change(periods=10)\n    \n    # Relative Strength Index (RSI) for volume over a 14-day period\n    delta_volume = volume.diff()\n    up_days = delta_volume.clip(lower=0)\n    down_days = -delta_volume.clip(upper=0)\n    ema_up = up_days.ewm(span=14, adjust=False).mean()\n    ema_down = down_days.ewm(span=14, adjust=False).mean()\n    rs = ema_up / ema_down\n    rsi_volume = 100 - (100 / (1 + rs))\n    \n    # Average True Range (ATR) over a 14-day period\n    tr = pd.concat([high - low, abs(high - close.shift()), abs(low - close.shift())], axis=1).max(axis=1)\n    atr = tr.ewm(span=14, adjust=False).mean()\n    \n    # Alpha factor as a combination of ROC close, RSI volume, and ATR\n    heuristics_matrix = (roc_close + rsi_volume) * atr\n    \n    return heuristics_matrix",
          "objective": -0.02044,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm constructs an alpha factor by integrating the rate of change in closing price over a 5-day period, the RSI of volume over a 7-day period, and ATR over a 7-day period to capture short-term momentum, volume strength, and market volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    close = df['close']\n    volume = df['volume']\n    high = df['high']\n    low = df['low']\n    \n    # Rate of Change (ROC) for closing price over a 5-day period\n    roc_close = close.pct_change(periods=5)\n    \n    # Relative Strength Index (RSI) for volume over a 7-day period\n    delta_volume = volume.diff()\n    up_days = delta_volume.clip(lower=0)\n    down_days = -delta_volume.clip(upper=0)\n    ema_up = up_days.ewm(span=7, adjust=False).mean()\n    ema_down = down_days.ewm(span=7, adjust=False).mean()\n    rs = ema_up / ema_down\n    rsi_volume = 100 - (100 / (1 + rs))\n    \n    # Average True Range (ATR) over a 7-day period\n    tr = pd.concat([high - low, abs(high - close.shift()), abs(low - close.shift())], axis=1).max(axis=1)\n    atr = tr.ewm(span=7, adjust=False).mean()\n    \n    # Alpha factor as a combination of ROC close, RSI volume, and ATR\n    heuristics_matrix = (roc_close + rsi_volume) * atr\n    \n    return heuristics_matrix",
          "objective": -0.0199,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a novel alpha factor by combining the exponential moving average (EMA) of the closing price with a span of 20, the percentage change in volume over a 15-day period, and the ratio of the highest to lowest price within a 20-day lookback window.",
          "code": "def heuristics_v2(df):\n    close = df['close']\n    volume = df['volume']\n    high = df['high']\n    low = df['low']\n    \n    # Exponential Moving Average for closing price\n    ema_close = close.ewm(span=20, adjust=False).mean()\n    \n    # Percentage change in volume over a 15-day period\n    pct_change_volume = volume.pct_change(periods=15)\n    \n    # Ratio of highest to lowest price within a 20-day lookback window\n    high_low_ratio = high.rolling(window=20).max() / low.rolling(window=20).min()\n    \n    # Alpha factor as a combination of EMA close, % change in volume, and high-low ratio\n    heuristics_matrix = (ema_close + pct_change_volume) * high_low_ratio\n    \n    return heuristics_matrix",
          "objective": -0.01934,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm generates a novel alpha factor by combining the exponential moving average (EMA) of the closing price with a 20-day span, the percentage change in volume over a 10-day period, and the ratio of the highest to lowest price within a 20-day lookback window.",
          "code": "def heuristics_v2(df):\n    close = df['close']\n    volume = df['volume']\n    high = df['high']\n    low = df['low']\n    \n    # Exponential Moving Average for closing price with a 20-day span\n    ema_close = close.ewm(span=20, adjust=False).mean()\n    \n    # Percentage change in volume over a 10-day period\n    pct_change_volume = volume.pct_change(periods=10)\n    \n    # Ratio of highest to lowest price within a 20-day lookback window\n    high_low_ratio = high.rolling(window=20).max() / low.rolling(window=20).min()\n    \n    # Alpha factor as a combination of EMA close, % change in volume, and high-low ratio\n    heuristics_matrix = (ema_close + pct_change_volume) * high_low_ratio\n    \n    return heuristics_matrix",
          "objective": -0.01851,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm generates a novel alpha factor by combining the exponential moving average (EMA) of the closing price, the percentage change in volume over a short period, and the ratio of the highest to lowest price within a lookback window, to capture trend, volatility, and relative price movement.",
          "code": "def heuristics_v2(df):\n    close = df['close']\n    volume = df['volume']\n    high = df['high']\n    low = df['low']\n    \n    # Exponential Moving Average for closing price\n    ema_close = close.ewm(span=10, adjust=False).mean()\n    \n    # Percentage change in volume over a 5-day period\n    pct_change_volume = volume.pct_change(periods=5)\n    \n    # Ratio of highest to lowest price within a 10-day lookback window\n    high_low_ratio = high.rolling(window=10).max() / low.rolling(window=10).min()\n    \n    # Alpha factor as a combination of EMA close, % change in volume, and high-low ratio\n    heuristics_matrix = (ema_close + pct_change_volume) * high_low_ratio\n    \n    return heuristics_matrix",
          "objective": -0.01843,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates an alpha factor by combining the momentum of price changes with a modified measure of volatility, represented through the exponentially weighted moving average (EWMA) of daily returns, and adjusts this with the average volume over a trailing period.",
          "code": "def heuristics_v2(df):\n    # Calculate daily returns\n    daily_return = df['close'].pct_change()\n    \n    # Exponentially weighted moving average of daily returns as a proxy for volatility\n    ewma_daily_returns = daily_return.ewm(span=20, adjust=False).std()\n    \n    # Average volume over a trailing 20 day window to capture steady liquidity trends\n    avg_volume = df['volume'].rolling(window=20).mean()\n    \n    # Combine the EWMA (volatility) with the average volume\n    heuristics_matrix = ewma_daily_returns * avg_volume\n    \n    return heuristics_matrix",
          "objective": -0.01709,
          "other_inf": null
     }
]