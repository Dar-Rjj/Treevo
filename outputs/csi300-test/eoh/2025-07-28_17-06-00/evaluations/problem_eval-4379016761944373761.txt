def heuristics_v2(df):
    # Calculate rate of change for close price over 20 days
    roc_close = (df['close'] - df['close'].shift(20)) / df['close'].shift(20)
    
    # Calculate the average true range over a 7-day window
    atr = df['high'] - df['low']
    avg_true_range = atr.rolling(window=7).mean()
    ratio_high_low_atr = (df['high'] - df['low']) / avg_true_range
    
    # Heuristic formula: ROC of Close * Ratio of (High - Low) to ATR
    heuristics_matrix = roc_close * ratio_high_low_atr
    
    return heuristics_matrix
