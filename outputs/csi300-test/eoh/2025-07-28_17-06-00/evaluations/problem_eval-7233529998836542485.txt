def heuristics_v2(df):
    # Define the lookback window for calculations
    window_size = 20
    
    # Calculate the standard deviation of the closing price over the lookback window
    std_close = df['close'].rolling(window=window_size).std()
    
    # Calculate the average trading volume over the lookback window
    avg_volume = df['volume'].rolling(window=window_size).mean()
    
    # Find the highest trading volume within the lookback window
    max_volume = df['volume'].rolling(window=window_size).max()
    
    # Construct the heuristics matrix by combining the standard deviation of the closing price and the ratio of average to maximum volume
    heuristics_matrix = std_close * (avg_volume / max_volume)
    
    return heuristics_matrix
