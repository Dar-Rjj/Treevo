import pandas as pd

def heuristics_v2(df):
    # Calculate the exponential moving averages
    ema_5 = df['close'].ewm(span=5, adjust=False).mean()
    ema_10 = df['close'].ewm(span=10, adjust=False).mean()

    # Calculate the average true range
    tr = df[['high', 'low']].max(axis=1) - df[['high', 'low']].min(axis=1)
    atr = tr.rolling(window=14).mean()

    # Combine the factors into a single heuristic
    heuristics_matrix = (ema_5 - ema_10) + 0.5 * atr

    return heuristics_matrix
