import pandas as pd

def heuristics_v2(df):
    # Calculate 20-day EMA of close prices
    ema_20 = df['close'].ewm(span=20, adjust=False).mean()
    # Rate of change in 20-day EMA
    ema_change_rate = ema_20.pct_change()
    
    # Ratio of today's volume to 30-day mean volume
    volume_ratio = df['volume'] / df['volume'].rolling(window=30).mean()
    
    # Relative difference between the current close and the 10-day low
    low_10 = df['low'].rolling(window=10).min()
    low_distance = (df['close'] - low_10) / low_10
    
    # Combine into a single heuristics matrix
    heuristics_matrix = ema_change_rate + volume_ratio + low_distance
    return heuristics_matrix
