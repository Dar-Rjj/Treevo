import pandas as pd

def heuristics_v2(df):
    def average_true_range(high, low, close, period=14):
        tr = pd.DataFrame(index=close.index)
        tr['HL'] = high - low
        tr['HC'] = abs(high - close.shift(1))
        tr['LC'] = abs(low - close.shift(1))
        tr['TR'] = tr[['HL', 'HC', 'LC']].max(axis=1)
        atr = tr['TR'].rolling(window=period).mean()
        return atr

    def on_balance_volume(close, volume, period=20):
        obv = (volume * ((close > close.shift(1)).astype(int) - (close < close.shift(1)).astype(int))).cumsum()
        obv_change = obv.diff(period)
        return obv_change

    sma_close = df['close'].rolling(window=20).mean()
    atr = average_true_range(df['high'], df['low'], df['close'])
    obv_change = on_balance_volume(df['close'], df['volume'])
    
    heuristics_matrix = (atr / sma_close) + obv_change
    return heuristics_matrix
