def heuristics_v2(df):
    # Calculate the 30-day exponential moving average of the closing prices
    ema_close = df['close'].ewm(span=30, adjust=False).mean()
    # Calculate the 30-day average volume
    avg_volume = df['volume'].rolling(window=30).mean()
    # Calculate the volume-to-average-volume ratio
    vol_ratio = df['volume'] / avg_volume
    # Combine the EMA of closing prices with the volume ratio to create the heuristics matrix
    heuristics_matrix = (ema_close + vol_ratio).dropna()
    return heuristics_matrix
