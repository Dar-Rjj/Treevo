[
     {
          "algorithm": "The new algorithm calculates a heuristic factor by incorporating the relative change in trading volume over the past 30 days compared to the 150-day moving average, and further adjusts this ratio by the percentage change in the closing price over a 30-day period, giving insight into liquidity and price trend.",
          "code": "def heuristics_v2(df):\n    avg_vol_30 = df['volume'].rolling(window=30).mean()\n    avg_vol_150 = df['volume'].rolling(window=150).mean()\n    close_change_30 = df['close'].pct_change(periods=30)\n    heuristics_matrix = (avg_vol_30 / avg_vol_150) * (1 + close_change_30)\n    return heuristics_matrix",
          "objective": -0.0306,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristic factor by assessing the ratio of the average trading volume over the past 30 days to the 250-day moving average of the trading volume, indicating periods of relative liquidity and potential for price movement.",
          "code": "def heuristics_v2(df):\n    avg_vol_30 = df['volume'].rolling(window=30).mean()\n    avg_vol_250 = df['volume'].rolling(window=250).mean()\n    heuristics_matrix = avg_vol_30 / avg_vol_250\n    return heuristics_matrix",
          "objective": -0.02946,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristic factor by evaluating the ratio of the average trading volume over the past 20 days to the 200-day moving average of the trading volume, indicating periods of relative liquidity and potential for price movement.",
          "code": "def heuristics_v2(df):\n    avg_vol_20 = df['volume'].rolling(window=20).mean()\n    avg_vol_200 = df['volume'].rolling(window=200).mean()\n    heuristics_matrix = avg_vol_20 / avg_vol_200\n    return heuristics_matrix",
          "objective": -0.02864,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristic factor by incorporating the relative change in trading volume over the past 20 days compared to the 200-day moving average, and further adjusts this ratio by the percentage change in the closing price over the same 20-day period, providing a more nuanced view of potential liquidity and price movement.",
          "code": "def heuristics_v2(df):\n    avg_vol_20 = df['volume'].rolling(window=20).mean()\n    avg_vol_200 = df['volume'].rolling(window=200).mean()\n    close_change_20 = df['close'].pct_change(periods=20)\n    heuristics_matrix = (avg_vol_20 / avg_vol_200) * (1 + close_change_20)\n    return heuristics_matrix",
          "objective": -0.02692,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a value-weighted average of the daily range (high - low) over the past 10 days, aiming to capture short-term market volatility.",
          "code": "def heuristics_v2(df):\n    daily_range = df['high'] - df['low']\n    weighted_average = (daily_range * df['volume']).rolling(window=10).sum() / df['volume'].rolling(window=10).sum()\n    heuristics_matrix = weighted_average\n    return heuristics_matrix",
          "objective": -0.02154,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a custom heuristics factor by combining the rate of change of trading volume with the average true range over a specified period, aiming to capture both volatility and trading activity.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate the rate of change of volume\n    roc_volume = df['volume'].pct_change()\n    # Calculate the average true range over a 14-day window\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=14).mean()\n    # Combine the two factors to create a new heuristics matrix\n    heuristics_matrix = (roc_volume + atr).dropna()\n    return heuristics_matrix",
          "objective": -0.0211,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a heuristics factor by combining the exponential moving average of the rate of change of trading volume with the simple moving average of the true range over a 14-day period, aiming to provide a more smoothed and responsive measure of both volatility and trading activity.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate the rate of change of volume\n    roc_volume = df['volume'].pct_change()\n    # Apply an exponential moving average to the rate of change of volume\n    ema_roc_volume = roc_volume.ewm(span=14, adjust=False).mean()\n    # Calculate the true range\n    tr = df['high'] - df['low']\n    # Calculate the simple moving average of the true range over a 14-day window\n    sma_tr = tr.rolling(window=14).mean()\n    # Combine the two factors to create a new heuristics matrix\n    heuristics_matrix = (ema_roc_volume + sma_tr).dropna()\n    return heuristics_matrix",
          "objective": -0.02107,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a value-weighted average of the daily range (high - low) over the past 20 days, but instead of using volume directly as the weight, it uses the product of volume and the percentage change in closing price from the previous day to capture both volatility and momentum trends.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    daily_range = df['high'] - df['low']\n    pct_change_close = df['close'].pct_change().fillna(0)\n    weighted_factor = df['volume'] * (1 + pct_change_close)\n    weighted_average = (daily_range * weighted_factor).rolling(window=20).sum() / weighted_factor.rolling(window=20).sum()\n    heuristics_matrix = weighted_average\n    return heuristics_matrix",
          "objective": -0.02094,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a value-weighted average of the daily range (high - low) over the past 20 days, aiming to capture the trend in market volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    daily_range = df['high'] - df['low']\n    weighted_average = (daily_range * df['volume']).rolling(window=20).sum() / df['volume'].rolling(window=20).sum()\n    heuristics_matrix = weighted_average\n    return heuristics_matrix",
          "objective": -0.02092,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates an exponentially weighted moving average (EWMA) of the daily range (high - low), aiming to give more weight to recent days, thus reflecting a dynamic trend in market volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    daily_range = df['high'] - df['low']\n    ewma_daily_range = daily_range.ewm(span=20, adjust=False).mean()\n    heuristics_matrix = ewma_daily_range\n    return heuristics_matrix",
          "objective": -0.02045,
          "other_inf": null
     }
]