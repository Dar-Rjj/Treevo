def heuristics_v2(df):
    # Calculate the 14-day Average True Range (ATR)
    df['tr'] = df[['high', 'low', 'close']].apply(lambda x: max(x[0], x[1]) - min(x[0], x[1]), axis=1)
    atr = df['tr'].rolling(window=14).mean()
    
    # Calculate the 20-day exponentially weighted moving average (EWMA) of the closing price
    ewma_20 = df['close'].ewm(span=20, adjust=False).mean()
    
    # Calculate the 50-day simple moving average of the closing price
    ma_50 = df['close'].rolling(window=50).mean()
    
    # Calculate the difference between the current close and the 50-day simple moving average
    diff_close_ma_50 = df['close'] - ma_50
    
    # Combine the ATR, EWMA, and the difference between the current close and 50-day SMA
    heuristics_matrix = (atr / ewma_20) + diff_close_ma_50
    
    return heuristics_matrix
