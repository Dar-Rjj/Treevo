```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate daily return
    df['daily_return'] = df['close'].pct_change()
    
    # Calculate realized volatility over 20 days
    df['log_returns'] = np.log(df['close']).diff()
    df['realized_volatility'] = df['log_returns'].rolling(window=20).std() * np.sqrt(252)
    
    # Calculate simple moving averages and their crossover
    df['SMA_20'] = df['close'].rolling(window=20).mean()
    df['SMA_50'] = df['close'].rolling(window=50).mean()
    df['SMA_200'] = df['close'].rolling(window=200).mean()
    df['SMA_crossover'] = (df['SMA_50'] - df['SMA_200']) / df['SMA_200']
    df['price_relative_to_SMA'] = (df['close'] - df['SMA_20']) / df['SMA_20']
    
    # Volume indicators
    df['volume_change'] = df['volume'].pct_change()
    df['SMA_20_volume'] = df['volume'].rolling(window=20).mean()
    df['volume_relative_to_SMA'] = (df['volume'] - df['SMA_20_volume']) / df['SMA_20_volume']
    
    # High-Low spread analysis
    df['high_low_diff_over_time'] = (df['high'] - df['low']) / (df['high'].shift(1) - df['low'].shift(1))
    df['high_low_diff_over_close'] = (df['high'] - df['low']) / df['close']
    
    # Trading range analysis
    df['upper_range'] = (df['high'].rolling(window=20).max() == df['high']).astype(int)
    df['percentage_in_upper_range'] = df['upper_range'].rolling(window=20).mean()
    
    df['lower_range'] = (df['low'].rolling(window=20).min() == df['low']).astype(int)
    df['percentage_in_lower_range'] = df['lower_range'].rolling(window=20).mean()
    
    # Order imbalance
    up_days = (df['close'] > df['close'].shift(1)).astype(int)
    down_days = (df['close'] < df['close'].shift(1)).astype(int)
    df['up_volume'] = df['volume'] * up_days
    df['down_volume'] = df['volume'] * down_days
    df['order_imbalance'] = (df['up_volume'].rolling(window=20).sum() - df['down_volume'].rolling(window=20).sum()) / df['volume'].rolling(window=20).sum()
    
    # Combine all factors into a single alpha factor
    alpha_factor = (
        df['daily_return'] +
        df['realized_volatility'] +
        df['SMA_crossover'] +
        df['price_relative_to_SMA'] +
        df['volume_change'] +
        df['volume_relative_to_SMA'] +
        df['high_low_diff_over_time'] +
        df['high_low_diff_over_close'] +
        df['percentage_in_upper_range'] -
        df['percentage_in_lower_range'] +
        df['order_imbalance']
    )
    
    return alpha_factor.dropna()

# Example usage
# df = pd.read_csv('your_data.csv', index_col='date', parse_dates=True)
# alpha_factor = heuristics_v2(df)
# print(alpha_factor)
```
