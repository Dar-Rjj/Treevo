```python
import pandas as pd
import numpy as np

def heuristics_v2(df, lookback_period=20, smoothing_factor=0.5):
    # Calculate Intraday Volatility
    intraday_volatility = df['high'] - df['low']
    
    # Calculate Volume-Adjusted Typical Price (VATP)
    typical_price = (df['high'] + df['low'] + 2 * df['close']) / 4
    volume_adjusted_typical_price = typical_price * np.sqrt(df['volume'])
    sum_volume = df['volume'].rolling(window=lookback_period).sum()
    vatp = (volume_adjusted_typical_price.rolling(window=lookback_period).sum()) / sum_volume
    
    # Calculate Momentum
    momentum = (df['close'] - df['close'].shift(lookback_period)) / df['close'].shift(lookback_period)
    
    # Adjust for Volume Changes
    volume_ratio = df['volume'] / df['volume'].shift(lookback_period)
    volume_adjusted_momentum = momentum + (momentum * volume_ratio)
    
    # Calculate Enhanced Intraday Price Range
    average_volume = df['volume'].rolling(window=lookback_period).mean()
    enhanced_intraday_price_range = (df['high'] - df['low']) * (df['volume'] / average_volume)
    
    # Combine Intraday Volatility, VATP, and Enhanced Intraday Price Range
    factor = (df['high'] - vatp) + (vatp - df['low']) + enhanced_intraday_price_range
    
    # Apply an exponential moving average to smooth the factor
    smoothed_factor = factor.ewm(alpha=smoothing_factor, adjust=False).mean()
    
    return smoothed_factor
```
