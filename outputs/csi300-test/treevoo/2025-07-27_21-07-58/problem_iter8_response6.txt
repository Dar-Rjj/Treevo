```python
import pandas as pd

def heuristics_v2(df):
    # Calculate daily returns
    df['returns'] = df['close'].pct_change()
    
    # Short-term and long-term momentum
    df['short_momentum'] = df['returns'].rolling(window=5).sum() - df['close'].rolling(window=5).mean()
    df['long_momentum'] = df['returns'].rolling(window=20).sum() - df['close'].rolling(window=20).mean()

    # True range and average true range
    df['true_range'] = df[['high', 'low', 'close']].apply(
        lambda x: max(x[0] - x[1], abs(x[0] - x[2]), abs(x[1] - x[2])), axis=1
    )
    df['atr_14'] = df['true_range'].rolling(window=14).mean()

    # Combine momentum and volatility
    df['momentum_combined'] = 0.6 * df['short_momentum'] + 0.4 * df['long_momentum']
    df['momentum_volatility_adj'] = df['momentum_combined'] / df['atr_14']

    # Volume and amount adjustments
    n = 10  # Number of periods to calculate average volume
    m = 10  # Number of periods to calculate average amount
    df['avg_volume'] = df['volume'].rolling(window=n).mean()
    df['avg_amount'] = df['amount'].rolling(window=m).mean()
    
    df['volume_ratio'] = df['volume'] / df['avg_volume']
    df['amount_ratio'] = df['amount'] / df['avg_amount']
    
    df['adjusted_factor'] = df['momentum_volatility_adj'] * df['volume_ratio'] * df['amount_ratio']

    # Trend following component
    df['sma_50'] = df['close'].rolling(window=50).mean()
    df['trend_multiplier'] = df.apply(lambda x: 1.2 if x['close'] > x['sma_50'] else 1, axis=1)
    
    # Final alpha factor
    df['alpha_factor'] = df['adjusted_factor'] * df['trend_multiplier']

    return df['alpha_factor']
```
