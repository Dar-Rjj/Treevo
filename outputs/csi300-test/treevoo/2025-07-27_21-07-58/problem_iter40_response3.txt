```python
import pandas as pd
import numpy as np

def heuristics_v2(df, N=10, M=5, K=7):
    # Calculate daily momentum
    df['daily_momentum'] = df['close'] - df['open']
    
    # Calculate volatility as the absolute value of the high-low range
    df['volatility'] = df['high'] - df['low']
    
    # Risk-adjusted return (daily momentum / volatility)
    df['risk_adjusted_return'] = df['daily_momentum'] / df['volatility']
    
    # Compute the weighted average of close prices over the past N days
    weights = np.arange(1, N+1)
    df['weighted_avg_close'] = (df['close'].rolling(window=N).apply(lambda x: np.average(x, weights=weights), raw=True))
    
    # Trend deviation
    df['trend_deviation'] = df['weighted_avg_close'] - df['close']
    
    # Measure the change in volume over the past M days
    df['volume_change'] = df['volume'] - df['volume'].shift(M)
    
    # Daily return
    df['return'] = df['close'].pct_change()
    
    # Correlation between volume change and return
    df['volume_change_return_corr'] = df['volume_change'].rolling(window=M).corr(df['return'])
    
    # Ratio of amount to volume (average price traded)
    df['avg_price_traded'] = df['amount'] / df['volume']
    
    # Trend of the average price traded over the past K days
    df['avg_price_trend'] = df['avg_price_traded'].rolling(window=K).mean()
    
    # Combine all factors into a single alpha factor
    # Normalize each component to have a mean of 0 and standard deviation of 1
    df['alpha_factor'] = (
        (df['risk_adjusted_return'] - df['risk_adjusted_return'].mean()) / df['risk_adjusted_return'].std() +
        (df['trend_deviation'] - df['trend_deviation'].mean()) / df['trend_deviation'].std() +
        (df['volume_change_return_corr'] - df['volume_change_return_corr'].mean()) / df['volume_change_return_corr'].std() +
        (df['avg_price_trend'] - df['avg_price_trend'].mean()) / df['avg_price_trend'].std()
    )
    
    return df['alpha_factor']
```
