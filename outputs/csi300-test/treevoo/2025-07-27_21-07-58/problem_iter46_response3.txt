```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate Simple Moving Averages (SMA)
    short_sma = df['close'].rolling(window=10).mean()
    long_sma = df['close'].rolling(window=30).mean()
    sma_diff = short_sma - long_sma

    # On-Balance Volume (OBV)
    obv = (np.sign(df['close'].diff()) * df['volume']).fillna(0).cumsum()
    
    # Relative Strength Index (RSI)
    delta = df['close'].diff(1)
    gain = (delta.where(delta > 0, 0)).fillna(0)
    loss = (-delta.where(delta < 0, 0)).fillna(0)
    avg_gain = gain.rolling(window=14).mean()
    avg_loss = loss.rolling(window=14).mean()
    rs = avg_gain / avg_loss
    rsi = 100 - (100 / (1 + rs))
    
    # Average True Range (ATR)
    tr1 = df['high'] - df['low']
    tr2 = abs(df['high'] - df['close'].shift())
    tr3 = abs(df['low'] - df['close'].shift())
    true_range = pd.concat([tr1, tr2, tr3], axis=1).max(axis=1)
    atr = true_range.rolling(window=14).mean()
    
    # Inside and Outside Bars
    inside_bar = (df['high'] < df['high'].shift()) & (df['low'] > df['low'].shift())
    outside_bar = (df['high'] > df['high'].shift()) & (df['low'] < df['low'].shift())
    
    # Linear Regression Slope
    close_prices = df['close'].values.reshape(-1, 1)
    index = np.arange(len(close_prices)).reshape(-1, 1)
    from sklearn.linear_model import LinearRegression
    model = LinearRegression()
    model.fit(index, close_prices)
    slope = model.coef_[0][0]
    
    # Combined Signals
    combined_signal = (rsi.shift() > rsi) & (obv.shift() < obv)
    
    # Custom Alpha
    alpha = (
        0.4 * sma_diff +
        0.3 * (atr.diff()) +
        0.2 * (inside_bar.astype(int) - outside_bar.astype(int)) +
        0.1 * slope
    )
    
    return alpha
```
