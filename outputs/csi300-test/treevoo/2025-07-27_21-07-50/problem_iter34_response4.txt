```python
import pandas as pd

def heuristics_v2(df, n=10):
    # Calculate the difference between today's close and yesterday's close (price momentum)
    df['price_momentum'] = df['close'].diff()
    
    # Examine how the difference in closing prices over n days correlates with future returns
    df['n_day_price_change'] = df['close'].pct_change(n).shift(-n)
    
    # Compute the ratio of today's volume to the average volume over the past n days (volume surprise)
    df['avg_volume_n_days'] = df['volume'].rolling(window=n).mean()
    df['volume_surprise'] = df['volume'] / df['avg_volume_n_days']
    
    # Measure the distance between high and low prices for a day (price range)
    df['price_range'] = df['high'] - df['low']
    
    # Assess the total transaction amount as a percentage of the stock's market capitalization (amount-to-cap ratio)
    # Assuming 'amount' is the total transaction amount and we have an estimate for market cap
    market_cap = df['close'] * df['volume']  # Simplified market cap calculation
    df['amount_to_cap_ratio'] = df['amount'] / market_cap
    
    # Combine all factors into a single alpha factor
    # Simple linear combination for demonstration purposes; can be optimized further
    df['alpha_factor'] = (
        0.4 * df['price_momentum'] + 
        0.3 * df['n_day_price_change'] + 
        0.15 * df['volume_surprise'] + 
        0.1 * df['price_range'] + 
        0.05 * df['amount_to_cap_ratio']
    )
    
    return df['alpha_factor'].dropna()
```
