```txt
Enhanced Intraday Momentum with Comprehensive Volatility, Reversal, Volume, and Price Spikes
├── Calculate Intraday Range
│   ├── High Price
│   ├── Low Price
│   └── Subtract Low from High
├── Identify Spikes
│   ├── Identify Volume Spikes
│   │   ├── Use Volume
│   │   └── Compare with Previous Volume
│   └── Identify Price Spikes
│       ├── Use Close Price
│       └── Compare with Previous Close Price
├── Introduce Volatility Adjustment
│   ├── Calculate Log Returns
│   │   ├── Use Close Prices of Current and Previous Day
│   │   └── Take Logarithm of (Current Close / Previous Close)
│   └── Compute Standard Deviation of Log Returns
│       ├── Over a Fixed Number of Days
│       └── Use Rolling Window
├── Scale Intraday Momentum
│   ├── Divide Intraday Range by Combined Spikes
│   │   └── Combine Volume and Price Spikes
│   └── Cap at a Threshold to Avoid Extreme Values
├── Calculate Intraday Midpoint
│   ├── Sum (High + Low)
│   └── Divide by 2
├── Calculate Opening Gap
│   ├── Use Open price
│   └── Use Close price from the previous day
│   └── Subtract Previous Close from Open
├── Combine Intraday Features
│   ├── Subtract Intraday Midpoint from Open price
│   └── Subtract Opening Gap from result
├── Enhance with Recent Volatility
│   ├── Calculate Absolute Price Change
│   │   ├── Use Current Close
│   │   └── Use Previous Close
│   │   └── Subtract Previous Close from Current Close
│   │   └── Take Absolute Value
│   └── Average Absolute Price Change over m periods
├── Adjust for Volume Spikes and Weight by Volume
    ├── Compare Current Volume to Previous Volume
    └── Scale Combined Feature by Volume Spike Factor
        └── Cap at Threshold to Avoid Extreme Values
    └── Multiply adjusted feature by Volume
    └── Adjust Combined Factor by Volume Spike
        └── Divide by Volume Spike
        └── Cap at a Threshold to Avoid Extreme Values
    └── Weight by Relative Volume
        └── Divide by Average Volume over n periods
        └── Multiply adjusted factor by this relative volume
├── Incorporate Combined Volume and Price Spikes
    ├── Calculate Volume Spike Factor
    │   └── Compare Current Volume to Moving Average of Volume over k periods
    ├── Calculate Price Spike Factor
    │   └── Compare Current Price Change to Moving Average of Price Change over k periods
    └── Scale Combined Feature by Combined Spike Factor
├── Add Recent Amount Trend
    ├── Calculate Sum of Amount over p periods
    └── Multiply combined feature by recent amount trend
├── Close-to-Open Return
│   ├── Close price
│   └── Open price
│   └── Subtract Open from Close
├── Price Change
│   ├── Current Close
│   └── Previous Close
│   └── Subtract Previous Close from Current Close
├── Enhanced Intraday Factor
│   ├── Average Intraday Range over n periods
│   └── Multiply by (Close-to-Open Return + Price Change)
│   └── Add Combined Intraday Features
├── Adjust Intraday Momentum
    └── Multiply Intraday Momentum by the Inverse of Standard Deviation
├── Final Factor
    ├── Multiply Enhanced Intraday Factor by Adjusted Recent Volatility
    └── Multiply by Volume Weight
    └── Multiply by Adjusted Intraday Momentum
└── Apply Moving Average Smoothing
    ├── Calculate Moving Average of Combined Feature
    │   ├── Use Combined Feature
    │   └── Over a Fixed Number of Days
    └── Use Smoothed Feature as Final Alpha
```
