```txt
Intraday Momentum and Volatility Enhanced with Price and Volume Characteristics
├── Calculate Intraday Momentum
│   └── Subtract Low from High
├── Adjust by Volume and Price Spikes
│   ├── Identify Volume Spikes
│   │   └── Compare with Previous Volume
│   └── Identify Price Spikes
│       └── Compare with Previous Close Price
├── Introduce Volatility Adjustment
│   ├── Calculate Log Returns
│   │   └── Take Logarithm of (Current Close / Previous Close)
│   └── Compute Standard Deviation of Log Returns
│       └── Use Rolling Window
│   └── Adjust Intraday Momentum
│       └── Multiply Intraday Momentum by the Inverse of Standard Deviation
├── Scale Intraday Momentum
│   ├── Combine Volume and Price Spikes
│   │   └── Add Volume Spike and Price Spike
│   └── Cap at a Threshold to Avoid Extreme Values
├── Calculate Intraday Range
│   └── Subtract Low from High
├── Calculate Intraday Midpoint
│   └── Divide (High + Low) by 2
├── Calculate Opening Gap
│   └── Subtract Previous Close from Open
├── Combine Intraday Features
│   └── Subtract (Intraday Midpoint - Opening Gap) from Open price
├── Calculate Close-to-Open Return
│   └── Subtract Open from Close
├── Calculate Price Change
│   └── Subtract Previous Close from Current Close
├── Combine Factors
│   └── Multiply Intraday Range by (Close-to-Open Return + Price Change)
├── Enhance with Recent Volatility
│   ├── Calculate Absolute Price Change
│   │   └── Take Absolute Value
│   └── Average Absolute Price Change over m periods
│   └── Multiply combined feature by this average
├── Adjust Combined Factor by Volume Spike
│   └── Divide by Volume Spike
│   └── Cap at a Threshold to Avoid Extreme Values
└── Weight by Relative Volume
    └── Divide by Average Volume over n periods
    └── Multiply adjusted factor by this relative volume
├── Incorporate Trading Volume Trend
│   ├── Calculate Volume Difference
│   │   └── Subtract Previous Volume from Current Volume
│   ├── Smooth Volume Trend
│   │   └── Apply Moving Average over k periods
│   └── Adjust Combined Factor by Volume Trend
│       └── Multiply combined factor by smoothed volume trend
├── Incorporate Price Trend
│   ├── Calculate Simple Moving Average (SMA)
│   │   └── Compute SMA over p periods
│   └── Adjust Combined Factor by Price Trend
│       └── Multiply combined factor by (Current Close - SMA)
└── Final Factor
    └── Sum all Adjusted Factors
    └── Cap at a Threshold to Avoid Extreme Values
```
