```txt
Intraday and Overnight Volatility with Enhanced Momentum, Volume, and Price Spikes
├── Intraday Range
│   ├── High price
│   └── Low price
│   └── Subtract Low from High
├── Close-to-Open Return
│   ├── Close price
│   └── Open price
│   └── Subtract Open from Close
├── Price Change
│   ├── Current Close
│   └── Previous Close
│   └── Subtract Previous Close from Current Close
├── Intraday Midpoint
│   ├── Sum (High + Low)
│   └── Divide by 2
├── Opening Gap
│   ├── Open price
│   └── Previous Close
│   └── Subtract Previous Close from Open
├── Combined Intraday Features
│   ├── Subtract Intraday Midpoint from Open price
│   └── Subtract Opening Gap from result
├── Enhanced Intraday Factor
│   ├── Average Intraday Range over n periods
│   └── Multiply by (Close-to-Open Return + Price Change)
│   └── Add Combined Intraday Features
├── Recent Volatility
│   ├── Calculate Absolute Price Change
│   │   ├── Current Close
│   │   └── Previous Close
│   │   └── Subtract Previous Close from Current Close
│   │   └── Take Absolute Value
│   └── Average Absolute Price Change over m periods
│   └── Multiply Enhanced Intraday Factor by this average
├── Adjust for Combined Volume and Price Spikes
│   ├── Compare Current Volume to Previous Volume
│   │   └── Calculate Volume Spike Factor
│   ├── Compare Current Price Change to Previous Price Change
│   │   └── Calculate Price Spike Factor
│   └── Scale Recent Volatility by Combined Spike Factor
│       └── Cap at Threshold to Avoid Extreme Values
├── Introduce Volatility Adjustment
│   ├── Calculate Log Returns
│   │   ├── Use Current Close Price
│   │   ├── Use Previous Day's Close Price
│   │   └── Take Logarithm of (Current Close / Previous Close)
│   ├── Compute Standard Deviation of Log Returns
│   │   ├── Over a Fixed Number of Days
│   │   └── Use Rolling Window
│   └── Adjust Intraday Momentum
│       └── Multiply Intraday Momentum by the Inverse of Standard Deviation
├── Apply Non-Linear Transformation to Smooth Out Extreme Values
    ├── Use Softmax Function
    │   ├── Apply Exponential to Scaled Intraday Momentum
    │   └── Normalize by Sum of Exponentials
    └── Apply Hyperbolic Tangent (tanh) Function
        └── Transform Scaled Intraday Momentum
├── Volume Adjusted Factor
    ├── Volume
    ├── Average Volume over k periods
    └── Divide Volume by Average Volume
    └── If Volume is greater than Average Volume, set to 1; otherwise, set to 0.5
    └── Multiply Scaled and Transformed Intraday Momentum by this adjusted volume factor
├── Transaction Intensity
    ├── Amount
    └── Volume
    └── Divide Amount by Volume
    └── Average Transaction Intensity over n periods
└── Volume and Transaction Intensity Adjustment
    ├── Volume
    ├── Average Volume over n periods
    │   └── Divide Volume by Average Volume
    ├── Transaction Intensity
    ├── Average Transaction Intensity over n periods
    │   └── Divide Transaction Intensity by Average Transaction Intensity
    └── Multiply Volume and Price Spike Adjusted Factor by this adjustment
├── Final Factor
    ├── Multiply Enhanced Intraday Factor by Adjusted Recent Volatility
    └── Multiply by Volume Weight
    └── Multiply by Adjusted Intraday Momentum
├── Incorporate Accumulated Volume
    ├── Calculate Accumulated Volume
    │   ├── Use Volume
    │   └── Sum over n days
    └── Normalize Combined Feature by Accumulated Volume
└── Apply Moving Average Smoothing
    ├── Calculate Moving Average of Combined Feature
    │   ├── Use Combined Feature
    │   └── Over a Fixed Number of Days
    └── Use Smoothed Feature as Final Alpha
└── Additive Momentum Component
    ├── Calculate Momentum
    │   ├── Current Close
    │   └── Close price n days ago
    │   └── Subtract Close price n days ago from Current Close
    ├── Normalize Momentum
    │   ├── Divide by Maximum Momentum in the last n days
    └── Add to Final Factor

