```python
import pandas as pd

def heuristics_v2(df, N=20, M=10, P=14, Q=10, R=20, S=10, T=14, U=20):
    # Sub-Thought 1: Momentum Indicators
    # Sub-Thought 1.1: Simple Moving Average (SMA)
    df['SMA'] = df['close'].rolling(window=N).mean()
    
    # Sub-Thought 1.2: Rate of Change (ROC)
    df['ROC'] = df['close'].pct_change(M) * 100
    
    # Sub-Thought 1.3: Relative Strength (RS)
    df['Gain'] = df['close'].diff().apply(lambda x: x if x > 0 else 0)
    df['Loss'] = -df['close'].diff().apply(lambda x: x if x < 0 else 0)
    df['AvgGain'] = df['Gain'].rolling(window=P).mean()
    df['AvgLoss'] = df['Loss'].rolling(window=P).mean()
    df['RS'] = df['AvgGain'] / df['AvgLoss']
    
    # Sub-Thought 1.4: Momentum (MOM)
    df['MOM'] = df['close'] - df['close'].shift(Q)
    
    # Sub-Thought 2: Volume-Related Features
    # Sub-Thought 2.1: Volume-Weighted Average Price (VWAP)
    df['TypicalPrice'] = (df['high'] + df['low'] + df['close']) / 3
    df['TP_Volume'] = df['TypicalPrice'] * df['volume']
    df['CumulativeTP_Volume'] = df['TP_Volume'].rolling(window=R).sum()
    df['CumulativeVolume'] = df['volume'].rolling(window=R).sum()
    df['VWAP'] = df['CumulativeTP_Volume'] / df['CumulativeVolume']
    
    # Sub-Thought 2.2: Volume Rate of Change (VROC)
    df['VROC'] = df['volume'].pct_change(S) * 100
    
    # Sub-Thought 2.3: On-Balance Volume (OBV)
    df['OBV'] = (df['close'] > df['close'].shift(1)) * df['volume'] + (df['close'] < df['close'].shift(1)) * -df['volume']
    df['OBV'] = df['OBV'].cumsum()
    
    # Sub-Thought 3: Volatility-Based Factors
    # Sub-Thought 3.1: True Range (TR)
    df['TR1'] = df['high'] - df['low']
    df['TR2'] = (df['high'] - df['close'].shift(1)).abs()
    df['TR3'] = (df['low'] - df['close'].shift(1)).abs()
    df['TR'] = df[['TR1', 'TR2', 'TR3']].max(axis=1)
    
    # Sub-Thought 3.2: Average True Range (ATR)
    df['ATR'] = df['TR'].rolling(window=T).mean()
    
    # Sub-Thought 3.3: Standard Deviation of Closing Prices
    df['STD_Close'] = df['close'].rolling(window=U).std()
    
    # Sub-Thought 4: Open-Close Relationship
    # Sub-Thought 4.1: Open-Close Ratio (OCR)
    df['OCR'] = df['close'] / df['open']
    
    # Sub-Thought 4.2: Gap Size (GS)
    df['GS'] = df['open'] - df['close'].shift(1)
    
    # Combine all factors into a single alpha factor
    df['AlphaFactor'] = (df['SMA'] + df['ROC'] + df['RS'] + df['MOM'] + 
                         df['VWAP'] + df['VROC'] + df['OBV'] + df['ATR'] + 
                         df['STD_Close'] + df['OCR'] + df['GS'])
    
    return df['AlphaFactor']

# Example usage:
# df = pd.read_csv('your_data.csv', parse_dates=['date'], index_col='date')
# alpha_factor = heuristics_v2(df)
```
