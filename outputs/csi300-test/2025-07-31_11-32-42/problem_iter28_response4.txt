```python
import pandas as pd

def heuristics_v2(df):
    # Parameters
    N = 10  # SMA window
    M = 10  # ROC window
    P = 14  # RS window
    Q = 10  # MOM window
    R = 10  # VWAP window
    S = 10  # VROC window
    T = 14  # ATR window
    U = 10  # STD window

    # Sub-Thought 1: Calculate momentum indicators
    df['SMA'] = df['close'].rolling(window=N).mean()
    df['ROC'] = df['close'].pct_change(periods=M) * 100
    df['gain'] = (df['close'] - df['close'].shift(1)).apply(lambda x: max(x, 0))
    df['loss'] = (df['close'] - df['close'].shift(1)).apply(lambda x: max(-x, 0))
    df['avg_gain'] = df['gain'].rolling(window=P).mean()
    df['avg_loss'] = df['loss'].rolling(window=P).mean()
    df['RS'] = df['avg_gain'] / df['avg_loss']
    df['MOM'] = df['close'] - df['close'].shift(Q)

    # Sub-Thought 2: Incorporate volume-related features
    df['typical_price'] = (df['high'] + df['low'] + df['close']) / 3
    df['vwap_sum'] = (df['typical_price'] * df['volume']).rolling(window=R).sum()
    df['vwap'] = df['vwap_sum'] / df['volume'].rolling(window=R).sum()
    df['VROC'] = df['volume'].pct_change(periods=S) * 100
    df['OBV'] = df['volume'].copy()
    df['OBV'][df['close'] < df['close'].shift(1)] -= 2 * df['volume']
    df['OBV'] = df['OBV'].cumsum()

    # Sub-Thought 3: Generate volatility-based factors
    df['TR'] = df.apply(
        lambda x: max(x['high'] - x['low'], abs(x['high'] - x['close'].shift(1)), abs(x['low'] - x['close'].shift(1))),
        axis=1
    )
    df['ATR'] = df['TR'].rolling(window=T).mean()
    df['STD'] = df['close'].rolling(window=U).std()

    # Sub-Thought 4: Create factors that capture the relationship between opening and closing prices
    df['OCR'] = df['close'] / df['open']
    df['GS'] = df['open'] - df['close'].shift(1)

    # Combine all factors into a single alpha factor
    df['alpha_factor'] = (
        (df['SMA'] + df['ROC'] + df['RS'] + df['MOM'] + df['vwap'] + df['VROC'] + df['OBV'] + 
         df['ATR'] + df['STD'] + df['OCR'] + df['GS']) / 11
    )

    return df['alpha_factor']
```
