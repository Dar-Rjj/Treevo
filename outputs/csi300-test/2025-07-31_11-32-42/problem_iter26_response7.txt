```python
import pandas as pd

def heuristics_v2(df):
    # Sub-Thought 1: Momentum Indicators
    N = 50  # Number of days for SMA
    M = 14  # Number of days for ROC
    P = 14  # Number of days for RS
    Q = 10  # Number of days for MOM
    
    # Sub-Thought 1.1: Simple Moving Average (SMA)
    df['SMA'] = df['close'].rolling(window=N).mean()
    
    # Sub-Thought 1.2: Rate of Change (ROC)
    df['ROC'] = df['close'].pct_change(periods=M)
    
    # Sub-Thought 1.3: Relative Strength (RS)
    df['gain'] = df['close'].diff().apply(lambda x: max(x, 0))
    df['loss'] = df['close'].diff().apply(lambda x: -min(x, 0))
    df['avg_gain'] = df['gain'].rolling(window=P).mean()
    df['avg_loss'] = df['loss'].rolling(window=P).mean()
    df['RS'] = df['avg_gain'] / df['avg_loss']
    
    # Sub-Thought 1.4: Momentum (MOM)
    df['MOM'] = df['close'].diff(periods=Q)
    
    # Sub-Thought 2: Volume-Related Features
    R = 20  # Number of days for VWAP
    S = 14  # Number of days for VROC
    
    # Sub-Thought 2.1: Volume-Weighted Average Price (VWAP)
    df['typical_price'] = (df['high'] + df['low'] + df['close']) / 3
    df['tpv'] = df['typical_price'] * df['volume']
    df['cum_tpv'] = df['tpv'].rolling(window=R).sum()
    df['cum_vol'] = df['volume'].rolling(window=R).sum()
    df['VWAP'] = df['cum_tpv'] / df['cum_vol']
    
    # Sub-Thought 2.2: Volume Rate of Change (VROC)
    df['VROC'] = df['volume'].pct_change(periods=S)
    
    # Sub-Thought 2.3: On-Balance Volume (OBV)
    obv = 0
    obv_list = []
    for i in range(len(df)):
        if i == 0:
            obv_list.append(0)
        else:
            if df['close'].iloc[i] > df['close'].iloc[i-1]:
                obv += df['volume'].iloc[i]
            elif df['close'].iloc[i] < df['close'].iloc[i-1]:
                obv -= df['volume'].iloc[i]
            obv_list.append(obv)
    df['OBV'] = obv_list
    
    # Sub-Thought 3: Volatility-Based Factors
    T = 14  # Number of days for ATR
    U = 20  # Number of days for standard deviation
    
    # Sub-Thought 3.1: True Range (TR)
    df['tr1'] = df['high'] - df['low']
    df['tr2'] = (df['high'] - df['close'].shift()).abs()
    df['tr3'] = (df['low'] - df['close'].shift()).abs()
    df['TR'] = df[['tr1', 'tr2', 'tr3']].max(axis=1)
    
    # Sub-Thought 3.2: Average True Range (ATR)
    df['ATR'] = df['TR'].rolling(window=T).mean()
    
    # Sub-Thought 3.3: Standard Deviation of Closing Prices
    df['STD'] = df['close'].rolling(window=U).std()
    
    # Sub-Thought 4: Relationship Between Opening and Closing Prices
    # Sub-Thought 4.1: Open-Close Ratio (OCR)
    df['OCR'] = df['close'] / df['open']
    
    # Sub-Thought 4.2: Gap Size (GS)
    df['GS'] = df['open'] - df['close'].shift()
    
    # Sub-Thought 5: Hybrid Factors
    # Sub-Thought 5.1: Momentum-Adjusted VWAP (MVWAP)
    df['MVWAP'] = df['VWAP'] * df['MOM']
    
    # Sub-Thought 5.2: VROC-Adjusted ROC
    df['VROC_Adjusted_ROC'] = df['ROC'] * df['VROC']
    
    # Sub-Thought
