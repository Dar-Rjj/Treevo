[
     {
          "algorithm": "The new algorithm calculates a factor based on the 20-day rate of change of the volume weighted by the 14-day average true range, aiming to provide a more smoothed insight into market movement strength and consistency.",
          "code": "def heuristics_v2(df):\n    df['ATR_14'] = df['high'].rolling(window=14).max() - df['low'].rolling(window=14).min()\n    df['volume_roc_20'] = df['volume'].pct_change(periods=20)\n    heuristics_matrix = df['volume_roc_20'] * df['ATR_14']\n    return heuristics_matrix",
          "objective": -0.02796,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a factor based on the ratio of the difference between the closing price and the median of high and low prices over a 20-day period, adjusted by the average volume over the same period.",
          "code": "def heuristics_v2(df):\n    df['median_price'] = (df['high'] + df['low']) / 2\n    df['price_diff'] = df['close'] - df['median_price'].rolling(window=20).mean()\n    df['avg_volume'] = df['volume'].rolling(window=20).mean()\n    heuristics_matrix = (df['price_diff'] / df['avg_volume']).fillna(0)\n    return heuristics_matrix",
          "objective": -0.02092,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a factor based on the 30-day rate of change of the volume weighted by the 21-day average true range, aiming to provide a more smoothed and long-term insight into market movement strength and consistency.",
          "code": "def heuristics_v2(df):\n    df['ATR_21'] = (df['high'].rolling(window=21).max() - df['low'].rolling(window=21).min()).mean()\n    df['volume_roc_30'] = df['volume'].pct_change(periods=30)\n    heuristics_matrix = df['volume_roc_30'] * df['ATR_21']\n    return heuristics_matrix",
          "objective": -0.01823,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm modifies the momentum calculation by incorporating a weighted average of 20-day and 50-day EMA, with weights inversely proportional to their respective volatilities, and then adjusts this measure by the ratio of the 10-day to 20-day ATR.",
          "code": "def heuristics_v2(df):\n    df['EMA_20'] = df['close'].ewm(span=20, adjust=False).mean()\n    df['EMA_50'] = df['close'].ewm(span=50, adjust=False).mean()\n    df['true_range_10'] = (df['high'] - df['low']).rolling(window=10).mean()\n    df['true_range_20'] = (df['high'] - df['low']).rolling(window=20).mean()\n    df['volatility_20'] = df['true_range_20']\n    df['volatility_50'] = df['true_range_20'].rolling(window=50).mean()\n    df['weighted_momentum'] = (df['EMA_20'] / df['volatility_20'] + df['EMA_50'] / df['volatility_50']) / (1/df['volatility_20'] + 1/df['volatility_50'])\n    heuristics_matrix = (df['weighted_momentum'] * (df['true_range_10'] / df['true_range_20'])).fillna(0)\n    return heuristics_matrix",
          "objective": -0.01792,
          "other_inf": null
     }
]