def heuristics_v2(df):
    df['volume_30_sum'] = df['volume'].rolling(window=30).sum()
    df['true_range'] = df[['high', 'low']].apply(lambda x: max(x) - min(x), axis=1)
    df['atr_10'] = df['true_range'].rolling(window=10).mean()
    heuristics_matrix = (df['volume_30_sum'] / df['atr_10']).fillna(0)
    return heuristics_matrix
