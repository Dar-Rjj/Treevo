```python
import pandas as pd
import numpy as np

def heuristics_v2(df, n=10, momentum_window=10, short_momentum_window=5, reversal_window=21, smoothing_window=5):
    # Calculate Raw Returns
    df['raw_return'] = df['close'].pct_change()
    
    # Calculate Volume-Weighted Momentum
    raw_momentum = df['close'] / df['close'].shift(n) - 1
    cumulative_volume = df['volume'].rolling(window=n).sum()
    volume_weighted_momentum = raw_momentum / cumulative_volume
    
    # Incorporate Price Range Factor
    price_range = df['high'] - df['low']
    price_range_adjusted_momentum = volume_weighted_momentum * price_range
    
    # Momentum Component
    momentum_10d = df['raw_return'].rolling(window=momentum_window).sum()
    momentum_5d = df['raw_return'].rolling(window=short_momentum_window).sum()
    momentum_component = momentum_10d - momentum_5d
    
    # Reversal Component
    reversal_21d = df['raw_return'].rolling(window=reversal_window).mean() * -1
    
    # Normalize Momentum and Reversal Components
    norm_momentum = (momentum_component - momentum_component.mean()) / momentum_component.std()
    norm_reversal = (reversal_21d - reversal_21d.mean()) / reversal_21d.std()
    combined_momentum_reversal = norm_momentum + norm_reversal
    
    # Final Alpha Factor
    rolling_avg = df['close'].rolling(window=n).mean()
    volume_weighted_ma = (df['close'] * df['volume']).rolling(window=n).sum() / cumulative_volume
    signal_diff = rolling_avg - volume_weighted_ma
    smoothed_signal = signal_diff.rolling(window=smoothing_window).mean()
    final_alpha_factor = smoothed_signal * combined_momentum_reversal
    
    return final_alpha_factor
```
