```python
import pandas as pd

def heuristics_v2(df):
    # Calculate simple moving averages (SMA) of close prices
    df['SMA_20'] = df['close'].rolling(window=20).mean()
    df['SMA_50'] = df['close'].rolling(window=50).mean()
    
    # Calculate percentage change in close price from one day to the next
    df['close_pct_change'] = df['close'].pct_change()
    
    # Calculate the 10-day cumulative return
    df['cumulative_return_10'] = (df['close'] / df['close'].shift(9)) - 1
    
    # Daily volume change as a percentage of the previous day's volume
    df['volume_pct_change'] = df['volume'].pct_change()
    
    # Calculate the 10-day moving average of volume
    df['volume_sma_10'] = df['volume'].rolling(window=10).mean()
    
    # Identify days with volume spike (volume more than 2x the 10-day moving average)
    df['volume_spike'] = (df['volume'] > 2 * df['volume_sma_10']).astype(int)
    
    # Calculate the average true range (ATR) over a 20-day period
    df['true_range'] = df[['high', 'low', 'close']].apply(lambda x: max(x) - min(x), axis=1)
    df['ATR_20'] = df['true_range'].rolling(window=20).mean()
    
    # Calculate the 10-day standard deviation of daily returns
    df['std_dev_10'] = df['close_pct_change'].rolling(window=10).std()
    
    # Combine price and volume for a more comprehensive factor
    df['sma_volume_factor'] = df['SMA_20'] * df['volume_sma_10']
    df['pct_change_volume_factor'] = df['close_pct_change'].rolling(window=20).mean() * df['volume_sma_10']
    
    # Average the high-low difference over a 20-day period
    df['avg_high_low_diff_20'] = df['high'] - df['low']
    df['avg_high_low_diff_20'] = df['avg_high_low_diff_20'].rolling(window=20).mean()
    
    # Calculate the 20-day average of the high-high of the previous day
    df['high_high_prev_day'] = df['high'] - df['high'].shift(1)
    df['avg_high_high_prev_day_20'] = df['high_high_prev_day'].rolling(window=20).mean()
    
    # Calculate the percentage change from open to close
    df['open_close_pct_change'] = (df['close'] - df['open']) / df['open']
    
    # Calculate the 20-day average of the absolute value of the open-close difference
    df['abs_open_close_diff'] = abs(df['close'] - df['open'])
    df['avg_abs_open_close_diff_20'] = df['abs_open_close_diff'].rolling(window=20).mean()
    
    # Calculate the percentage difference between today's open and yesterday's close
    df['gap_pct_change'] = (df['open'] - df['close'].shift(1)) / df['close'].shift(1)
    
    # Calculate the 20-day average of the absolute value of the gap
    df['abs_gap'] = abs(df['open'] - df['close'].shift(1))
    df['avg_abs_gap_20'] = df['abs_gap'].rolling(window=20).mean()
    
    # Combine all factors into a single alpha factor
    alpha_factor = (
        df['SMA_20'] + 
        df['SMA_50'] + 
        df['close_pct_change'] + 
        df['cumulative_return_10'] + 
        df['volume_pct_change'] + 
        df['volume_spike'] + 
        df['ATR_20'] + 
        df['std_dev_10'] + 
        df['sma_volume_factor'] + 
        df['pct_change_volume_factor'] + 
        df['avg_high_low_diff_20'] + 
        df['avg_high_high_prev_day_20'] + 
        df['open_close_pct_change'] + 
        df['avg_abs_open_close_diff_20'] + 
        df['gap_pct_change'] + 
        df['avg_abs_gap_20']
    )
    
    return alpha_factor
```
