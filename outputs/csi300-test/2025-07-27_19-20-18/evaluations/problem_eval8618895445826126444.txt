def heuristics_v2(df):
    def calculate_average_true_range(high, low, close, period=14):
        tr = pd.DataFrame(index=high.index)
        tr['hl'] = high - low
        tr['hc'] = abs(high - close.shift(1))
        tr['lc'] = abs(low - close.shift(1))
        tr['tr'] = tr[['hl', 'hc', 'lc']].max(axis=1)
        atr = tr['tr'].rolling(window=period).mean()
        return atr

    def calculate_volume_rate_of_change(volume, period=10):
        roc = (volume - volume.shift(period)) / volume.shift(period)
        return roc

    high = df['high']
    low = df['low']
    close = df['close']
    volume = df['volume']

    atr = calculate_average_true_range(high, low, close)
    volume_roc = calculate_volume_rate_of_change(volume)

    heuristics_matrix = atr * volume_roc

    return heuristics_matrix
