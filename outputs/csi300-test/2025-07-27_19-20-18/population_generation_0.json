[
     {
          "algorithm": "The algorithm calculates a set of heuristics based on price and volume trends, combining moving averages, momentum indicators, and volatility measures to generate an interpretable factor for stock returns.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def calculate_moving_average(series, window=14):\n        return series.rolling(window=window).mean()\n\n    def calculate_momentum(series, period=10):\n        return series / series.shift(period) - 1\n\n    def calculate_volatility(series, window=20):\n        return series.rolling(window=window).std()\n\n    close = df['close']\n    volume = df['volume']\n\n    ma_short = calculate_moving_average(close, window=5)\n    ma_long = calculate_moving_average(close, window=30)\n    momentum = calculate_momentum(close, period=10)\n    vol = calculate_volatility(close, window=20)\n\n    heuristics_matrix = (ma_short - ma_long) * momentum / vol * (volume / volume.shift(1))\n\n    return heuristics_matrix",
          "objective": -0.03438,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm calculates a momentum-based alpha factor by averaging the daily return over the past 5 days and then subtracting the average of the volume over the same period, aiming to capture both price trend and liquidity signals.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    returns = df['close'].pct_change()\n    avg_returns = returns.rolling(window=5).mean()\n    avg_volume = df['volume'].rolling(window=5).mean()\n    heuristics_matrix = avg_returns - avg_volume\n    return heuristics_matrix",
          "objective": -0.01123,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm calculates the moving average of daily price changes and combines it with a measure of recent trading volume trends to generate an alpha factor.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate daily percentage change in close prices\n    daily_change = df['close'].pct_change().fillna(0)\n    \n    # Calculate 5-day moving average of daily changes\n    ma_daily_change = daily_change.rolling(window=5).mean()\n    \n    # Calculate 10-day moving average of volume\n    ma_volume = df['volume'].rolling(window=10).mean()\n    \n    # Calculate the trend in volume as the difference between current volume and 10-day MA\n    volume_trend = df['volume'] - ma_volume\n    \n    # Combine the moving average of daily changes with the volume trend\n    heuristics_matrix = (ma_daily_change + volume_trend) / 2\n    \n    return heuristics_matrix",
          "objective": -0.00913,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm, named Trend-Momentum Heuristic, computes a factor value for each date by integrating the moving average convergence divergence (MACD) with a weighted momentum score, thereby capturing both trend-following and acceleration signals.",
          "code": "def heuristics_v2(df):\n    def macd_series(price_series, fast=12, slow=26, signal=9):\n        exp1 = price_series.ewm(span=fast, adjust=False).mean()\n        exp2 = price_series.ewm(span=slow, adjust=False).mean()\n        macd = exp1 - exp2\n        signal_line = macd.ewm(span=signal, adjust=False).mean()\n        return macd - signal_line  # MACD histogram\n\n    df['macd_hist'] = df['close'].rolling(window=26).apply(macd_series, raw=False)\n    df['momentum'] = df['close'].pct_change(periods=12)  # 12-day momentum\n    heuristics_matrix = 0.7 * df['macd_hist'] + 0.3 * df['momentum']\n    \n    return heuristics_matrix",
          "objective": -0.00769,
          "other_inf": null
     }
]