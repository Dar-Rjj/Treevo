import pandas as pd
import numpy as np

def heuristics_v2(df):
    roc_close = (df['close'] - df['close'].shift(20)) / df['close'].shift(20)
    ema_volume = df['volume'].ewm(span=15, adjust=False).mean()
    std_roc_close = roc_close.rolling(window=5).std()
    std_ema_volume = ema_volume.rolling(window=10).std()
    total_std = std_roc_close + std_ema_volume
    weight_roc_close = std_roc_close / total_std
    weight_ema_volume = std_ema_volume / total_std
    heuristics_matrix = (weight_roc_close * roc_close) + (weight_ema_volume * ema_volume)
    return heuristics_matrix
