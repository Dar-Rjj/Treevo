def heuristics_v2(df):
    # Momentum factor: 12-1 month return
    momentum = df['close'].pct_change(12) - df['close'].pct_change(1)
    
    # Volatility factor: Standard deviation of daily returns over the last 30 days
    volatility = df['close'].pct_change().rolling(window=30).std()
    
    # Volume factor: Change in average trading volume over the past 10 days
    avg_volume_10 = df['volume'].rolling(window=10).mean()
    volume_change = (avg_volume_10 - avg_volume_10.shift(1)) / avg_volume_10.shift(1)
    
    # Trend factor: Ratio of 5-day to 20-day moving average of close prices
    ma_5 = df['close'].rolling(window=5).mean()
    ma_20 = df['close'].rolling(window=20).mean()
    trend_factor = ma_5 / ma_20
    
    # Composite heuristic score with adjusted weights
    heuristics_matrix = 0.4 * momentum + 0.2 * (1/volatility) + 0.1 * volume_change + 0.3 * trend_factor
    
    return heuristics_matrix
