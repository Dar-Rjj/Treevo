def heuristics_v2(df):
    # Long-term return: 12-month return
    long_term_return = df['close'].pct_change(240)
    
    # Short-term trading range: 5-day average of the daily range (high - low)
    avg_range_5 = (df['high'] - df['low']).rolling(window=5).mean()
    
    # Liquidity metric: 20-day change in the average volume
    avg_vol_20 = df['volume'].rolling(window=20).mean()
    liquidity_metric = (avg_vol_20 - avg_vol_20.shift(1)) / avg_vol_20.shift(1)
    
    # Composite heuristic score
    heuristics_matrix = 0.7 * long_term_return + 0.3 * (1 / avg_range_5) * liquidity_metric
    
    return heuristics_matrix
