import pandas as pd

    # 5-day moving average of the closing price
    ma_5 = df['close'].rolling(window=5).mean()
    
    # 10-day accumulation/distribution line
    adl = (df['close'] - df['low']) - (df['high'] - df['close'])
    adl = (adl / (df['high'] - df['low'])).cumsum().fillna(0)
    
    # 20-day RSI
    delta = df['close'].diff(1)
    up = delta.clip(lower=0)
    down = -delta.clip(upper=0)
    ema_up = up.ewm(com=19, adjust=False).mean()
    ema_down = down.ewm(com=19, adjust=False).mean()
    rs = ema_up / ema_down
    rsi = 100 - (100 / (1 + rs))
    
    # Composite heuristic score
    heuristics_matrix = 0.4 * (ma_5 - df['close']) / df['close'] + 0.3 * adl + 0.3 * rsi
    
    return heuristics_matrix
