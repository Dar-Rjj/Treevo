import pandas as pd
    
    # Simple Moving Averages
    sma_5 = df['close'].rolling(window=5).mean()
    sma_10 = df['close'].rolling(window=10).mean()
    
    # Weighted Moving Averages
    wma_5 = df['close'].rolling(window=5).apply(lambda prices: (prices * pd.Series([1, 2, 3, 4, 5], index=prices.index)).sum() / 15, raw=False)
    wma_10 = df['close'].rolling(window=10).apply(lambda prices: (prices * pd.Series(range(1,11), index=prices.index)).sum() / 55, raw=False)
    
    # Momentum
    momentum = df['close'] - df['close'].shift(10)
    
    # Volatility
    volatility = df['close'].pct_change().rolling(window=10).std()
    
    # Composite Heuristic Factor
    heuristics_matrix = 0.2 * (sma_5 - sma_10) + 0.3 * (wma_5 - wma_10) + 0.1 * momentum - 0.4 * volatility
    
    return heuristics_matrix
