def heuristics_v2(df):
    # Long-term momentum: 12-month return
    long_momentum = df['close'].pct_change(240)
    
    # Medium-term volatility trend: 90-day moving average of the 30-day standard deviation
    vol_trend_30 = df['close'].pct_change().rolling(window=30).std().rolling(window=90).mean()
    
    # Short-term liquidity shift: Change in the 10-day maximum volume
    max_vol_10 = df['volume'].rolling(window=10).max()
    liquidity_shift = (max_vol_10 - max_vol_10.shift(1)) / max_vol_10.shift(1)
    
    # Composite heuristic score
    heuristics_matrix = 0.5 * long_momentum + 0.3 * (1/vol_trend_30) + 0.2 * liquidity_shift
    
    return heuristics_matrix
