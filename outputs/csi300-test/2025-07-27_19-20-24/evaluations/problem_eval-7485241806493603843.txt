import pandas as pd
    # Calculate 10-day EMA of close
    ema_close = df['close'].ewm(span=10, adjust=False).mean()
    
    # Calculate 30-day SMA of volume
    sma_volume = df['volume'].rolling(window=30).mean()
    
    # Calculate the 5-day high and 5-day low
    high_5 = df['high'].rolling(window=5).max()
    low_5 = df['low'].rolling(window=5).min()
    
    # Ratio of 5-day high to 5-day low
    high_low_ratio = high_5 / low_5
    
    # Composite heuristic score
    heuristics_matrix = (ema_close - sma_volume) * high_low_ratio
    
    return heuristics_matrix
