def heuristics_v2(df):
    # Short-term price reversal: 5-day return
    short_reversal = df['close'].pct_change(5)
    
    # Long-term volatility trend: 90-day moving average of the standard deviation over the last 180 days
    vol_trend_180 = df['close'].pct_change().rolling(window=180).std().rolling(window=90).mean()
    
    # Medium-term trading volume stability: 30-day coefficient of variation (standard deviation / mean) of the volume
    vol_stability_30 = df['volume'].rolling(window=30).std() / df['volume'].rolling(window=30).mean()
    
    # Composite heuristic score
    heuristics_matrix = 0.4 * short_reversal + 0.4 * (1/vol_trend_180) + 0.2 * (1/vol_stability_30)
    
    return heuristics_matrix
