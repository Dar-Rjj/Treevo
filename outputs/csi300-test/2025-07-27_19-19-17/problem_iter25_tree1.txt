```txt
Enhanced Alpha Factor with Intraday, Volume, and ATR Momentum
├── Calculate True Range (TR)
│   └── Max of: High - Low, High - Previous Close, Low - Previous Close
├── Calculate Average True Range (ATR)
│   └── 14-day Average TR
├── Calculate Integrated Return
│   ├── Weighted Sum of:
│   │   ├── Intraday Spread: High - Low
│   │   └── Close-Open Return: Close - Open
└── Adjust and Smooth Integrated Return
    ├── Volume and Amount Confirmation
    │   ├── If Volume > Previous Day's Volume
    │   │   └── Multiply Integrated Return by (Current Volume / Previous Volume)
    │   ├── If Amount > Previous Day's Amount
    │   │   └── Multiply Integrated Return by (Current Amount / Previous Amount)
    │   └── If both conditions met, multiply by (Current Volume / Previous Volume) * (Current Amount / Previous Amount)
    └── Apply Exponential Moving Average (EMA)
        ├── EMA on Adjusted Integrated Return
        │   └── Use EMA window size (e.g., 5 days)
└── Price Momentum
    ├── Short-term SMA (10 days) of Close price
    ├── Long-term SMA (50 days) of Close price
    └── Difference between Short-term SMA and Long-term SMA
└── Final Alpha Factor
    ├── (Smoothed and Adjusted Integrated Return + Unadjusted Integrated Return) * (Momentum Difference * ATR)
    └── Add the sum of volume and amount differences
```
