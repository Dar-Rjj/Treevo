def heuristics_v2(df):
    lookback_period = 20
    price_momentum = (df['close'] - df['high'].shift(lookback_period)) / df['high'].shift(lookback_period)
    amount_volume_ratio_change = (df['amount'] / df['volume']).pct_change(lookback_period)
    
    # Dynamically adjust weights based on the standard deviation of each component
    std_price = price_momentum.std()
    std_amount_volume = amount_volume_ratio_change.std()
    total_std = std_price + std_amount_volume
    
    w_price = std_price / total_std
    w_amount_volume = std_amount_volume / total_std
    
    # Calculate the heuristic factor
    heuristics_matrix = (w_price * price_momentum) + (w_amount_volume * amount_volume_ratio_change)
    return heuristics_matrix
