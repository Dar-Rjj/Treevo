def heuristics_v2(df):
    # Calculate the daily price range
    price_range = df['high'] - df['low']
    
    # Calculate the 30-day moving average of the price range
    price_range_ma = price_range.rolling(window=30).mean()
    
    # Calculate the 30-day moving average of the closing price
    close_ma = df['close'].rolling(window=30).mean()
    
    # Compute the heuristic: (today's price range / 30-day average price range) + (today's close - 30-day average close)
    heuristics_matrix = (price_range / price_range_ma) + (df['close'] - close_ma)

    return heuristics_matrix
