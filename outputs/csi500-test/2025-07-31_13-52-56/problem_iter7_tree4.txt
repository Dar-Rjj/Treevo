```txt
Intraday and Long-Term Momentum with Volume Analysis Factor
├── Intraday Volatility Adjusted
│   ├── Calculate Intraday Volatility
│   │   ├── Use High price
│   │   ├── Use Low price
│   │   ├── Use Close price
│   │   └── Use Open price
│   └── Adjust Intraday Return
│       ├── Calculate Intraday Return
│       │   ├── Use High price
│       │   └── Use Low price
│       └── Use Intraday Volatility
├── 30-day Price Momentum
│   ├── Get the close price of day t
│   ├── Get the close price of day t-30
│   └── Compute the 30-day Momentum
│       ├── Subtract close price of day t-30 from close price of day t
│       └── Divide the result by the close price of day t-30
├── Volume Shock
│   ├── Get the volume of day t
│   ├── Get the average volume of the last 30 days (excluding day t)
│   └── Determine if a shock occurred
│       ├── Compare day t volume with 30-day average volume
│       └── Assign value: 1 if day t volume > 2 * 30-day average, else 0
└── Combine Factors
    ├── Use Intraday Volatility Adjusted
    ├── Use 30-day Price Momentum
    ├── Use Volume Shock
    └── Final Weighting
        ├── Multiply Components
        └── Sum Weights
```
