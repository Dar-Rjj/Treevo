```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the price range for each day (high - low)
    price_range = df['high'] - df['low']
    
    # Calculate the volume-weighted average of (high - close) and (close - low)
    vol_weighted_diff = (df['volume'] * ((df['high'] - df['close']) + (df['close'] - df['low'])) / 2) / df['volume'].mean()
    
    # Smooth the volume-weighted difference over a 5-day window
    smooth_vol_weighted_diff = vol_weighted_diff.rolling(window=5).mean().fillna(0)
    
    # Calculate the relative strength index (RSI) as a momentum indicator
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    rsi = 100 - (100 / (1 + rs))
    
    # Calculate the ratio of the smoothed volume-weighted difference to the price range
    alpha_factor_base = smooth_vol_weighted_diff / (price_range + 1e-7)
    
    # Incorporate RSI as a momentum factor
    alpha_factor_momentum = alpha_factor_base * rsi
    
    # Smooth the final alpha factor
    alpha_factor_smoothed = alpha_factor_momentum.rolling(window=5).mean().fillna(0)
    
    # Calculate the 20-day moving average of the closing price to consider longer-term trends
    long_term_trend = df['close'].rolling(window=20).mean().fillna(0)
    
    # Incorporate the longer-term trend into the alpha factor
    alpha_factor_long_term = alpha_factor_smoothed * (df['close'] - long_term_trend) / (long_term_trend + 1e-7)
    
    return alpha_factor_long_term
```
