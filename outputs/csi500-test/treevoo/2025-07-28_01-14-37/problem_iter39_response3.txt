```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the relative position of the close price within the range for the day
    close_position = (df['close'] - df['low']) / (df['high'] - df['low'])

    # Calculate the change in the close price
    price_change = df['close'].pct_change()

    # Calculate the money flow, which is the product of the typical price and volume
    typical_price = (df['high'] + df['low'] + df['close']) / 3
    money_flow = typical_price * df['volume']

    # Calculate the ratio of today's money flow to yesterday's money flow
    money_flow_ratio = money_flow / money_flow.shift(1)

    # Combine the factors into a single heuristic
    factor = close_position * price_change * money_flow_ratio

    return factor
```
