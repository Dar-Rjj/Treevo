```python
import pandas as pd

def heuristics_v2(df, lookback_period=10, trend_days=5, vol_days=20):
    # Calculate Momentum (difference between close prices of two consecutive days)
    df['Momentum'] = df['close'].diff()
    
    # Determine the direction of the last X days' close prices (Trend Direction)
    df['Trend_Direction'] = (df['close'] > df['close'].shift(1)).rolling(window=trend_days).mean()
    
    # Measure the standard deviation of daily close-to-close returns over a period (Volatility)
    df['Volatility'] = df['close'].pct_change().rolling(window=vol_days).std()
    
    # Summarize the total volume traded in the past X days (Volume Accumulation)
    df['Volume_Accumulation'] = df['volume'].rolling(window=lookback_period).sum()
    
    # Compute the number of up and down days, where an up day is defined as close > open (Up/Down Day Count)
    df['Up_Day'] = (df['close'] > df['open']).astype(int)
    df['Down_Day'] = (df['close'] < df['open']).astype(int)
    
    # Find the average of daily high-low spreads over a lookback period (Average High-Low Spread)
    df['High_Low_Spread'] = df['high'] - df['low']
    df['Average_High_Low_Spread'] = df['High_Low_Spread'].rolling(window=lookback_period).mean()
    
    # Identify if today's high-low spread is above or below the recent average (Spread Relative Strength)
    df['Spread_Relative_Strength'] = df['High_Low_Spread'] > df['Average_High_Low_Spread']
    
    # Check for specific simple candlestick formations (e.g., doji, marubozu) and their occurrence frequency (Candlestick Pattern Frequency)
    df['Doji'] = ((df['close'] - df['open']).abs() / (df['high'] - df['low']) < 0.1).astype(int)
    df['Marubozu'] = ((df['close'] - df['open']).abs() / (df['high'] - df['low']) > 0.9).astype(int)
    
    # Determine the strength of these patterns by comparing the size of the real body to the high-low range (Pattern Strength)
    df['Real_Body_Size'] = (df['close'] - df['open']).abs()
    df['Pattern_Strength'] = df['Real_Body_Size'] / df['High_Low_Spread']
    
    # Combine all the sub-thoughts into a final alpha factor
    alpha_factor = (
        df['Momentum'] +
        df['Trend_Direction'] -
        df['Volatility'] +
        df['Volume_Accumulation'] * (df['Up_Day'] - df['Down_Day']) +
        df['Average_High_Low_Spread'] * df['Spread_Relative_Strength'].astype(int) +
        df['Doji'] + df['Marubozu'] +
        df['Pattern_Strength']
    )
    
    return alpha_factor
```
