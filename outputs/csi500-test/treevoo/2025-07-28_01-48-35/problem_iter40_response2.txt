```python
import pandas as pd

def heuristics_v2(df, short_window=10, long_window=30, ema_span=20, atr_window=14):
    # Calculate daily returns
    df['daily_returns'] = (df['close'] - df['close'].shift(1)) / df['close'].shift(1)
    
    # Calculate Simple Moving Averages
    df['SMA_short'] = df['close'].rolling(window=short_window).mean()
    df['SMA_long'] = df['close'].rolling(window=long_window).mean()
    
    # Calculate Exponential Moving Average
    df['EMA'] = df['close'].ewm(span=ema_span, adjust=False).mean()
    
    # Identify SMA and EMA crossovers
    df['SMA_crossover'] = (df['SMA_short'] > df['SMA_long']).astype(int)
    df['EMA_crossover'] = (df['EMA'] > df['SMA_long']).astype(int)
    
    # Calculate volume and amount changes
    df['volume_change'] = df['volume'] - df['volume'].shift(1)
    df['amount_change'] = df['amount'] - df['amount'].shift(1)
    
    # Calculate volume-price and amount-price correlations
    df['volume_price_corr'] = df['volume'].rolling(window=long_window).corr(df['close'])
    df['amount_price_corr'] = df['amount'].rolling(window=long_window).corr(df['close'])
    
    # Calculate True Range
    df['true_range'] = df[['high', 'low', 'close']].apply(lambda x: max(x[0] - x[1], abs(x[0] - x[2].shift(1)), abs(x[1] - x[2].shift(1))), axis=1)
    
    # Calculate Average True Range
    df['ATR'] = df['true_range'].ewm(span=atr_window, adjust=False).mean()
    
    # Calculate High-Low Spread
    df['high_low_spread'] = df['high'] - df['low']
    
    # Analyze Open and Close Price Relationship
    df['gap_up'] = (df['open'] > df['close'].shift(1)).astype(int)
    df['gap_down'] = (df['open'] < df['close'].shift(1)).astype(int)
    df['doji_pattern'] = (abs(df['open'] - df['close']) < (df['high'] - df['low']) * 0.05).astype(int)
    
    # Combine all factors into a single alpha factor
    df['alpha_factor'] = (
        df['daily_returns'] + 
        df['SMA_crossover'] + 
        df['EMA_crossover'] + 
        df['volume_change'] + 
        df['amount_change'] + 
        df['volume_price_corr'] + 
        df['amount_price_corr'] + 
        df['ATR'] + 
        df['high_low_spread'] + 
        df['gap_up'] - 
        df['gap_down'] + 
        df['doji_pattern']
    )
    
    return df['alpha_factor']
```
