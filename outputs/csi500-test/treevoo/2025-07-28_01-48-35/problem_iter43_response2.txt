```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    n = 14  # time period for moving averages and ATR
    
    # Calculate daily returns
    df['daily_returns'] = (df['close'] - df['close'].shift(1)) / df['close'].shift(1)
    
    # Calculate simple moving average
    df['SMA_short'] = df['close'].rolling(window=5).mean()
    df['SMA_long'] = df['close'].rolling(window=20).mean()
    
    # Calculate exponential moving average
    df['EMA_short'] = df['close'].ewm(span=5, adjust=False).mean()
    df['EMA_long'] = df['close'].ewm(span=20, adjust=False).mean()
    
    # SMA and EMA crossovers
    df['SMA_crossover'] = (df['SMA_short'] > df['SMA_long']).astype(int)
    df['EMA_crossover'] = (df['EMA_short'] > df['EMA_long']).astype(int)
    
    # Volume and Amount dynamics
    df['volume_change'] = df['volume'] - df['volume'].shift(1)
    df['amount_change'] = df['amount'] - df['amount'].shift(1)
    
    # Volume-Price and Amount-Price correlations
    df['vol_price_corr'] = df['close'].rolling(window=n).corr(df['volume'])
    df['amt_price_corr'] = df['close'].rolling(window=n).corr(df['amount'])
    
    # True Range and Average True Range
    df['true_range'] = df[['high', 'close']].apply(lambda x: max(x['high'] - df['low'], 
                                                                  abs(x['high'] - df['close'].shift(1)), 
                                                                  abs(df['low'] - df['close'].shift(1))), axis=1)
    df['ATR'] = df['true_range'].ewm(span=n, adjust=False).mean()
    
    # High-Low Spread
    df['high_low_spread'] = df['high'] - df['low']
    
    # Open and Close price relationship
    df['gap_up'] = (df['open'] > df['close'].shift(1)).astype(int)
    df['gap_down'] = (df['open'] < df['close'].shift(1)).astype(int)
    df['doji_pattern'] = (abs(df['open'] - df['close']) < (df['high'] - df['low']) * 0.05).astype(int)
    
    # Combine all factors into a single alpha factor
    alpha_factor = (df['SMA_crossover'] + df['EMA_crossover'] + df['vol_price_corr'] + 
                    df['amt_price_corr'] + df['ATR'] + df['gap_up'] - df['gap_down'] + df['doji_pattern'])
    
    return alpha_factor.dropna()
```
