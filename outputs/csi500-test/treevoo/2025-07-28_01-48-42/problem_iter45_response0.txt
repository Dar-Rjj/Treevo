```python
import pandas as pd

def heuristics_v2(df):
    # Simple Moving Average (SMA) over 20 days
    df['SMA_20'] = df['close'].rolling(window=20).mean()
    
    # Exponential Moving Average (EMA) over 10 days
    df['EMA_10'] = df['close'].ewm(span=10, adjust=False).mean()
    
    # Daily price change
    df['Daily_Price_Change'] = df['close'] - df['close'].shift(1)
    
    # High-Low spread
    df['High_Low_Spread'] = df['high'] - df['low']
    
    # Close/Open ratio
    df['Close_Open_Ratio'] = df['close'] / df['open']
    
    # Close/Previous Close ratio
    df['Close_Previous_Close_Ratio'] = df['close'] / df['close'].shift(1)
    
    # High/Low ratio
    df['High_Low_Ratio'] = df['high'] / df['low']
    
    # Volume change
    df['Volume_Change'] = df['volume'] - df['volume'].shift(1)
    
    # Volume-weighted close
    df['Volume_Weighted_Close'] = (df['close'] * df['volume']).rolling(window=10).sum() / df['volume'].rolling(window=10).sum()
    
    # Volume-Weighted Average Price (VWAP)
    df['VWAP'] = (df[['open', 'high', 'low', 'close']].mean(axis=1) * df['volume']).rolling(window=10).sum() / df['volume'].rolling(window=10).sum()
    
    # Price-Volume Trend (PVT)
    df['PVT'] = (df['close'] - df['close'].shift(1)) * df['volume']
    df['PVT'] = df['PVT'].cumsum()
    
    # On-Balance Volume (OBV)
    obv = [0]
    for i in range(1, len(df)):
        if df['close'][i] > df['close'][i-1]:
            obv.append(obv[-1] + df['volume'][i])
        elif df['close'][i] < df['close'][i-1]:
            obv.append(obv[-1] - df['volume'][i])
        else:
            obv.append(obv[-1])
    df['OBV'] = obv
    
    # Three-day price pattern
    df['Three_Day_Price_Pattern'] = (df['close'] - df['open']) + (df['close'].shift(1) - df['open'].shift(1)) + (df['close'].shift(2) - df['open'].shift(2))
    
    # Inside bar pattern
    df['Inside_Bar_Pattern'] = (df['high'] < df['high'].shift(1)) & (df['low'] > df['low'].shift(1))
    
    # Price and volume confirmation
    df['Price_Volume_Confirmation'] = ((df['close'] > df['close'].shift(1)) & (df['volume'] > df['volume'].shift(1))).astype(int)
    
    # Outside bar pattern
    df['Outside_Bar_Pattern'] = (df['high'] > df['high'].shift(1)) & (df['low'] < df['low'].shift(1))
    
    # Average True Range (ATR) over 14 days
    tr = pd.DataFrame(index=df.index, columns=['TR'])
    tr['TR'] = df[['high' - df['low'], abs(df['high'] - df['close'].shift(1)), abs(df['low'] - df['close'].shift(1))]].max(axis=1)
    df['ATR_14'] = tr['TR'].rolling(window=14).mean()
    
    # Money Flow Index (MFI) over 14 days
    typical_price = (df['high'] + df['low'] + df['close']) / 3
    money_flow = typical_price * df['volume']
    positive_money_flow = money_flow.where(typical_price > typical_price.shift(1), 0)
    negative_money_flow = money_flow.where(typical_price < typical_price.shift(1), 0)
    positive_sum = positive_money_flow.rolling(window=14).sum()
    negative_sum = negative_money_flow.rolling(window=14).sum()
    money_ratio = positive_sum / negative_sum
    df['MFI_14'] = 100 - (100 / (1 + money_ratio))
    
    # Chaikin Money Flow (CM
