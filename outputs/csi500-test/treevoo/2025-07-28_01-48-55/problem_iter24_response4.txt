```python
import pandas as pd

def heuristics_v2(df):
    # Calculate 10-day Simple Moving Average (SMA) of closing prices
    df['SMA_10'] = df['close'].rolling(window=10).mean()
    
    # Calculate the difference between today's close and the SMA to gauge momentum
    df['momentum'] = df['close'] - df['SMA_10']
    
    # Calculate 5-day Rate of Change (ROC) on the close price
    df['ROC_5'] = df['close'].pct_change(periods=5)
    
    # Calculate the 14-day Average True Range (ATR) for volatility
    df['TR'] = df[['high', 'low']].max(axis=1) - df[['high', 'low']].min(axis=1)
    df['ATR_14'] = df['TR'].rolling(window=14).mean()
    
    # Calculate the ratio of today's volume to the average volume over the last 20 days
    df['avg_volume_20'] = df['volume'].rolling(window=20).mean()
    df['vol_ratio'] = df['volume'] / df['avg_volume_20']
    
    # Calculate the daily price range (High - Low)
    df['price_range'] = df['high'] - df['low']
    df['avg_price_range_30'] = df['price_range'].rolling(window=30).mean()
    df['price_range_ratio'] = df['price_range'] / df['avg_price_range_30']
    
    # Compute the ratio of (Close - Open) to the daily price range
    df['close_open_range_ratio'] = (df['close'] - df['open']) / df['price_range']
    
    # Assess the number of up days vs down days over the past month
    df['up_day'] = (df['close'] > df['open']).astype(int)
    df['down_day'] = (df['close'] < df['open']).astype(int)
    df['up_days_30'] = df['up_day'].rolling(window=30).sum()
    df['down_days_30'] = df['down_day'].rolling(window=30).sum()
    df['up_down_ratio'] = df['up_days_30'] / df['down_days_30']
    
    # Evaluate the gap between the opening price and the previous day's close
    df['gap'] = df['open'] - df['close'].shift(1)
    
    # Calculate the total value traded at each price level within the day
    df['value_traded'] = df['close'] * df['volume']
    df['value_high'] = (df['high'] - (df['high'] + df['low']) / 2) * df['volume']
    df['value_low'] = ((df['high'] + df['low']) / 2 - df['low']) * df['volume']
    
    # Determine the cumulative value traded above and below the midpoint of the day
    df['midpoint'] = (df['high'] + df['low']) / 2
    df['value_above_mid'] = (df['close'] > df['midpoint']) * df['value_traded']
    df['value_below_mid'] = (df['close'] < df['midpoint']) * df['value_traded']
    
    # Combine all sub-thoughts into a single alpha factor
    df['alpha_factor'] = (
        df['momentum'] +
        df['ROC_5'] * 100 +
        df['ATR_14'] * 10 +
        df['vol_ratio'] * 100 +
        df['price_range_ratio'] * 10 +
        df['close_open_range_ratio'] * 100 +
        df['up_down_ratio'] * 10 +
        df['gap'] * 100 +
        df['value_high'] * 100 -
        df['value_low'] * 100 +
        df['value_above_mid'] * 100 -
        df['value_below_mid'] * 100
    )
    
    return df['alpha_factor']
```
