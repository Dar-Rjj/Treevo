```python
import pandas as pd

def heuristics_v2(df):
    # Determine the short-term (5 days) and long-term (20 days) moving averages of the close prices
    df['short_term_ma'] = df['close'].rolling(window=5).mean()
    df['long_term_ma'] = df['close'].rolling(window=20).mean()
    
    # Compute the difference between the current closing price and these moving averages
    df['momentum_short_term'] = df['close'] - df['short_term_ma']
    df['momentum_long_term'] = df['close'] - df['long_term_ma']
    
    # Calculate the ratio of todayâ€™s volume to the average volume over the last 10 days
    df['volume_ratio'] = df['volume'] / df['volume'].rolling(window=10).mean()
    
    # Calculate the daily range (High - Low)
    df['daily_range'] = df['high'] - df['low']
    
    # Assess the relationship between the range and the closing price
    df['range_to_close_ratio'] = df['daily_range'] / df['close']
    
    # Analyze the candlestick pattern by comparing the Open and Close prices
    df['candle_body'] = abs(df['open'] - df['close'])
    
    # Identify bullish or bearish engulfing patterns
    df['previous_day_candle_body'] = df['candle_body'].shift(1)
    df['engulfing_pattern'] = (df['candle_body'] > 1.5 * df['previous_day_candle_body']).astype(int)
    
    # Consider the impact of trading amount on price movements
    # Assuming market_cap is a known column in the DataFrame or can be calculated
    df['trading_amount_percentage'] = df['amount'] / df['market_cap']
    
    # Combine all factors into a single alpha factor
    df['alpha_factor'] = (
        df['momentum_short_term'] + 
        df['momentum_long_term'] + 
        df['volume_ratio'] + 
        df['range_to_close_ratio'] + 
        df['engulfing_pattern'] + 
        df['trading_amount_percentage']
    )
    
    return df['alpha_factor']
```
