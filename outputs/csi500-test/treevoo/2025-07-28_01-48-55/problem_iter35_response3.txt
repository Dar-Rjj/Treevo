```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Intraday Reversal
    df['Intraday_Reversal'] = (df['high'] - df['low']) - (df['open'] - df['close'])
    
    # Volume Momentum
    df['Volume_Momentum'] = df['volume'].diff()
    
    # Simple Moving Average (SMA) of Closing Prices
    df['SMA_5'] = df['close'].rolling(window=5).mean()
    df['SMA_10'] = df['close'].rolling(window=10).mean()
    df['SMA_20'] = df['close'].rolling(window=20).mean()
    
    # Relative Strength Index (RSI)
    delta = df['close'].diff(1)
    gain = (delta.where(delta > 0, 0)).fillna(0)
    loss = (-delta.where(delta < 0, 0)).fillna(0)
    avg_gain = gain.rolling(window=14).mean()
    avg_loss = loss.rolling(window=14).mean()
    rs = avg_gain / avg_loss
    df['RSI'] = 100 - (100 / (1 + rs))
    
    # Momentum Factor
    df['Momentum_Factor'] = df['close'] - df['SMA_10']
    
    # Volume Shock Factor
    mean_volume_20 = df['volume'].rolling(window=20).mean()
    std_volume_20 = df['volume'].rolling(window=20).std()
    df['Volume_Shock_Factor'] = (df['volume'] - mean_volume_20) / std_volume_20
    
    # Volume Trend Factor
    df['Volume_Trend_Factor'] = df['volume'].pct_change()
    
    # Daily Price Range
    df['Daily_Price_Range'] = df['high'] - df['low']
    df['DPR_SMA_10'] = df['Daily_Price_Range'].rolling(window=10).mean()
    
    # Breakout Indicator
    df['Breakout_Indicator'] = (df['high'] > df['high'].rolling(window=10).max()) | (df['low'] < df['low'].rolling(window=10).min())
    
    # Open-Close Ratio
    df['Open_Close_Ratio'] = df['open'] / df['close']
    
    # Bullish/Bearish Candlestick Factor
    df['Bullish_Candle'] = (df['close'] > df['open']).astype(int)
    df['Bearish_Candle'] = (df['close'] < df['open']).astype(int)
    df['Bullish_Count_10'] = df['Bullish_Candle'].rolling(window=10).sum()
    df['Bearish_Count_10'] = df['Bearish_Candle'].rolling(window=10).sum()
    
    # Liquidity Measure
    df['Liquidity_Measure'] = df['amount']
    
    # Amount-Weighted Price Movement
    df['Price_Change'] = df['close'] - df['open']
    df['Amount_Weighted_Price_Movement'] = (df['Price_Change'] * df['amount']).cumsum() / df['amount'].cumsum()
    
    # Composite Score
    factors = ['Intraday_Reversal', 'Volume_Momentum', 'SMA_5', 'SMA_10', 'SMA_20', 'RSI', 'Momentum_Factor', 
               'Volume_Shock_Factor', 'Volume_Trend_Factor', 'DPR_SMA_10', 'Breakout_Indicator', 'Open_Close_Ratio', 
               'Bullish_Count_10', 'Bearish_Count_10', 'Liquidity_Measure', 'Amount_Weighted_Price_Movement']
    df['Composite_Score'] = df[factors].sum(axis=1)
    
    # Regime-Specific Factors
    # Placeholder for regime-specific factors
    df['Regime_Specific_Factors'] = 0
    
    # Intraday Reversal Pattern
    df['Intraday_Reversal_Pattern'] = (df['high'] - df['close']) - (df['open'] - df['low'])
    
    # Opening Gap Impact
    df['Opening_Gap_Impact'] = df['open'] - df['close'].shift(1)
    
    # Volume Adjusted High-Low Range
    df['Volume_Adjusted_High_Low_Range'] = (df['high'] - df['low']) * np.log(df['volume'])
    
    # Composite Factor

