```python
import pandas as pd

def heuristics_v2(df):
    # Base Alpha Factors
    df['HighMinusLow'] = df['high'] - df['low']
    df['CloseToOpenReturn'] = (df['close'].shift(-1) / df['open']) - 1
    
    df['VolumeGrowthRate'] = (df['volume'] - df['volume'].shift(1)) / df['volume'].shift(1)
    df['AvgVolume5D'] = df['volume'].rolling(window=5).mean()
    df['AvgVolume10D'] = df['volume'].rolling(window=10).mean()
    df['AvgVolume20D'] = df['volume'].rolling(window=20).mean()
    
    df['VolumeWeightedClose'] = df['close'] * df['volume']
    df['Momentum5D'] = (df['close'] - df['close'].shift(5)) / df['close'].shift(5)
    df['Momentum10D'] = (df['close'] - df['close'].shift(10)) / df['close'].shift(10)
    df['Momentum20D'] = (df['close'] - df['close'].shift(20)) / df['close'].shift(20)

    # Advanced Alpha Factors
    df['SMA5D'] = df['close'].rolling(window=5).mean()
    df['SMA10D'] = df['close'].rolling(window=10).mean()
    df['SMA20D'] = df['close'].rolling(window=20).mean()

    df['EMA5D'] = df['close'].ewm(span=5, adjust=False).mean()
    df['EMA10D'] = df['close'].ewm(span=10, adjust=False).mean()
    df['EMA20D'] = df['close'].ewm(span=20, adjust=False).mean()

    df['RSI14D'] = 100 - (100 / (1 + df['close'].diff().gt(0).rolling(window=14).sum() / df['close'].diff().lt(0).rolling(window=14).sum()))

    df['MACD_Line'] = df['close'].ewm(span=12, adjust=False).mean() - df['close'].ewm(span=26, adjust=False).mean()
    df['MACD_Signal'] = df['MACD_Line'].ewm(span=9, adjust=False).mean()
    df['MACD_Histogram'] = df['MACD_Line'] - df['MACD_Signal']

    df['Inside_Bar'] = (df['high'] < df['high'].shift(1)) & (df['low'] > df['low'].shift(1))
    df['Outside_Bar'] = (df['high'] > df['high'].shift(1)) & (df['low'] < df['low'].shift(1))

    # Custom Alpha Factors
    df['HistoricalVolatility20D'] = df['close'].pct_change().rolling(window=20).std()
    
    df['DirectionalMovement'] = (df['high'] - df['high'].shift(1)) - (df['low'].shift(1) - df['low'])
    
    df['SMA50D'] = df['close'].rolling(window=50).mean()
    df['PriceDeviationFromSMA50D'] = (df['close'] - df['SMA50D']) / df['SMA50D']

    # Combine all factors into a single alpha factor
    df['AlphaFactor'] = (
        df['HighMinusLow'] +
        df['CloseToOpenReturn'] +
        df['VolumeGrowthRate'] +
        df['AvgVolume5D'] +
        df['AvgVolume10D'] +
        df['AvgVolume20D'] +
        df['VolumeWeightedClose'] +
        df['Momentum5D'] +
        df['Momentum10D'] +
        df['Momentum20D'] +
        df['SMA5D'] +
        df['SMA10D'] +
        df['SMA20D'] +
        df['EMA5D'] +
        df['EMA10D'] +
        df['EMA20D'] +
        df['RSI14D'] +
        df['MACD_Line'] +
        df['MACD_Signal'] +
        df['MACD_Histogram'] +
        df['Inside_Bar'] +
        df['Outside_Bar'] +
        df['HistoricalVolatility20D'] +
        df['DirectionalMovement'] +
        df['PriceDeviationFrom
