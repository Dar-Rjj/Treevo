```python
import pandas as pd

def heuristics_v2(df):
    # Calculate Logarithmic Returns
    df['log_returns'] = np.log(df['close']) - np.log(df['close'].shift(1))
    
    # Smoothing Logarithmic Returns with EMA
    df['smoothed_returns'] = df['log_returns'].ewm(span=5, adjust=False).mean()
    
    # Volume Shock Indicator
    df['volume_change'] = (df['volume'] - df['volume'].shift(1)) / df['volume'].shift(1)
    volume_std = df['volume_change'].rolling(window=7).std()
    df['shock'] = (abs(df['volume_change']) > 2 * volume_std).astype(int)
    
    # Calculate True Range and Average True Range
    df['high_low'] = df['high'] - df['low']
    df['high_close_prev'] = abs(df['high'] - df['close'].shift(1))
    df['low_close_prev'] = abs(df['low'] - df['close'].shift(1))
    df['true_range'] = df[['high_low', 'high_close_prev', 'low_close_prev']].max(axis=1)
    df['atr_7'] = df['true_range'].rolling(window=7).mean()
    
    # Combine Volume and ATR
    df['combined_weight'] = df['volume'] * df['atr_7']
    
    # Weight Smoothed Returns by Combined Weight and Shock
    df['weighted_return'] = df['smoothed_returns'] * df['combined_weight'] * df['shock']
    
    return df['weighted_return']
```
