```txt
Integrated Alpha Factor Combining Intraday Momentum, Volume and Amount Adjustments, and Return Smoothing
├── Calculate Intraday High-Low Movement
│   ├── Use High price on day t
│   └── Use Low price on day t
├── Calculate Intraday Return
│   ├── Use Open price on day t
│   └── Use Close price on day t
├── Calculate Daily Return
│   ├── Use Close price of day t
│   └── Use Close price of day t-1
├── Sum of Recent Returns
│   ├── Collect last 5 days' Close-to-Close Returns
│   └── Sum the collected returns
├── Volume Change
│   ├── Use Current Volume on day t
│   └── Use Previous Day's Volume (day t-1)
├── Amount Change
│   ├── Use Current Amount on day t
│   └── Use Previous Day's Amount (day t-1)
├── Average Volume
│   ├── Collect Volume data for the last 5 days
│   └── Compute the average volume
├── Average Amount
│   ├── Collect Amount data for the last 5 days
│   └── Compute the average amount
├── Volume Ratio
│   ├── Use Volume of day t
│   └── Divide by Average Volume
├── Amount Ratio
│   ├── Use Amount of day t
│   └── Divide by Average Amount
├── Weighted Intraday Return
│   ├── Multiply Intraday Return by Volume Change
├── Weighted Amount Intraday Return
│   ├── Multiply Intraday Return by Amount Change
├── Combined Weighted Momentum
│   ├── Add Weighted Intraday Return to Weighted Amount Intraday Return
│   ├── Add the sum to Sum of Recent Returns
│   ├── Multiply the final sum by Volume Ratio and Amount Ratio
├── Adjusted Logarithmic Returns with Enhanced Volume Shock
    ├── Calculate Logarithmic Returns
    │   ├── Use Close price
    │   └── Compute log(close_t / close_(t-1))
    ├── Smoothing Logarithmic Returns
    │   ├── Apply Simple Moving Average (SMA)
    │   │   ├── Input: Logarithmic Returns
    │   │   └── Window Length: 5 days
    │   └── Store Smoothed Returns
    ├── Volume Shock Indicator
    │   ├── Calculate Daily Volume Change
    │   │   ├── Use Volume
    │   │   └── Compute volume_t - volume_(t-1)
    │   ├── Identify Large Changes
    │   │   ├── If |volume_change| > 2 * standard deviation of 5-day window
    │   │   │   └── Assign 1 (Shock), else 0 (No Shock)
    └── Combine Intraday Weighted Return and Shock Adjusted Return
        ├── When Shock = 1, Adjust the smoothed return using High-Low Movement
        │   ├── Compute adjusted_return = smoothed_return * (high_t - low_t) / close_t
        ├── When Shock = 0, Set to Intraday Weighted Return
        └── Add to the Combined Weighted Momentum
├── Volume and Amount Adjusted Close-to-Open Return
│   ├── Calculate Close-to-Open Return
│   │   ├── Use Close price on day t
│   │   └── Use Open price on day t
│   └── Weight by Volume and Amount
│       ├── Combine Volume and Amount
│       │   ├── Use Volume on day t
│       │   └── Use Amount on day t
│       └── Multiply by Close-to-Open Return
├── Integrate Previous Day's Close-to-Open Return
    ├── Calculate Previous Day's Close-to-Open Return
    │   ├── Use Close price on day (t-1)
    │   └── Use Open price on day (t-1)
    └── Adjust Current Day's Factor
        ├── Combine with Current Day's Volume and Amount Adjusted Close-to-Open Return
        └── Incorporate Intraday High-Low Movement
├── Adjust for Volume Volatility
    ├── Calculate Volume Standard Deviation
    │   ├── Subtract Moving Average from Daily Volumes
    │   │   ├── Use Daily Volume
    │   │   └── Use Volume Moving Average
    │   ├── Square the Differences
    │   ├── Sum the Squared Differences over 20 days
    │   └── Take the Square Root of the Sum
└── Final Alpha Factor
    ├── Combine All Weighted and Adjusted Factors
    │   ├── Add Combined Weighted Momentum
    │   ├── Add Shock Adjusted Return
