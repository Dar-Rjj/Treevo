```txt
Price Momentum and Volume Shock Factor Combined
├── Calculate Daily Price Change
│   ├── Use Close price
│   └── Subtract Previous Day's Close price
├── Aggregate Daily Price Changes
│   └── Sum Over 20 Days
├── Calculate Logarithmic Returns
│   └── Compute log(close_t / close_(t-1))
├── Smoothing Logarithmic Returns
│   ├── Apply Simple Moving Average (SMA)
│   │   ├── Input: Logarithmic Returns
│   │   └── Window Length: 5 days
│   └── Store Smoothed Returns
├── Volume Shock Indicator
│   ├── Calculate Daily Volume Change
│   │   └── Compute volume_t - volume_(t-1)
│   ├── Identify Large Changes
│   │   ├── If |volume_change| > 2 * std(volume_change, 5 days)
│   │   │   └── Assign 1 (Shock), else 0 (No Shock)
│   └── Multiply Smoothed Returns by Volume Shock Indicator
│       ├── When Shock = 1, Keep the smoothed return
│       └── When Shock = 0, Set to 0
├── Calculate Volume Weighted Average Price (VWAP)
│   ├── Use High, Low, and Close prices
│   └── Multiply by Volume
│   └── Sum Over 20 Days
└── PMI and Volume Shock Score
    ├── Multiply Aggregated Daily Price Changes by VWAP
    └── Add Result from Volume Shock Indicator
        ├── When Shock = 1, Add the smoothed return
        └── When Shock = 0, Add 0
```
