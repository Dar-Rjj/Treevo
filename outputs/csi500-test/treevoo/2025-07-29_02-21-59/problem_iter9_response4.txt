```python
import pandas as pd

def heuristics_v2(df):
    # Calculate Logarithmic Returns
    df['log_returns'] = (df['close'].pct_change() + 1).apply(np.log)
    
    # Smoothing Logarithmic Returns
    df['smoothed_returns'] = df['log_returns'].ewm(span=5, adjust=False).mean()
    
    # Volume Shock Indicator
    df['volume_change'] = df['volume'].pct_change()
    volume_std = df['volume_change'].rolling(window=7).std()
    df['shock'] = (abs(df['volume_change']) > 2 * volume_std).astype(int)
    
    # Calculate Price Volatility using Average True Range
    df['true_range'] = df.apply(
        lambda row: max(row['high'] - row['low'], 
                        abs(row['high'] - row['close'].shift(1)), 
                        abs(row['low'] - row['close'].shift(1))), axis=1)
    df['atr_7'] = df['true_range'].rolling(window=7).mean()
    
    # Combine Volume and ATR
    df['combined_weight'] = df['volume'] * df['atr_7']
    
    # Multiply Smoothed Returns by Combined Weight
    df['weighted_return'] = df['smoothed_returns'] * df['combined_weight']
    df['factor_value'] = df['weighted_return'] * df['shock']
    
    return df['factor_value']
```
