```python
import pandas as pd

def heuristics_v2(df):
    # Calculate SMAs
    df['SMA_50'] = df['close'].rolling(window=50).mean()
    df['SMA_200'] = df['close'].rolling(window=200).mean()
    df['SMA_10'] = df['close'].rolling(window=10).mean()
    df['SMA_30'] = df['close'].rolling(window=30).mean()

    # SMA Crossovers
    df['SMA_50_200'] = (df['SMA_50'] > df['SMA_200']).astype(int) - (df['SMA_50'] <= df['SMA_200']).astype(int)
    df['SMA_10_30'] = (df['SMA_10'] > df['SMA_30']).astype(int) - (df['SMA_10'] <= df['SMA_30']).astype(int)

    # High Volume Breakouts
    df['prev_high'] = df['high'].shift(1)
    df['prev_low'] = df['low'].shift(1)
    df['avg_volume_20'] = df['volume'].rolling(window=20).mean()
    df['breakout_above'] = ((df['close'] > df['prev_high']) & (df['volume'] > df['avg_volume_20'])).astype(int)
    df['breakout_below'] = ((df['close'] < df['prev_low']) & (df['volume'] > df['avg_volume_20'])).astype(int)

    # RSI on Close Prices
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    df['RSI'] = 100 - (100 / (1 + rs))

    # Volume-Adjusted RSI
    df['vol_adj_close'] = df['close'] * (df['volume'] / df['volume'].rolling(window=20).mean())
    delta_vol_adj = df['vol_adj_close'].diff()
    gain_vol_adj = (delta_vol_adj.where(delta_vol_adj > 0, 0)).rolling(window=14).mean()
    loss_vol_adj = (-delta_vol_adj.where(delta_vol_adj < 0, 0)).rolling(window=14).mean()
    rs_vol_adj = gain_vol_adj / loss_vol_adj
    df['RSI_vol_adj'] = 100 - (100 / (1 + rs_vol_adj))

    # Reversal Patterns
    df['bullish_engulfing'] = ((df['low'] > df['close'].shift(1)) & 
                               (df['high'] < df['open'].shift(1)) & 
                               (df['close'] > df['open'])).astype(int)
    df['bearish_engulfing'] = ((df['high'] < df['close'].shift(1)) & 
                               (df['low'] > df['open'].shift(1)) & 
                               (df['close'] < df['open'])).astype(int)

    # Long-Legged Doji
    df['long_legged_doji'] = ((abs(df['close'] - df['open']) / (df['high'] - df['low'])) < 0.1 & 
                              (df['high'] - df['low']) > 2 * abs(df['close'] - df['open'])).astype(int)

    # ATR and ADX
    df['ATR'] = df[['high', 'low', 'close']].apply(lambda x: x.max() - x.min(), axis=1).rolling(window=14).mean()
    dm_plus = (df['high'].diff().clip(lower=0) - df['low'].diff().clip(upper=0)).rolling(window=14).mean()
    dm_minus = (df['low'].diff().clip(lower=0) - df['high'].diff().clip(upper=0)).rolling(window=14).mean()
    tr = df[['high', 'low', 'close']].apply(lambda x: x.max() - x.min(), axis=1).rolling(window=14).mean()
    df['DI+'] = 100 * (dm_plus / tr)
    df['DI-'] = 100 * (dm_minus / tr)
    dx = (abs(df['DI+'] - df['DI-']) / (df['DI+'] +
