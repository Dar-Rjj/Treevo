```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Momentum factor: Percentage change in closing price over different time periods
    df['mom_5'] = df['close'].pct_change(5)
    df['mom_20'] = df['close'].pct_change(20)
    df['mom_60'] = df['close'].pct_change(60)
    
    # Volatility measures: Standard deviation of daily log-returns over different windows
    df['log_return'] = np.log(df['close']).diff()
    df['vol_5'] = df['log_return'].rolling(window=5).std()
    df['vol_20'] = df['log_return'].rolling(window=20).std()
    df['vol_60'] = df['log_return'].rolling(window=60).std()
    
    # Volume-based indicators: Ratio of current day's volume to the average volume over a certain period
    df['avg_vol_20'] = df['volume'].rolling(window=20).mean()
    df['vol_ratio_20'] = df['volume'] / df['avg_vol_20']
    
    # Price action patterns: Identify bullish or bearish candlestick patterns
    df['candle_pattern_score'] = 0
    df.loc[(df['close'] > df['open']) & (df['close'] > df['open'].shift(1)) & (df['close'].shift(1) < df['open'].shift(1)), 'candle_pattern_score'] += 1  # Bullish engulfing
    df.loc[(df['close'] < df['open']) & (df['close'] < df['open'].shift(1)) & (df['close'].shift(1) > df['open'].shift(1)), 'candle_pattern_score'] -= 1  # Bearish engulfing
    df.loc[(df['close'] == df['open']) & (df['high'] > df['close']) & (df['low'] < df['close']), 'candle_pattern_score'] += 0.5  # Doji
    
    # Trend-following signals: Difference between the current close and a moving average
    df['sma_20'] = df['close'].rolling(window=20).mean()
    df['trend_signal'] = df['close'] - df['sma_20']
    
    # Liquidity-related factors: Spread between high and low prices
    df['spread'] = df['high'] - df['low']
    df['spread_vol_ratio'] = df['spread'] / df['volume']
    
    # Market sentiment: Cumulative sum of up and down days
    df['up_day'] = (df['close'] > df['open']).astype(int)
    df['down_day'] = (df['close'] < df['open']).astype(int)
    df['sentiment_score'] = df['up_day'].rolling(window=20).sum() - df['down_day'].rolling(window=20).sum()
    
    # Combine all factors into a single alpha factor
    df['alpha_factor'] = (
        df['mom_20'] + 
        df['vol_20'].apply(lambda x: 1/x if x != 0 else 0) + 
        df['vol_ratio_20'] + 
        df['candle_pattern_score'] + 
        df['trend_signal'] + 
        df['spread_vol_ratio'] + 
        df['sentiment_score']
    )
    
    return df['alpha_factor']
```
