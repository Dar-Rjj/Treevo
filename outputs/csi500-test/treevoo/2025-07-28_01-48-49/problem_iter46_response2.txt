```python
import pandas as pd

def heuristics_v2(df):
    # Momentum-based Factors
    # Simple Moving Average Crossover
    short_window = 5
    long_window = 20
    df['SMA_short'] = df['close'].rolling(window=short_window).mean()
    df['SMA_long'] = df['close'].rolling(window=long_window).mean()
    df['SMA_crossover'] = (df['SMA_short'] > df['SMA_long']).astype(int) - (df['SMA_short'] < df['SMA_long']).astype(int)
    
    # Rate of Change (ROC)
    roc_period = 10
    df['ROC'] = df['close'].pct_change(periods=roc_period)
    
    # Volatility-based Factors
    # True Range
    df['prev_close'] = df['close'].shift(1)
    df['high_low'] = df['high'] - df['low']
    df['high_prev_close'] = (df['high'] - df['prev_close']).abs()
    df['low_prev_close'] = (df['low'] - df['prev_close']).abs()
    df['true_range'] = df[['high_low', 'high_prev_close', 'low_prev_close']].max(axis=1)
    
    # Average True Range (ATR)
    atr_period = 14
    df['ATR'] = df['true_range'].rolling(window=atr_period).mean()
    
    # Volume-based Factors
    # On-Balance Volume (OBV)
    df['OBV'] = ((df['close'] > df['prev_close']) * df['volume'] - (df['close'] < df['prev_close']) * df['volume']).cumsum()
    
    # Volume Price Trend (VPT)
    df['VPT_ratio'] = (df['close'] / df['prev_close'])
    df['VPT'] = (df['VPT_ratio'] * df['volume']).cumsum()
    
    # Combined Factors
    # Price-Volume Divergence
    df['price_trend'] = df['close'].pct_change().rolling(window=5).mean()
    df['volume_trend'] = df['OBV'].pct_change().rolling(window=5).mean()
    df['divergence'] = df['price_trend'] - df['volume_trend']
    
    # Bollinger Bands with Volume
    bb_period = 20
    bb_std = 2
    df['BB_middle'] = df['close'].rolling(window=bb_period).mean()
    df['BB_upper'] = df['BB_middle'] + bb_std * df['close'].rolling(window=bb_period).std()
    df['BB_lower'] = df['BB_middle'] - bb_std * df['close'].rolling(window=bb_period).std()
    df['BB_signal'] = ((df['close'] > df['BB_upper']) & (df['volume'] > df['volume'].rolling(window=5).mean())) | ((df['close'] < df['BB_lower']) & (df['volume'] > df['volume'].rolling(window=5).mean()))
    
    # Final Alpha Factor
    df['alpha_factor'] = df['SMA_crossover'] + df['ROC'] + df['divergence'] + df['BB_signal'].astype(int)
    
    return df['alpha_factor']
```
