```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the difference between today's closing price and the 5-day average
    df['close_5d_avg'] = df['close'].rolling(window=5).mean()
    df['momentum'] = df['close'] - df['close_5d_avg']
    
    # Calculate the standard deviation of the past 5 days' closing prices
    df['std_5d'] = df['close'].rolling(window=5).std()
    df['momentum_normalized'] = df['momentum'] / df['std_5d']
    
    # Calculate the ratio of todayâ€™s volume to the average volume over the past 5 days
    df['volume_5d_avg'] = df['volume'].rolling(window=5).mean()
    df['volume_ratio'] = df['volume'] / df['volume_5d_avg']
    
    # Incorporate the volume ratio into the momentum factor
    df['momentum_weighted'] = df['momentum_normalized'] * df['volume_ratio']
    
    # Check for bullish trend
    df['bullish_trend'] = ((df['high'] > df['high'].shift(1)) & (df['low'] > df['low'].shift(1))).astype(int)
    
    # Combine all components
    df['alpha_factor'] = df['momentum_weighted'] + df['bullish_trend']
    
    return df['alpha_factor']
```
