```python
import pandas as pd

def heuristics_v2(df):
    # Momentum-based alpha factors
    df['short_term_price_change'] = df['close'].diff(2)
    df['medium_term_price_change'] = df['close'].diff(10)
    df['long_term_price_change'] = df['close'].diff(30)
    
    df['short_term_roc'] = df['short_term_price_change'] / df['close'].shift(2)
    df['medium_term_roc'] = df['medium_term_price_change'] / df['close'].shift(10)
    df['long_term_roc'] = df['long_term_price_change'] / df['close'].shift(30)

    # Moving average crossovers
    df['7_day_sma'] = df['close'].rolling(window=7).mean()
    df['25_day_sma'] = df['close'].rolling(window=25).mean()
    df['60_day_sma'] = df['close'].rolling(window=60).mean()
    
    df['short_medium_sma_diff'] = df['7_day_sma'] - df['25_day_sma']
    df['medium_long_sma_diff'] = df['25_day_sma'] - df['60_day_sma']
    df['short_long_sma_diff'] = df['7_day_sma'] - df['60_day_sma']

    # Volatility-based alpha factors
    df['daily_log_returns'] = df['close'].pct_change().apply(lambda x: np.log(1 + x))
    df['30_day_volatility'] = df['daily_log_returns'].rolling(window=30).std()

    df['high_low_range'] = df['high'] - df['low']
    df['avg_high_low_range_30'] = df['high_low_range'].rolling(window=30).mean()
    df['high_low_range_ratio'] = df['high_low_range'] / df['avg_high_low_range_30']

    # Volume-based alpha factors
    df['obv'] = (np.sign(df['close'].diff()) * df['volume']).fillna(0).cumsum()
    
    df['2_day_vroc'] = (df['volume'].diff(2) / df['volume'].shift(2)).fillna(0)
    df['21_day_vroc'] = (df['volume'].diff(21) / df['volume'].shift(21)).fillna(0)
    df['50_day_vroc'] = (df['volume'].diff(50) / df['volume'].shift(50)).fillna(0)

    # Pattern recognition alpha factors
    df['bullish_engulfing'] = ((df['open'] < df['close'].shift(1)) & (df['close'] > df['open'].shift(1))).astype(int)
    df['bearish_engulfing'] = ((df['open'] > df['close'].shift(1)) & (df['close'] < df['open'].shift(1))).astype(int)
    df['doji'] = ((df['open'] - df['close']).abs() / (df['high'] - df['low']) < 0.005).astype(int)
    df['hammer'] = ((df['close'] > (df['high'] + df['low']) / 2) & (df['low'] < df['open'] * 0.95)).astype(int)
    df['shooting_star'] = ((df['close'] < (df['high'] + df['low']) / 2) & (df['high'] > df['close'] * 1.05)).astype(int)

    # Combine all factors into a single alpha factor
    df['alpha_factor'] = (
        df['short_term_roc'] + 
        df['medium_term_roc'] + 
        df['long_term_roc'] + 
        df['short_medium_sma_diff'] + 
        df['medium_long_sma_diff'] + 
        df['short_long_sma_diff'] + 
        df['30_day_volatility'] + 
        df['high_low_range_ratio'] + 
        df['obv'] + 
        df['2_day_vroc'] + 
        df['21_day_vroc'] + 
        df['50_day_vroc'] + 
        df['bullish_engulfing'] - 
        df['bearish_engulfing'] + 
        df['doji'] + 
        df['hammer'] - 
        df['shooting_star']
    )

    return df['alpha_factor']
```
