```python
import pandas as pd

def heuristics_v2(df):
    # Momentum-based alpha factors
    df['1_day_price_change'] = df['close'].diff()
    df['5_day_price_change'] = df['close'].diff(5)
    df['20_day_price_change'] = df['close'].diff(20)

    # Moving average crossovers
    df['5_day_SMA'] = df['close'].rolling(window=5).mean()
    df['20_day_SMA'] = df['close'].rolling(window=20).mean()
    df['50_day_SMA'] = df['close'].rolling(window=50).mean()
    df['5_20_sma_crossover'] = df['5_day_SMA'] - df['20_day_SMA']
    df['20_50_sma_crossover'] = df['20_day_SMA'] - df['50_day_SMA']

    # Volatility-based alpha factors
    df['daily_log_returns'] = (df['close'] / df['close'].shift(1)).apply(lambda x: np.log(x))
    df['20_day_volatility'] = df['daily_log_returns'].rolling(window=20).std()
    df['weekly_log_returns'] = (df['close'] / df['close'].shift(5)).apply(lambda x: np.log(x))
    df['52_week_volatility'] = df['weekly_log_returns'].rolling(window=52).std()

    def calculate_true_range(row):
        return max(row['high'] - row['low'], abs(row['high'] - row['close'].shift(1)), abs(row['low'] - row['close'].shift(1)))
    df['true_range'] = df.apply(calculate_true_range, axis=1)
    df['14_day_ATR'] = df['true_range'].rolling(window=14).mean()

    # Volume-based alpha factors
    df['obv'] = (df['close'] > df['close'].shift(1)).astype(int) * df['volume'] - (df['close'] < df['close'].shift(1)).astype(int) * df['volume']
    df['obv'] = df['obv'].cumsum()
    df['1_day_VROC'] = (df['volume'] - df['volume'].shift(1)) / df['volume'].shift(1)
    df['21_day_VROC'] = (df['volume'] - df['volume'].shift(21)) / df['volume'].shift(21)

    # Pattern recognition alpha factors
    df['bullish_engulfing'] = ((df['open'] < df['close'].shift(1)) & (df['close'] > df['open'].shift(1))).astype(int)
    df['bearish_engulfing'] = ((df['open'] > df['close'].shift(1)) & (df['close'] < df['open'].shift(1))).astype(int)
    df['doji'] = (abs(df['close'] - df['open']) <= 0.005 * (df['high'] - df['low'])).astype(int)

    # Combine all the factors into a single factor value
    df['alpha_factor'] = (df['1_day_price_change'] + 
                          df['5_day_price_change'] + 
                          df['20_day_price_change'] + 
                          df['5_20_sma_crossover'] + 
                          df['20_50_sma_crossover'] + 
                          df['20_day_volatility'] + 
                          df['52_week_volatility'] + 
                          df['14_day_ATR'] + 
                          df['obv'] + 
                          df['1_day_VROC'] + 
                          df['21_day_VROC'] + 
                          df['bullish_engulfing'] - 
                          df['bearish_engulfing'] + 
                          df['doji'])

    return df['alpha_factor']
```
