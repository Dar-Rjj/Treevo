```python
import pandas as pd

def heuristics_v2(df):
    # Calculate simple moving averages
    df['SMA_10'] = df['close'].rolling(window=10).mean()
    df['SMA_30'] = df['close'].rolling(window=30).mean()
    
    # Calculate price change ratios
    df['PriceChangeRatio_5'] = (df['close'] / df['close'].shift(5)) - 1
    df['PriceChangeRatio_20'] = (df['close'] / df['close'].shift(20)) - 1
    
    # Calculate standard deviation of daily returns
    daily_returns = df['close'].pct_change()
    df['DailyReturnStd_10'] = daily_returns.rolling(window=10).std()
    df['DailyReturnStd_30'] = daily_returns.rolling(window=30).std()
    
    # Calculate range-based volatility
    df['RangeVolatility_10'] = (df['high'] - df['low']).rolling(window=10).mean()
    df['RangeVolatility_30'] = (df['high'] - df['low']).rolling(window=30).mean()
    
    # Calculate volume trends
    df['VolumeTrend_10'] = (df['volume'] / df['volume'].shift(10)) - 1
    df['VolumeTrend_30'] = (df['volume'] / df['volume'].shift(30)) - 1
    
    # Calculate volume-price interaction
    df['VolumePriceInteraction_10'] = (df['close'] * df['volume']).rolling(window=10).mean()
    df['VolumePriceInteraction_30'] = (df['close'] * df['volume']).rolling(window=30).mean()
    
    # Detect specific candlestick patterns
    df['DojiPattern'] = ((df['open'] == df['close']) & (df['high'] - df['low'] > 0)).astype(int)
    df['BullishEngulfingPattern'] = ((df['close'] > df['open']) & (df['close'].shift(1) < df['open'].shift(1)) & (df['close'] > df['open'].shift(1)) & (df['open'] < df['close'].shift(1))).astype(int)
    
    # Combine all factors into a single alpha factor
    alpha_factor = (
        df['SMA_10'] + 
        df['SMA_30'] + 
        df['PriceChangeRatio_5'] + 
        df['PriceChangeRatio_20'] + 
        df['DailyReturnStd_10'] + 
        df['DailyReturnStd_30'] + 
        df['RangeVolatility_10'] + 
        df['RangeVolatility_30'] + 
        df['VolumeTrend_10'] + 
        df['VolumeTrend_30'] + 
        df['VolumePriceInteraction_10'] + 
        df['VolumePriceInteraction_30'] + 
        df['DojiPattern'] + 
        df['BullishEngulfingPattern']
    )
    
    return alpha_factor
```
