```python
import pandas as pd

def heuristics_v2(df):
    # Volume-Adjusted Breakout Strength
    df['daily_range'] = df['high'] - df['low']
    df['open_to_close'] = df['close'] - df['open']
    
    # High-Low Spread Momentum
    df['high_low_spread_20'] = df['high'].rolling(window=20).sum() - df['low'].rolling(window=20).sum()
    df['prev_high_low_spread_20'] = df['high_low_spread_20'].shift(1)
    
    # Enhance with 10-Day High and Low Prices
    df['10_day_high'] = df['high'].rolling(window=10).max()
    df['10_day_low'] = df['low'].rolling(window=10).min()
    df['proximity_high'] = df['close'] / df['10_day_high']
    df['proximity_low'] = df['close'] / df['10_day_low']
    df['min_proximity_inv'] = 1 / df[['proximity_high', 'proximity_low']].min(axis=1)
    
    # Integrate Open-High-Low Volatility
    df['open_high_diff'] = (df['high'] - df['open']) * df['volume']
    df['open_low_diff'] = (df['open'] - df['low']) * df['volume']
    df['weighted_avg_vol'] = (df['open_high_diff'] + df['open_low_diff']) / df['volume']
    
    # Amount per Unit Close Price Rate of Change with Volume-Weighted Adjustments
    n = 5
    df['amount_per_close_t'] = df['amount'].rolling(window=n).sum() / df['close']
    df['amount_per_close_t_n'] = df['amount_per_close_t'].shift(n)
    df['amount_rate_change'] = df['amount_per_close_t'] - df['amount_per_close_t_n']
    
    # Momentum-Based Alpha Factors
    df['SMA_10'] = df['close'].rolling(window=10).mean()
    df['SMA_30'] = df['close'].rolling(window=30).mean()
    df['PriceChangeRatio_5'] = (df['close'] / df['close'].shift(5)) - 1
    df['PriceChangeRatio_20'] = (df['close'] / df['close'].shift(20)) - 1
    
    # Volatility-Based Alpha Factors
    df['daily_returns'] = df['close'].pct_change()
    df['DailyReturnStd_10'] = df['daily_returns'].rolling(window=10).std()
    df['DailyReturnStd_30'] = df['daily_returns'].rolling(window=30).std()
    df['RangeVolatility_10'] = df['daily_range'].rolling(window=10).mean()
    df['RangeVolatility_30'] = df['daily_range'].rolling(window=30).mean()
    
    # Volume-Based Alpha Factors
    df['VolumeTrend_10'] = (df['volume'] / df['volume'].shift(10)) - 1
    df['VolumeTrend_30'] = (df['volume'] / df['volume'].shift(30)) - 1
    df['VolumePriceInteraction_10'] = (df['close'] * df['volume']).rolling(window=10).mean()
    df['VolumePriceInteraction_30'] = (df['close'] * df['volume']).rolling(window=30).mean()
    
    # Pattern-Based Alpha Factors
    df['DojiPattern'] = ((df['close'] - df['open']).abs() / df['daily_range'] < 0.1) & (df['high'] - df['low'] > 0)
    df['BullishEngulfingPattern'] = (df['close'] > df['open']) & (df['close'].shift(1) < df['open'].shift(1)) & \
                                   (df['close'] > df['open'].shift(1)) & (df['open'] < df['close'].shift(1))
    
    # Composite Alpha Factor
    alpha_factor = (
        df['daily_range'] + df['open_to_close'] + 
        df['high_low_spread_20'] - df['prev_high_low_spread_20'] + 
        df['min_proximity_inv'] + df['weighted_avg_vol'] + 
        df['amount_rate_change'] + df['SMA_10'] + df['SMA_30'] + 
        df['PriceChangeRatio_5'] +
