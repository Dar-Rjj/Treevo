```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Parameters
    sma_lookback = 20
    vol_adj_lookback = 10
    momentum_n = 5
    pct_change_lookback = 1
    long_sma_lookback = 100
    weights = {'momentum': 0.4, 'vol_adj_volatility': 0.3, 'price_change_metrics': 0.2, 'trend_indicator': 0.1}

    # Simple Moving Average (SMA) of Close Prices
    df['SMA'] = df['close'].rolling(window=sma_lookback).mean()

    # Volume-Adjusted Volatility
    df['high_low_diff'] = df['high'] - df['low']
    df['vol_weighted_high_low'] = df['high_low_diff'] * df['volume']
    df['vol_adj_volatility'] = df['vol_weighted_high_low'].rolling(window=vol_adj_lookback).mean()

    # Price Momentum
    df['close_mean_n'] = df['close'].rolling(window=momentum_n).mean()
    df['momentum'] = (df['close'] - df['SMA']) / df['close_mean_n']

    # Additional Price Change Metrics
    df['pct_change'] = df['close'].pct_change(periods=pct_change_lookback)
    df['high_low_range'] = df['high'] - df['low']

    # Long-Term SMA and Market Trend Alignment
    df['long_SMA'] = df['close'].rolling(window=long_sma_lookback).mean()
    df['trend_indicator'] = np.where(df['SMA'] > df['long_SMA'], 1, 0)  # 1 for Bullish, 0 for Bearish

    # Adaptive Lookback Periods
    historical_volatility = df['close'].rolling(window=long_sma_lookback).std()
    df['sma_lookback'] = np.where(historical_volatility > historical_volatility.mean(), sma_lookback // 2, sma_lookback * 2)
    df['vol_adj_lookback'] = np.where(historical_volatility > historical_volatility.mean(), vol_adj_lookback // 2, vol_adj_lookback * 2)

    # Dynamic Weight Adjustments
    df['dynamic_weights'] = df['trend_indicator'].apply(lambda x: {k: v * (1.2 if x == 1 else 0.8) for k, v in weights.items()})

    # Final Alpha Factor
    alpha_factor = (
        df['momentum'] * df['dynamic_weights'].apply(lambda x: x['momentum']) +
        df['vol_adj_volatility'] * df['dynamic_weights'].apply(lambda x: x['vol_adj_volatility']) +
        df['pct_change'] * df['dynamic_weights'].apply(lambda x: x['price_change_metrics']) +
        df['trend_indicator'] * df['dynamic_weights'].apply(lambda x: x['trend_indicator'])
    )

    return alpha_factor
```
