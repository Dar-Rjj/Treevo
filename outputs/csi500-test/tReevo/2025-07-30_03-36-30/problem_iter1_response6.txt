```python
import pandas as pd

def heuristics_v2(df, n=5):
    """
    Generate an alpha factor based on intraday momentum reversal and volume confirmation.
    
    Parameters:
    - df: Pandas DataFrame with (date) as index, and columns representing market features (open, high, low, close, amount, volume).
    - n: Number of days for moving average and breakout comparison.
    
    Returns:
    - Pandas Series indexed by (date) representing the factor values.
    """
    # Calculate Intraday Momentum
    df['High_Low_Range'] = df['high'] - df['low']
    df['Close_Open_Diff'] = df['close'] - df['open']
    df['Intraday_Momentum'] = df['High_Low_Range'] + df['Close_Open_Diff']
    
    # Confirm with Volume
    df['Volume_Change_Ratio'] = df['volume'] / df['volume'].shift(1)
    df['N_day_High'] = df['close'].rolling(window=n).max()
    df['N_day_MA_Open'] = df['open'].rolling(window=n).mean()
    df['Open_Price_Divergence'] = df['open'] - df['N_day_MA_Open']
    
    # Generate the final factor
    factor = (
        df['Intraday_Momentum'] * 
        (df['close'] > df['N_day_High']).astype(int) * 
        (df['Open_Price_Divergence'] < 0).astype(int) *
        df['Volume_Change_Ratio']
    )
    
    return factor
```
