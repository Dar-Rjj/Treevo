```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate Daily VWAP
    df['total_volume'] = df['volume']
    df['dollar_value'] = df['close'] * df['volume']
    df['vwap'] = df.groupby(df.index.date)['dollar_value'].transform('sum') / df.groupby(df.index.date)['total_volume'].transform('sum')

    # Calculate VWAP Deviation
    df['vwap_deviation'] = df['close'] - df['vwap']

    # Calculate Cumulative VWAP Deviation
    df['cumulative_vwap_deviation'] = df['vwap_deviation'].rolling(window=20, min_periods=1).sum()

    # Integrate Short-Term Momentum
    short_term_momentum_period = 5
    df['short_term_momentum'] = (df['close'] - df['close'].shift(short_term_momentum_period)) / df['close'].shift(short_term_momentum_period)
    
    # Integrate Medium-Term Momentum
    medium_term_momentum_period = 10
    df['medium_term_momentum'] = (df['close'] - df['close'].shift(medium_term_momentum_period)) / df['close'].shift(medium_term_momentum_period)

    # Incorporate Exponential Moving Average (EMA) for Smoothing
    ema_period = 20
    alpha = 2 / (ema_period + 1)
    df['ema'] = df['close'].ewm(span=ema_period, adjust=False).mean()
    
    # Incorporate Average True Range (ATR) for Volatility
    atr_period = 14
    df['true_range'] = df[['high', 'low', 'close']].diff(axis=1).abs().max(axis=1)
    df['atr'] = df['true_range'].rolling(window=atr_period, min_periods=1).mean()

    # Normalize with ATR
    df['normalized_cumulative_vwap_deviation'] = df['cumulative_vwap_deviation'] / df['atr']
    df['normalized_short_term_momentum'] = df['short_term_momentum'] / df['atr']
    df['normalized_medium_term_momentum'] = df['medium_term_momentum'] / df['atr']
    df['normalized_ema'] = df['ema'] / df['atr']

    # Final Alpha Factor
    df['alpha_factor'] = (
        df['normalized_cumulative_vwap_deviation'] +
        df['normalized_short_term_momentum'] +
        df['normalized_medium_term_momentum'] +
        df['normalized_ema']
    )

    return df['alpha_factor']
```
