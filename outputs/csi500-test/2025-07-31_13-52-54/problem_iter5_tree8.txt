```txt
Crossover of Intraday Volatility-Adjusted Return and Momentum with Volume Confirmation and Combined Momentum and Volume-Weighted Returns with Surge Indicator
├── Calculate True Range
│   ├── Calculate High-Low Difference
│   │   ├── Use High price
│   │   └── Use Low price
│   ├── Calculate High-Close Difference (Previous Day)
│   │   ├── Use High price
│   │   └── Use Close price (Previous Day)
│   ├── Calculate Low-Close Difference (Previous Day)
│   │   ├── Use Low price
│   │   └── Use Close price (Previous Day)
│   └── Choose the Maximum of Differences
│       ├── Compare High-Low Difference
│       ├── Compare High-Close Difference
│       └── Compare Low-Close Difference
├── Calculate Intraday Percentage Change
│   ├── Use High Price
│   ├── Use Low Price
│   ├── Subtract Low from High
│   └── Divide by Close to get Intraday Percentage Change
├── Adjust for Volume and Intraday Price Change
│   ├── Calculate Intraday Price Change
│   │   ├── Use Close price
│   │   └── Use Open price
│   ├── Sum of Volumes
│   │   ├── Use Volume
│   │   └── Sum over a Lookback Period
│   └── Generate Alpha Factor
│       ├── Divide Intraday Price Change by True Range
│       └── Multiply by Sum of Volumes
├── Compute Intraday Volatility
│   ├── Use High Price
│   ├── Use Low Price
│   ├── Calculate Absolute Difference
│   └── Sum Differences over a Window (e.g., 20 days)
├── Intraday Momentum Factor
│   ├── Use Intraday Return
│   ├── Multiply by Volume
│   └── Sum over a Short Window (e.g., 5 days)
├── Volume-Weighted Intraday Reversal
│   ├── Use Intraday Return
│   ├── Multiply by Volume
│   ├── Take the Negative of the Product
│   └── Sum over a Longer Window (e.g., 10 days)
├── Calculate Price Momentum
│   ├── Determine N-day Close Price Difference
│   │   ├── Use Close price of today
│   │   └── Subtract Close price of N days ago
│   ├── Calculate M-day Close Price Difference
│   │   ├── Use Close price of today
│   │   └── Subtract Close price of M days ago
│   └── Combine Differences
│       ├── Sum N-day and M-day differences
│       └── Output as Price Momentum
├── Calculate Daily Returns
│   ├── Use Close price of current day
│   └── Use Close price of previous day
├── Long-Term Volume-Weighted Average Return (Momentum Component)
│   ├── Calculate Daily Returns for the last 100 days
│   ├── Sum of Daily Returns
│   │   ├── Loop over all returns in the last 100 days
│   └── Weight by Volume
│       ├── Use Volume for each day
│       └── Multiply Volume by Returns
│           ├── Sum the weighted returns
│           └── Divide by the total volume over the 100 days
├── Short-Term Volume-Weighted Average Return (Reversal Component)
│   ├── Calculate Daily Returns for the last 5 days
│   ├── Sum of Daily Returns
│   │   ├── Loop over all returns in the last 5 days
│   └── Weight by Volume
│       ├── Use Volume for each day
│       └── Multiply Volume by Returns
│           ├── Sum the weighted returns
│           └── Divide by the total volume over the 5 days
├── Combine Momentum and Reversal Components
│   ├── Subtract Short-Term Volume-Weighted Average Return from Long-Term
│   └── Output as Combined Momentum-Reversal Factor
├── Calculate Volume Surge
│   ├── Determine N-day Volume Change
│   │   ├── Use Volume of today
│   │   └── Subtract Volume of N days ago
│   ├── Determine M-day Volume Change
│   │   ├── Use Volume of today
│   │   └── Subtract Volume of M days ago
│   └── Combine Changes
│       ├── Sum N-day and M-day volume changes
│       └── Output as Volume Surge
├── Synthesize Final Alpha Factor
│   ├── Multiply Price Momentum by Combined Momentum-Reversal Factor
│   ├── If Volume Surge is negative, apply a penalty
│   │   └── Multiply by 0.8

