```txt
Volume-Weighted High-Low Spread with Momentum, Price Trend, and Integrated Volatility and Trade Frequency Adjustments
├── Calculate Volume-Weighted High-Low Spread
│   ├── Subtract Low from High price
│   ├── Multiply (High - Low) by Volume
│   └── Sum of these values over the lookback period
├── Compute Volume-Averaged Close Price
│   ├── Sum of (Close price * Volume)
│   └── Total Volume
├── Compute Ratio
│   ├── Divide Volume-Weighted High-Low Spread by Volume-Averaged Close Price
│   └── Output: Volume-Weighted High-Low Spread Ratio
├── Calculate Momentum Component
│   ├── Current Day's Volume-Weighted High-Low Spread
│   ├── Average of Past n Days' Volume-Weighted High-Low Spreads
│   └── Subtract past average from current value
├── Generate Initial Factor
│   ├── Combine Volume-Weighted High-Low Spread Ratio and Momentum
│   │   └── Add the two components together
├── Incorporate Price Trend
│   ├── Calculate n-Day Moving Average of Close Prices
│   │   ├── Sum of Close prices over the last n days
│   │   └── Divide by n to get the moving average
│   ├── Subtract n-Day Moving Average from the Current Close Price
│   └── Multiply the result by the generated initial factor
├── Calculate Price Momentum
│   ├── Use Close price
│   └── Calculate n-day log return
├── Calculate Enhanced Volume-Weighted Volatility
│   ├── Calculate Volatility
│   │   └── Use Open, High, Low, and Close prices
│   │       └── Calculate standard deviation over n days
│   └── Weight by Volume
│       └── Multiply Volatility by logarithm of Volume
├── Calculate Trade Frequency Adjusted Return
│   ├── Count daily trades using Volume
│   └── Calculate n-day return adjusted by square root of trade frequency
├── Calculate Volume-Average Price
│   ├── Sum of (Close price * Volume)
│   └── Total Volume
├── Compute Volume-Averaged High-Low Spread Ratio
│   ├── Divide High-Low Spread by Volume-Average Price
│   └── Output: Volume-Averaged High-Low Spread Ratio
├── Calculate Intraday Range Growth
│   ├── Today's High-Low Range
│   │   ├── Use High price
│   │   └── Use Low price
│   ├── Previous Day's High-Low Range
│   │   ├── Use High price (lagged by 1)
│   │   └── Use Low price (lagged by 1)
│   └── Compute Intraday Range Growth
│       ├── Subtract Previous Day's High-Low Range from Today's High-Low Range
│       └── Divide by Previous Day's High-Low Range
├── Adjust for Volume Surge
│   ├── Determine N-day Volume Change
│   │   ├── Use Volume of today
│   │   └── Subtract Volume of N days ago
│   ├── Determine M-day Volume Change
│   │   ├── Use Volume of today
│   │   └── Subtract Volume of M days ago
│   └── Combine Changes
│       ├── Sum N-day and M-day volume changes
│   └── If Volume Surge is negative, apply a penalty
│       └── Multiply by 0.8
├── Leverage Price and Volume for an Intensity Factor
│   ├── Multiply the return (close to close) by the volume traded
│   ├── Use a moving average of this intensity factor over the past 20 days to smooth out short-term fluctuations
├── Combine Factors
│   ├── Multiply Price Momentum by Enhanced Volume-Weighted Volatility
│   ├── Add Trade Frequency Adjusted Return
│   ├── Add Volume-Averaged High-Low Spread Ratio
│   ├── Add Intraday Range Growth
│   ├── Add Adjusted Volume Surge
│   └── Add Volume-Intensity Factor
└── Final Alpha Factor
    ├── Multiply the combined factor from the first tree by the transformed value from the second tree
    └── Apply a nonlinear transformation to the sum (e.g., square)
```
