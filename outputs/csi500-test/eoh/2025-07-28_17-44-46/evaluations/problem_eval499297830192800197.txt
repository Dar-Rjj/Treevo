import pandas as pd
    
    # Calculate daily return
    daily_return = df['close'].pct_change()
    
    # Calculate 20-day moving average of the daily return
    ma_daily_return = daily_return.rolling(window=20).mean()
    
    # Calculate the ratio of amount to volume
    ratio_amount_volume = df['amount'] / df['volume']
    
    # Generate the heuristics matrix by combining the two factors
    heuristics_matrix = (ma_daily_return + ratio_amount_volume) / 2
    
    return heuristics_matrix
