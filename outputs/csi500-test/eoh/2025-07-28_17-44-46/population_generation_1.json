[
     {
          "algorithm": "The new algorithm calculates a factor based on the exponential moving average of the true range divided by the simple moving average of the closing price over different windows, aiming to balance recent and long-term volatility with trend strength.}\n\n```python\nimport pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate True Range\n    tr = pd.DataFrame({'hl': df['high'] - df['low'], 'hc': abs(df['high'] - df['close'].shift(1)), 'lc': abs(df['low'] - df['close'].shift(1))",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate True Range\n    tr = pd.DataFrame({'hl': df['high'] - df['low'], 'hc': abs(df['high'] - df['close'].shift(1)), 'lc': abs(df['low'] - df['close'].shift(1))})\n    tr['tr'] = tr.max(axis=1)\n    \n    # Calculate Exponential Moving Average of True Range (EMATR) over the last 30 days\n    ematr = tr['tr'].ewm(span=30, adjust=False).mean()\n    \n    # Calculate the 20-day moving average of the close price\n    ma_close = df['close'].rolling(window=20).mean()\n    \n    # Generate the new factor by dividing EMATR by the Moving Average of the Close Price\n    heuristics_matrix = ematr / ma_close\n    \n    return heuristics_matrix",
          "objective": -0.02795,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a factor based on the exponential moving average of the true range divided by the simple moving average of the closing price, aiming to give more weight to recent volatility while also considering the trend strength.}\n\n```python\nimport pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate True Range\n    tr = pd.DataFrame({'hl': df['high'] - df['low'], 'hc': abs(df['high'] - df['close'].shift(1)), 'lc': abs(df['low'] - df['close'].shift(1))",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate True Range\n    tr = pd.DataFrame({'hl': df['high'] - df['low'], 'hc': abs(df['high'] - df['close'].shift(1)), 'lc': abs(df['low'] - df['close'].shift(1))})\n    tr['tr'] = tr.max(axis=1)\n    \n    # Calculate Exponential Moving Average of True Range (EMATR) over the last 14 days\n    ematr = tr['tr'].ewm(span=14, adjust=False).mean()\n    \n    # Calculate the 5-day moving average of the close price\n    ma_close = df['close'].rolling(window=5).mean()\n    \n    # Generate the new factor by dividing EMATR by the Moving Average of the Close Price\n    heuristics_matrix = ematr / ma_close\n    \n    return heuristics_matrix",
          "objective": -0.02709,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a factor by incorporating the average daily range (high minus low) over a 20-day period, adjusted by the ratio of today's volume to the minimum volume observed over the same period.",
          "code": "def heuristics_v2(df):\n    # Calculate the 20-day moving average of the daily range (high - low)\n    df['avg_range_20'] = (df['high'] - df['low']).rolling(window=20).mean()\n    \n    # Find the minimum volume over the same 20-day window\n    df['min_volume_20'] = df['volume'].rolling(window=20).min()\n    \n    # Generate the new factor by adjusting the average daily range with the ratio of today's volume to the minimum volume\n    df['new_factor'] = df['avg_range_20'] * (df['volume'] / df['min_volume_20'])\n    \n    # Prepare the output\n    heuristics_matrix = df['new_factor']\n    \n    return heuristics_matrix",
          "objective": -0.02619,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a factor based on the ratio of average true range over a specified period to the moving average of the closing price, aiming to incorporate both volatility and trend strength.}\n\n```python\nimport pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate True Range\n    tr = pd.DataFrame({'hl': df['high'] - df['low'], 'hc': abs(df['high'] - df['close'].shift(1)), 'lc': abs(df['low'] - df['close'].shift(1))",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate True Range\n    tr = pd.DataFrame({'hl': df['high'] - df['low'], 'hc': abs(df['high'] - df['close'].shift(1)), 'lc': abs(df['low'] - df['close'].shift(1))})\n    tr['tr'] = tr.max(axis=1)\n    \n    # Calculate Average True Range (ATR) over the last 14 days\n    atr = tr['tr'].rolling(window=14).mean()\n    \n    # Calculate the 5-day moving average of the close price\n    ma_close = df['close'].rolling(window=5).mean()\n    \n    # Generate the new factor by dividing ATR by the Moving Average of the Close Price\n    heuristics_matrix = atr / ma_close\n    \n    return heuristics_matrix",
          "objective": -0.02532,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a 20-day and 60-day moving average of the close price, then generates a momentum-based factor incorporating these averages with changes in trading volume, and finally applies an exponential smoothing to this factor for stability.",
          "code": "def heuristics_v2(df):\n    # Calculate 20-day and 60-day moving averages of the close price\n    df['ma20'] = df['close'].rolling(window=20).mean()\n    df['ma60'] = df['close'].rolling(window=60).mean()\n    \n    # Compute the momentum-based factor\n    df['momentum_factor'] = (df['close'] / df[['ma20', 'ma60']].min(axis=1)) * (df['volume'] / df['volume'].shift(1))\n    \n    # Apply exponential smoothing to the momentum-based factor\n    df['smoothed_momentum'] = df['momentum_factor'].ewm(span=5, adjust=False).mean()\n    \n    # Prepare the output\n    heuristics_matrix = df['smoothed_momentum']\n    \n    return heuristics_matrix",
          "objective": -0.0245,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a momentum-based factor using the ratio of closing prices to their 20-day and 60-day exponential moving averages, incorporates changes in trading volume, and applies an Exponential Moving Average (EMA) for smoothing with a span of 10.",
          "code": "def heuristics_v2(df):\n    df['ema20'] = df['close'].ewm(span=20, adjust=False).mean()\n    df['ema60'] = df['close'].ewm(span=60, adjust=False).mean()\n    \n    df['momentum_factor'] = (df['close'] / df[['ema20', 'ema60']].min(axis=1)) * (df['volume'] / df['volume'].shift(1))\n    \n    df['smoothed_momentum'] = df['momentum_factor'].ewm(span=10, adjust=False).mean()\n    \n    heuristics_matrix = df['smoothed_momentum']\n    \n    return heuristics_matrix",
          "objective": -0.0244,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a trend-following factor using the ratio of closing prices to their 20-day and 50-day exponential moving averages, incorporates changes in trading amount, and applies an Exponential Moving Average (EMA) for smoothing.",
          "code": "def heuristics_v2(df):\n    # Calculate 20-day and 50-day exponential moving averages of the close price\n    df['ema20'] = df['close'].ewm(span=20, adjust=False).mean()\n    df['ema50'] = df['close'].ewm(span=50, adjust=False).mean()\n    \n    # Compute the trend-following factor\n    df['trend_factor'] = (df['close'] / df[['ema20', 'ema50']].min(axis=1)) * (df['amount'] / df['amount'].shift(1))\n    \n    # Apply an Exponential Moving Average (EMA) for smoothing\n    df['smoothed_trend'] = df['trend_factor'].ewm(span=7, adjust=False).mean()\n    \n    # Prepare the output\n    heuristics_matrix = df['smoothed_trend']\n    \n    return heuristics_matrix",
          "objective": -0.02385,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates an alpha factor based on the ratio of the 10-day exponential moving average (EMA) of the close price to the 20-day EMA, adjusted by the 30-day standard deviation of daily returns.",
          "code": "def heuristics_v2(df):\n    # Calculate EMAs\n    ema_short = df['close'].ewm(span=10, adjust=False).mean()\n    ema_long = df['close'].ewm(span=20, adjust=False).mean()\n    \n    # Calculate the ratio of the EMAs\n    ema_ratio = ema_short / ema_long\n    \n    # Calculate the 30-day standard deviation of daily returns\n    daily_returns = df['close'].pct_change()\n    std_dev = daily_returns.rolling(window=30).std()\n    \n    # Generate heuristics matrix\n    heuristics_matrix = ema_ratio * std_dev\n    \n    return heuristics_matrix",
          "objective": -0.02375,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm involves calculating a momentum-based factor that combines the ratio of closing prices to their moving averages with trading volume changes, then applying a custom smoothing technique to generate more stable and interpretable alpha factors.",
          "code": "def heuristics_v2(df):\n    # Calculate 10-day and 30-day moving averages of the close price\n    df['ma10'] = df['close'].rolling(window=10).mean()\n    df['ma30'] = df['close'].rolling(window=30).mean()\n    \n    # Compute the momentum-based factor\n    df['momentum_factor'] = (df['close'] / df[['ma10', 'ma30']].min(axis=1)) * (df['volume'] / df['volume'].shift(1))\n    \n    # Apply a simple smoothing (SMA) to the momentum-based factor\n    df['smoothed_momentum'] = df['momentum_factor'].rolling(window=5).mean()\n    \n    # Prepare the output\n    heuristics_matrix = df['smoothed_momentum']\n    \n    return heuristics_matrix",
          "objective": -0.0225,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a momentum-based factor using the ratio of closing prices to their 10-day and 30-day exponential moving averages, incorporates changes in trading volume, and applies an Exponential Moving Average (EMA) for smoothing.",
          "code": "def heuristics_v2(df):\n    # Calculate 10-day and 30-day exponential moving averages of the close price\n    df['ema10'] = df['close'].ewm(span=10, adjust=False).mean()\n    df['ema30'] = df['close'].ewm(span=30, adjust=False).mean()\n    \n    # Compute the momentum-based factor\n    df['momentum_factor'] = (df['close'] / df[['ema10', 'ema30']].min(axis=1)) * (df['volume'] / df['volume'].shift(1))\n    \n    # Apply an Exponential Moving Average (EMA) for smoothing\n    df['smoothed_momentum'] = df['momentum_factor'].ewm(span=5, adjust=False).mean()\n    \n    # Prepare the output\n    heuristics_matrix = df['smoothed_momentum']\n    \n    return heuristics_matrix",
          "objective": -0.02195,
          "other_inf": null
     }
]