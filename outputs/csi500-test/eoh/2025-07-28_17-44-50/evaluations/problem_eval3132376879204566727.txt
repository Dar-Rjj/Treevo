import pandas as pd

def heuristics_v2(df):
    ema_20_close = df['close'].ewm(span=20).mean()
    max_vol_10d = df['volume'].rolling(window=10).max()
    min_vol_60d = df['volume'].rolling(window=60).min()
    vol_ratio = max_vol_10d / min_vol_60d
    close_std_30d = df['close'].rolling(window=30).std()
    heuristics_matrix = (ema_20_close + vol_ratio) * close_std_30d
    return heuristics_matrix
