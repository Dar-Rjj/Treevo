def heuristics_v2(df):
    # Calculate the 7-day exponential moving average of the close price
    ema_close = df['close'].ewm(span=7, adjust=False).mean()
    
    # Calculate the 20-day momentum (difference between the current close and the close 20 days ago)
    momentum_20d = df['close'] - df['close'].shift(20)
    
    # Calculate the 10-day simple moving average of the volume
    sma_volume_10d = df['volume'].rolling(window=10).mean()
    
    # Calculate the ratio of the current day's volume to the 10-day SMA volume
    vol_ratio = df['volume'] / sma_volume_10d
    
    # Define weights for each component
    w1, w2, w3 = 0.5, 0.3, 0.2
    
    # Combine the components into a single alpha factor
    heuristics_matrix = w1 * ema_close + w2 * momentum_20d + w3 * vol_ratio
    
    return heuristics_matrix
