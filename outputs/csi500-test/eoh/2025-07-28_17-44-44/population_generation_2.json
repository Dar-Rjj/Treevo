[
     {
          "algorithm": "The new algorithm computes the alpha factor by taking the difference between 20-day and 40-day EMAs of the closing price, then subtracting a term that scales the 10-day EMA of the volume by the mean of the close prices over 10 days.",
          "code": "def heuristics_v2(df):\n    # Calculate 20-day and 40-day EMAs of close prices\n    ema_20_close = df['close'].ewm(span=20, adjust=False).mean()\n    ema_40_close = df['close'].ewm(span=40, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_20_close - ema_40_close\n\n    # Calculate 10-day EMA of volume\n    ema_10_volume = df['volume'].ewm(span=10, adjust=False).mean()\n\n    # Calculate 10-day mean of close prices\n    mean_10_close = df['close'].rolling(window=10).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_10_volume * mean_10_close)\n\n    return heuristics_matrix",
          "objective": -0.04377,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm generates an alpha factor by calculating the difference between the 30-day and 60-day EMAs of the closing price, then subtracting a term that scales the 21-day EMA of the volume by the average true range (ATR) over 21 days to account for market volatility.",
          "code": "def heuristics_v2(df):\n    # Calculate 30-day and 60-day EMAs of close prices\n    ema_30_close = df['close'].ewm(span=30, adjust=False).mean()\n    ema_60_close = df['close'].ewm(span=60, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_30_close - ema_60_close\n\n    # Calculate 21-day EMA of volume\n    ema_21_volume = df['volume'].ewm(span=21, adjust=False).mean()\n\n    # Calculate 21-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=21).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_21_volume * atr)\n\n    return heuristics_matrix",
          "objective": -0.04066,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm generates an alpha factor by calculating the difference between the 20-day and 50-day EMAs of the closing price, then subtracting a term that scales the 14-day EMA of the volume by the average true range (ATR) over 14 days to account for market volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate 20-day and 50-day EMAs of close prices\n    ema_20_close = df['close'].ewm(span=20, adjust=False).mean()\n    ema_50_close = df['close'].ewm(span=50, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_20_close - ema_50_close\n\n    # Calculate 14-day EMA of volume\n    ema_14_volume = df['volume'].ewm(span=14, adjust=False).mean()\n\n    # Calculate 14-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=14).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_14_volume * atr)\n\n    return heuristics_matrix",
          "objective": -0.03961,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the alpha factor by taking the difference between 10-day and 30-day EMAs of the closing price, then subtracting a term that scales the 7-day EMA of the volume by the average true range (ATR) over 7 days.",
          "code": "def heuristics_v2(df):\n    # Calculate 10-day and 30-day EMAs of close prices\n    ema_10_close = df['close'].ewm(span=10, adjust=False).mean()\n    ema_30_close = df['close'].ewm(span=30, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_10_close - ema_30_close\n\n    # Calculate 7-day EMA of volume\n    ema_7_volume = df['volume'].ewm(span=7, adjust=False).mean()\n\n    # Calculate 7-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=7).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_7_volume * atr)\n\n    return heuristics_matrix",
          "objective": -0.03793,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the alpha factor by taking the difference between 5-day and 20-day EMAs of the closing price, then subtracting a term that scales the 5-day EMA of the volume by the average true range (ATR) over 5 days.",
          "code": "def heuristics_v2(df):\n    # Calculate 5-day and 20-day EMAs of close prices\n    ema_5_close = df['close'].ewm(span=5, adjust=False).mean()\n    ema_20_close = df['close'].ewm(span=20, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_5_close - ema_20_close\n\n    # Calculate 5-day EMA of volume\n    ema_5_volume = df['volume'].ewm(span=5, adjust=False).mean()\n\n    # Calculate 5-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=5).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_5_volume * atr)\n\n    return heuristics_matrix",
          "objective": -0.0373,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the 20-day and 50-day EMAs of the closing price, then finds the difference between these EMAs, and subtracts a term that scales the 14-day EMA of the volume by the logarithm of the 14-day ATR to account for market volatility.",
          "code": "import pandas as pd\nimport numpy as np\n\ndef heuristics_v2(df):\n    # Calculate 20-day and 50-day EMAs of close prices\n    ema_20_close = df['close'].ewm(span=20, adjust=False).mean()\n    ema_50_close = df['close'].ewm(span=50, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_20_close - ema_50_close\n\n    # Calculate 14-day EMA of volume\n    ema_14_volume = df['volume'].ewm(span=14, adjust=False).mean()\n\n    # Calculate 14-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=14).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_14_volume * np.log(atr + 1))\n\n    return heuristics_matrix",
          "objective": -0.03479,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes the alpha factor by taking the difference between 14-day and 28-day EMAs of the closing price, then subtracting a term that scales the 5-day EMA of the volume by the standard deviation of the close prices over 5 days.",
          "code": "def heuristics_v2(df):\n    # Calculate 14-day and 28-day EMAs of close prices\n    ema_14_close = df['close'].ewm(span=14, adjust=False).mean()\n    ema_28_close = df['close'].ewm(span=28, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_14_close - ema_28_close\n\n    # Calculate 5-day EMA of volume\n    ema_5_volume = df['volume'].ewm(span=5, adjust=False).mean()\n\n    # Calculate 5-day standard deviation of close prices\n    std_5_close = df['close'].rolling(window=5).std()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_5_volume * std_5_close)\n\n    return heuristics_matrix",
          "objective": -0.03222,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the exponential moving average (EMA) crossover of closing prices over 12 and 26 days, the ratio between the highest and lowest volume over a 30-day window, and uses a volatility-adjusted momentum indicator based on the average true range (ATR) over 14 days.",
          "code": "import pandas as pd\nimport numpy as np\n\ndef heuristics_v2(df):\n    # Exponential Moving Average (EMA) Crossover: EMA(12) - EMA(26)\n    ema_12 = df['close'].ewm(span=12, adjust=False).mean()\n    ema_26 = df['close'].ewm(span=26, adjust=False).mean()\n    ema_crossover = ema_12 - ema_26\n    \n    # Ratio between the highest and lowest volume in the last 30 days\n    vol_ratio = df['volume'].rolling(window=30).max() / df['volume'].rolling(window=30).min()\n    \n    # Calculate True Range\n    tr1 = df['high'] - df['low']\n    tr2 = abs(df['high'] - df['close'].shift())\n    tr3 = abs(df['low'] - df['close'].shift())\n    true_range = pd.concat([tr1, tr2, tr3], axis=1).max(axis=1)\n    \n    # Average True Range (ATR) over 14 days\n    atr_14 = true_range.rolling(window=14).mean()\n    \n    # Volatility-adjusted momentum: difference between high and low adjusted by ATR\n    vol_adj_momentum = (df['high'] - df['low']) / atr_14\n    \n    # Composite alpha factor\n    heuristics_matrix = ema_crossover + vol_ratio + vol_adj_momentum\n    \n    return heuristics_matrix",
          "objective": -0.02499,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the ratio of the sum of the last 5 days' positive closing price changes to the sum of the absolute values of the last 20 days' closing price changes, multiplied by the latest day's volume, to capture directional momentum and recent trading intensity.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    df['close_diff'] = df['close'].diff()\n    pos_changes_sum_5 = df['close_diff'].apply(lambda x: x if x > 0 else 0).rolling(window=5).sum()\n    abs_changes_sum_20 = df['close_diff'].abs().rolling(window=20).sum()\n    heuristics_matrix = (pos_changes_sum_5 / abs_changes_sum_20) * df['volume']\n    return heuristics_matrix",
          "objective": -0.0222,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the EMA crossover using 10 and 30-day periods, the ratio between the highest and lowest volume over a 40-day window, and incorporates a volatility-adjusted momentum based on ATR over 20 days.",
          "code": "import pandas as pd\nimport numpy as np\n\ndef heuristics_v2(df):\n    # Exponential Moving Average (EMA) Crossover: EMA(10) - EMA(30)\n    ema_10 = df['close'].ewm(span=10, adjust=False).mean()\n    ema_30 = df['close'].ewm(span=30, adjust=False).mean()\n    ema_crossover = ema_10 - ema_30\n    \n    # Ratio between the highest and lowest volume in the last 40 days\n    vol_ratio = df['volume'].rolling(window=40).max() / df['volume'].rolling(window=40).min()\n    \n    # Calculate True Range\n    tr1 = df['high'] - df['low']\n    tr2 = abs(df['high'] - df['close'].shift())\n    tr3 = abs(df['low'] - df['close'].shift())\n    true_range = pd.concat([tr1, tr2, tr3], axis=1).max(axis=1)\n    \n    # Average True Range (ATR) over 20 days\n    atr_20 = true_range.rolling(window=20).mean()\n    \n    # Volatility-adjusted momentum: difference between high and low adjusted by ATR\n    vol_adj_momentum = (df['high'] - df['low']) / atr_20\n    \n    # Composite alpha factor\n    heuristics_matrix = ema_crossover + vol_ratio + vol_adj_momentum\n    \n    return heuristics_matrix",
          "objective": -0.02218,
          "other_inf": null
     }
]