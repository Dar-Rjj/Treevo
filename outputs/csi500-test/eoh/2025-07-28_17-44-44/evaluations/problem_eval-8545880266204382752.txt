import pandas as pd

def heuristics_v2(df):
    # Calculate 10-day EMA of high and low prices
    ema_10_high = df['high'].ewm(span=10, adjust=False).mean()
    ema_10_low = df['low'].ewm(span=10, adjust=False).mean()

    # Ratio of EMAs of high and low prices
    ratio_ema_high_low = ema_10_high / ema_10_low

    # Calculate 30-day EMA of volume
    ema_30_volume = df['volume'].ewm(span=30, adjust=False).mean()

    # Standard deviation of close prices over the last 5 days as a measure of volatility
    std_close = df['close'].rolling(window=5).std()

    # Heuristic score calculation
    heuristics_matrix = ratio_ema_high_low - ema_30_volume + std_close

    return heuristics_matrix
