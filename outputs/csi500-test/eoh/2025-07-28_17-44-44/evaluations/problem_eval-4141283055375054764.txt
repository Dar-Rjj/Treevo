import pandas as pd

def heuristics_v2(df):
    # Calculate 15-day percentage change in close prices
    pct_change_15 = df['close'].pct_change(periods=15)
    
    # Calculate 30-day median volume
    median_volume_30 = df['volume'].rolling(window=30).median()
    
    # Difference between current day's volume and 30-day median volume
    vol_diff = df['volume'] - median_volume_30
    
    # Calculate 20-day simple moving average (SMA) of close prices
    sma_20_close = df['close'].rolling(window=20).mean()
    
    # Calculate 20-day standard deviation of close prices
    std_20_close = df['close'].rolling(window=20).std()
    
    # Adjusting factor: SMA/Standard Deviation
    adjust_factor = sma_20_close / std_20_close
    
    # Heuristic score calculation
    heuristics_matrix = (pct_change_15 + vol_diff) * adjust_factor

    return heuristics_matrix
