def heuristics_v2(df):
    # Calculate the standard deviation of the last 10 days' high and low prices
    std_dev = (df['high'] - df['low']).rolling(window=10).std()
    
    # Calculate the highest close price over the last 30 days
    max_close_30 = df['close'].rolling(window=30).max()
    
    # Calculate the ratio of the current day's close price to the highest close price over the last 30 days
    close_ratio = df['close'] / max_close_30
    
    # Heuristic score calculation
    heuristics_matrix = std_dev * close_ratio
    
    return heuristics_matrix
