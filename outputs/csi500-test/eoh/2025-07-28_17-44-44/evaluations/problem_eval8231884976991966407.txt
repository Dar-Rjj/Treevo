def heuristics_v2(df):
    # Calculate 10-day momentum of close prices
    momentum_10_close = df['close'] - df['close'].shift(10)
    
    # Calculate 30-day ATR
    tr = pd.concat([df['high'] - df['low'], (df['close'].shift() - df['high']).abs(), (df['close'].shift() - df['low']).abs()], axis=1).max(axis=1)
    atr_30 = tr.rolling(window=30).mean()
    
    # Calculate 5-day SMA of volume
    sma_5_volume = df['volume'].rolling(window=5).mean()
    
    # Ratio of 30-day ATR to 5-day SMA of volume
    atr_sma_ratio = atr_30 / sma_5_volume
    
    # Calculate 14-day RSI of close prices
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    rsi_14 = 100 - (100 / (1 + rs))
    
    # Calculate 7-day EMA of the 14-day RSI
    ema_7_rsi = rsi_14.ewm(span=7, adjust=False).mean()
    
    # Heuristic score calculation
    heuristics_matrix = (momentum_10_close / atr_sma_ratio) + (rsi_14 - ema_7_rsi)
    
    return heuristics_matrix
