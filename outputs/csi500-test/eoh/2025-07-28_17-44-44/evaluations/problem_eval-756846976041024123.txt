import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate 10-day and 30-day EMAs of close prices
    ema_10_close = df['close'].ewm(span=10, adjust=False).mean()
    ema_30_close = df['close'].ewm(span=30, adjust=False).mean()

    # Difference between EMAs of close prices
    diff_ema_close = ema_10_close - ema_30_close

    # Calculate the logarithmic ratio of the latest day's volume to the min of the last 30 days' volume
    volume_log_ratio = np.log(df['volume'] / df['volume'].rolling(window=30).min())

    # Heuristic score calculation
    heuristics_matrix = diff_ema_close * volume_log_ratio

    return heuristics_matrix
