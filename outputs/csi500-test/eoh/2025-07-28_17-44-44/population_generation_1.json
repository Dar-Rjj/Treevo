[
     {
          "algorithm": "The new algorithm generates an alpha factor by calculating the difference between the 20-day and 50-day EMAs of the closing price, then subtracting a term that scales the 14-day EMA of the volume by the average true range (ATR) over 14 days to account for market volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate 20-day and 50-day EMAs of close prices\n    ema_20_close = df['close'].ewm(span=20, adjust=False).mean()\n    ema_50_close = df['close'].ewm(span=50, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_20_close - ema_50_close\n\n    # Calculate 14-day EMA of volume\n    ema_14_volume = df['volume'].ewm(span=14, adjust=False).mean()\n\n    # Calculate 14-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=14).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_14_volume * atr)\n\n    return heuristics_matrix",
          "objective": -0.03961,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the alpha factor by taking the difference between 10-day and 30-day EMAs of the closing price, then subtracting a term that scales the 7-day EMA of the volume by the average true range (ATR) over 7 days.",
          "code": "def heuristics_v2(df):\n    # Calculate 10-day and 30-day EMAs of close prices\n    ema_10_close = df['close'].ewm(span=10, adjust=False).mean()\n    ema_30_close = df['close'].ewm(span=30, adjust=False).mean()\n\n    # Difference between EMAs of close prices\n    diff_ema_close = ema_10_close - ema_30_close\n\n    # Calculate 7-day EMA of volume\n    ema_7_volume = df['volume'].ewm(span=7, adjust=False).mean()\n\n    # Calculate 7-day Average True Range\n    tr = df['high'] - df['low']\n    atr = tr.rolling(window=7).mean()\n\n    # Heuristic score calculation\n    heuristics_matrix = diff_ema_close - (ema_7_volume * atr)\n\n    return heuristics_matrix",
          "objective": -0.03793,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the product of the standard deviation of the last 20 days' closing prices and the ratio of the latest day's volume to the average of the last 60 days' volume, aiming to capture a longer-term volatility and recent trading activity dynamics.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    close_std_20 = df['close'].rolling(window=20).std()\n    volume_ratio = df['volume'] / df['volume'].rolling(window=60).mean()\n    heuristics_matrix = close_std_20 * volume_ratio\n    return heuristics_matrix",
          "objective": -0.02173,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the rate of change in closing prices over a 21-day window, the ratio between the highest and lowest volume over a 40-day window, and uses a volatility-adjusted momentum indicator based on the standard deviation of returns over 15 days.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Rate of change in closing prices over 21 days\n    roc_close = df['close'].pct_change(periods=21)\n    \n    # Ratio between the highest and lowest volume in the last 40 days\n    vol_ratio = df['volume'].rolling(window=40).max() / df['volume'].rolling(window=40).min()\n    \n    # Volatility-adjusted momentum: difference between high and low adjusted by standard deviation of returns over 15 days\n    daily_returns = df['close'].pct_change()\n    std_dev_returns = daily_returns.rolling(window=15).std()\n    vol_adj_momentum = (df['high'] - df['low']) / std_dev_returns\n    \n    # Composite alpha factor\n    heuristics_matrix = roc_close + vol_ratio + vol_adj_momentum\n    \n    return heuristics_matrix",
          "objective": -0.02125,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the product of the standard deviation of the last 10 days' closing prices and the ratio of the latest day's volume to the average of the last 30 days' volume, aiming to capture volatility and recent trading activity dynamics.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    close_std_10 = df['close'].rolling(window=10).std()\n    volume_ratio = df['volume'] / df['volume'].rolling(window=30).mean()\n    heuristics_matrix = close_std_10 * volume_ratio\n    return heuristics_matrix",
          "objective": -0.02067,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the product of the exponential moving average (EMA) of the last 10 days' closing prices and the ratio of the latest day's volume to the average of the last 30 days' volume, aiming to incorporate a smoother trend measure with recent trading activity.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    close_ema_10 = df['close'].ewm(span=10).mean()\n    volume_ratio = df['volume'] / df['volume'].rolling(window=30).mean()\n    heuristics_matrix = close_ema_10 * volume_ratio\n    return heuristics_matrix",
          "objective": -0.02049,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the rate of change in closing prices over a 7-day period, the ratio between the highest and lowest volume over a 15-day window, and incorporates a volatility-adjusted momentum indicator using the difference between high and low prices adjusted by the standard deviation of returns over a 10-day period.",
          "code": "def heuristics_v2(df):\n    # Rate of change in closing prices over 7 days\n    roc_close = df['close'].pct_change(periods=7)\n    \n    # Ratio between the highest and lowest volume in the last 15 days\n    vol_ratio = df['volume'].rolling(window=15).max() / df['volume'].rolling(window=15).min()\n    \n    # Volatility-adjusted momentum: difference between high and low adjusted by standard deviation of returns over 10 days\n    daily_returns = df['close'].pct_change()\n    std_dev_returns = daily_returns.rolling(window=10).std()\n    vol_adj_momentum = (df['high'] - df['low']) / std_dev_returns\n    \n    # Composite alpha factor\n    heuristics_matrix = roc_close + vol_ratio + vol_adj_momentum\n    \n    return heuristics_matrix",
          "objective": -0.01999,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm will integrate the relative strength index (RSI) to gauge momentum, a ratio of today's close to the 50-day simple moving average (SMA) for trend assessment, and the difference between current volume and the 10-day minimum volume as a proxy for liquidity.",
          "code": "def heuristics_v2(df):\n    # Momentum signal: Relative Strength Index (RSI) with a 14-day window\n    delta = df['close'].diff(1)\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    rsi_signal = 100 - (100 / (1 + rs))\n    \n    # Trend-following signal: Close price divided by 50-day SMA\n    sma_50 = df['close'].rolling(window=50).mean()\n    trend_signal = df['close'] / sma_50\n    \n    # Liquidity signal: Today's volume minus the 10-day minimum volume\n    min_vol_10 = df['volume'].rolling(window=10).min()\n    liquidity_signal = df['volume'] - min_vol_10\n    \n    # Composite alpha factor as the simple average of the above signals\n    heuristics_matrix = (rsi_signal + trend_signal + liquidity_signal) / 3\n    \n    return heuristics_matrix",
          "objective": -0.01994,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the rate of change in closing prices over 21 days, the ratio between the highest and lowest volume over a 40-day window, and employs a volatility-adjusted momentum indicator using the standard deviation of returns over 30 days.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Rate of change in closing prices over 21 days\n    roc_close = df['close'].pct_change(periods=21)\n    \n    # Ratio between the highest and lowest volume in the last 40 days\n    vol_ratio = df['volume'].rolling(window=40).max() / df['volume'].rolling(window=40).min()\n    \n    # Volatility-adjusted momentum: difference between high and low adjusted by standard deviation of returns over 30 days\n    daily_returns = df['close'].pct_change()\n    std_dev_returns = daily_returns.rolling(window=30).std()\n    vol_adj_momentum = (df['high'] - df['low']) / std_dev_returns\n    \n    # Composite alpha factor\n    heuristics_matrix = roc_close + vol_ratio + vol_adj_momentum\n    \n    return heuristics_matrix",
          "objective": -0.01988,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a unique alpha factor by assessing the ratio of the closing price to the average of the high and low prices over a 20-day period, then combining this with the rate of change in trading volume over a 5-day period, and finally smoothing the result using a 10-day exponential moving average.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    price_ratio = df['close'] / ((df['high'].rolling(window=20).mean() + df['low'].rolling(window=20).mean()) / 2)\n    volume_change = (df['volume'] - df['volume'].shift(5)) / df['volume'].shift(5)\n    combined_factors = price_ratio * volume_change\n    heuristics_matrix = combined_factors.ewm(span=10, adjust=False).mean()\n    return heuristics_matrix",
          "objective": -0.01974,
          "other_inf": null
     }
]