import pandas as pd

def heuristics_v2(df):
    # Calculate the moving average of volume over the last 10 days
    vol_ma = df['volume'].rolling(window=10).mean()
    
    # Compute the weight as the ratio of today's volume to the 10-day moving average of volume
    weight = df['volume'] / vol_ma
    
    # Calculate the weighted average of open and close prices
    weighted_avg = (df['open'] * weight + df['close']) / (weight + 1)
    
    # Compute the 10-day Exponential Moving Average (EMA) of the close price
    ema_close = df['close'].ewm(span=10, adjust=False).mean()
    
    # Generate the heuristics matrix
    heuristics_matrix = weighted_avg - ema_close
    
    return heuristics_matrix
