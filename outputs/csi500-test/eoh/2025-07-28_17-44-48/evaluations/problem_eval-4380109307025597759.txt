def heuristics_v2(df):
    # Calculate the daily price change
    delta = df['close'].diff()
    
    # Get positive and negative gains
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    
    # Calculate the relative strength (RS)
    RS = gain / loss
    
    # Compute RSI
    RSI = 100 - (100 / (1 + RS))
    
    # Calculate 30-day maximum high
    max_high_30 = df['high'].rolling(window=30).max()
    
    # Compute the closing price to max high ratio
    close_to_max_high_ratio = df['close'] / max_high_30
    
    # Combine RSI with the close to max high ratio
    heuristics_matrix = RSI * close_to_max_high_ratio
    
    return heuristics_matrix
