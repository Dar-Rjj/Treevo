def heuristics_v2(df):
    # Rate of change in closing price over 20 days
    roc_20 = (df['close'] - df['close'].shift(20)) / df['close'].shift(20)
    
    # Average True Range (ATR) as volatility measure over 14 days
    tr1 = df['high'] - df['low']
    tr2 = abs(df['high'] - df['close'].shift())
    tr3 = abs(df['low'] - df['close'].shift())
    tr = pd.concat([tr1, tr2, tr3], axis=1).max(axis=1)
    atr_14 = tr.rolling(window=14).mean()
    
    # Volume-based liquidity indicator: Ratio of current day's volume to the highest volume over the past 20 days
    max_volume_20 = df['volume'].rolling(window=20).max()
    volume_liquidity = df['volume'] / max_volume_20
    
    # Composite heuristic score
    heuristics_matrix = 0.5 * roc_20 - 0.3 * atr_14 + 0.2 * volume_liquidity
    return heuristics_matrix
