```txt
Weighted Average of Price Gaps with Volume and Amount Momentum
├── Calculate Price Gap
│   ├── Use Open price
│   └── Subtract Close price
├── Calculate Volume Momentum
│   ├── Compute 5-day Exponential Moving Average (EMA) of Volumes
│   │   └── Use Volume
│   └── Compute Current Day Volume Ratio
│       ├── Use Current Day's Volume
│       └── Divide by 5-day EMA of Volumes
├── Incorporate Amount Momentum
│   ├── Compute 5-day Exponential Moving Average (EMA) of Amounts
│   │   └── Use Amount
│   └── Compute Current Day Amount Ratio
│       ├── Use Current Day's Amount
│       └── Divide by 5-day EMA of Amounts
└── Weight the Price Gaps
    ├── Multiply Each Price Gap by Corresponding Volume Ratio
    ├── Multiply Each Weighted Price Gap by Corresponding Amount Ratio
    └── Sum All Double-Weighted Price Gaps
```
