```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate Volume Adjusted Price (VAP)
    typical_price = (df['high'] + df['low'] + df['close']) / 3
    vap = typical_price * df['volume']
    
    # Calculate Volume Adjusted Momentum
    ema_20 = vap.ewm(span=20, adjust=False).mean()
    momentum = vap - ema_20
    
    # Incorporate Recent Volatility
    returns = df['close'].pct_change()
    volatility = returns.rolling(window=10).std()
    inv_volatility = 1 / volatility
    momentum_adj_volatility = momentum * inv_volatility
    
    # Integrate Volume Shock Factor
    avg_volume_10 = df['volume'].rolling(window=10).mean()
    volume_shock = (df['volume'] - avg_volume_10) / avg_volume_10
    
    # Combine Volume Adjusted Momentum and High-Low Range Volatility with Volume Shock
    high_low_range = df['high'] - df['low']
    high_low_range_std = high_low_range.rolling(window=20).std()
    factor = (momentum_adj_volatility - high_low_range_std) * volume_shock
    
    return factor
```
