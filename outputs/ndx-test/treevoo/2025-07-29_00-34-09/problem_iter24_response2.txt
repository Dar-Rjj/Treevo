```python
import pandas as pd

def heuristics_v2(df):
    # Calculate 5-day and 20-day EWMA of close prices
    ewma_5 = df['close'].ewm(span=5, adjust=False).mean()
    ewma_20 = df['close'].ewm(span=20, adjust=False).mean()

    # Compute 5-day and 20-day rolling total volume
    volume_5 = df['volume'].rolling(window=5).sum()
    volume_20 = df['volume'].rolling(window=20).sum()

    # Compute 5-day and 20-day VWAP using a rolling window
    vwap_5 = (df['volume'] * df['close']).rolling(window=5).sum() / volume_5
    vwap_20 = (df['volume'] * df['close']).rolling(window=20).sum() / volume_20

    # Compute 5-day and 20-day ATR
    tr = df[['high', 'low', 'close']].apply(lambda x: max(x[0], x[1]) - min(x[0], x[1]), axis=1)
    atr_5 = tr.rolling(window=5).mean()
    atr_20 = tr.rolling(window=20).mean()

    # Compute 5-day and 20-day ROC in volume
    roc_volume_5 = (df['volume'] / df['volume'].shift(5) - 1) * 100
    roc_volume_20 = (df['volume'] / df['volume'].shift(20) - 1) * 100

    # Determine if the current day's volume is higher than the 5-day and 20-day average volume
    high_volume_5 = df['volume'] > df['volume'].rolling(window=5).mean()
    high_volume_20 = df['volume'] > df['volume'].rolling(window=20).mean()

    # Compute 10-day and 30-day price momentum using the difference between high and low prices
    price_momentum_10 = df['high'].rolling(window=10).max() - df['low'].rolling(window=10).min()
    price_momentum_30 = df['high'].rolling(window=30).max() - df['low'].rolling(window=30).min()

    # Compute 10-day and 30-day ROC of close prices
    roc_close_10 = (df['close'] / df['close'].shift(10) - 1) * 100
    roc_close_30 = (df['close'] / df['close'].shift(30) - 1) * 100

    # Compute 14-day RSI using high and low prices
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    rsi = 100 - (100 / (1 + rs))

    # Combine all the factors into a single alpha factor
    alpha_factor = (
        (ewma_5 - ewma_20) +
        (vwap_5 - vwap_20) +
        (atr_5 - atr_20) +
        (roc_volume_5 - roc_volume_20) +
        high_volume_5.astype(int) - high_volume_20.astype(int) +
        (price_momentum_10 - price_momentum_30) +
        (roc_close_10 - roc_close_30) +
        rsi
    )

    return alpha_factor
```
