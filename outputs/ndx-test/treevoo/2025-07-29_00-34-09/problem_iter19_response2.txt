```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the 5-day and 20-day simple moving averages (SMA)
    df['SMA_5'] = df['close'].rolling(window=5).mean()
    df['SMA_20'] = df['close'].rolling(window=20).mean()

    # Calculate the 5-day and 20-day total volume
    df['Total_Volume_5'] = df['volume'].rolling(window=5).sum()
    df['Total_Volume_20'] = df['volume'].rolling(window=20).sum()

    # Calculate the 5-day and 20-day volume-weighted average price (VWAP)
    df['VWAP_5'] = (df['close'] * df['volume']).rolling(window=5).sum() / df['Total_Volume_5']
    df['VWAP_20'] = (df['close'] * df['volume']).rolling(window=20).sum() / df['Total_Volume_20']

    # Calculate the 5-day and 20-day average true range (ATR)
    df['TR'] = df[['high', 'close']].max(axis=1) - df[['low', 'close']].min(axis=1)
    df['ATR_5'] = df['TR'].rolling(window=5).mean()
    df['ATR_20'] = df['TR'].rolling(window=20).mean()

    # Calculate the 5-day and 20-day rate of change (ROC) in volume
    df['Volume_ROC_5'] = df['volume'].pct_change(periods=5)
    df['Volume_ROC_20'] = df['volume'].pct_change(periods=20)

    # Determine if the current day's volume is higher than the 5-day and 20-day average volume
    df['Volume_Above_5'] = df['volume'] > df['volume'].rolling(window=5).mean()
    df['Volume_Above_20'] = df['volume'] > df['volume'].rolling(window=20).mean()

    # Calculate the 10-day and 30-day price momentum
    df['Price_Momentum_10'] = df['close'] / df['close'].shift(10) - 1
    df['Price_Momentum_30'] = df['close'] / df['close'].shift(30) - 1

    # Calculate the 10-day and 30-day rate of change (ROC) for close prices
    df['Close_ROC_10'] = df['close'].pct_change(periods=10)
    df['Close_ROC_30'] = df['close'].pct_change(periods=30)

    # Calculate the 14-day relative strength index (RSI)
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    df['RSI_14'] = 100 - (100 / (1 + rs))

    # Combine all the calculated factors into a single alpha factor
    alpha_factor = (
        df['SMA_5'] - df['SMA_20'] +
        df['VWAP_5'] - df['VWAP_20'] +
        df['ATR_5'] - df['ATR_20'] +
        df['Volume_ROC_5'] - df['Volume_ROC_20'] +
        df['Volume_Above_5'].astype(int) - df['Volume_Above_20'].astype(int) +
        df['Price_Momentum_10'] - df['Price_Momentum_30'] +
        df['Close_ROC_10'] - df['Close_ROC_30'] +
        df['RSI_14']
    )

    return alpha_factor
```
