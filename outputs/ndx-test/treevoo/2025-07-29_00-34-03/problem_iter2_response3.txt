```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate Volume-Weighted Intraday Momentum
    intraday_momentum = df['high'] - df['low']
    volume_weighted_intraday_momentum = intraday_momentum * df['volume']

    # Identify Volume Shock
    volume_shock = (df['volume'] > 1.5 * df['volume'].shift(1)).astype(int)

    # Smooth Realized Volatility
    log_returns = np.log(df['high'] / df['low'])
    realized_volatility = log_returns.rolling(window=20).std()
    smoothed_volatility = realized_volatility.ewm(span=20, adjust=False).mean()

    # Adjust Volume-Weighted Intraday Momentum with Shock and Volatility
    adjusted_factor = (volume_weighted_intraday_momentum * volume_shock) - smoothed_volatility

    return adjusted_factor
```
