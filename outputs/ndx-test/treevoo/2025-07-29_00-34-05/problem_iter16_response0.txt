```python
import pandas as pd

def heuristics_v2(df):
    # Calculate daily return
    df['daily_return'] = (df['close'] - df['close'].shift(1)) / df['close'].shift(1)
    
    # Calculate intraday return
    df['intraday_return'] = (df['close'] - df['open']) / df['open']
    
    # Calculate true range
    df['true_range'] = df[['high', 'low', 'close']].apply(
        lambda x: max(x['high'] - x['low'], abs(x['high'] - df['close'].shift(1).iloc[x.name]), 
                      abs(x['low'] - df['close'].shift(1).iloc[x.name])), axis=1)
    
    # Calculate price volatility (standard deviation of daily returns over a 20-day rolling window)
    df['price_volatility'] = df['daily_return'].rolling(window=20).std()
    
    # Calculate volume change
    df['volume_change'] = (df['volume'] - df['volume'].shift(1)) / df['volume'].shift(1)
    
    # Calculate volume-price relationship
    df['volume_price_relationship'] = (df['close'] - df['close'].shift(1)) * (df['volume'] - df['volume'].shift(1))
    
    # Calculate high-low range
    df['high_low_range'] = df['high'] - df['low']
    
    # Calculate close to high and low ratios
    df['close_to_high_ratio'] = df['close'] / df['high']
    df['close_to_low_ratio'] = df['close'] / df['low']
    
    # Calculate money flow
    df['money_flow'] = (df['close'] - df['close'].shift(1)) * df['volume']
    
    # Calculate money flow ratio
    up_money_flow = df['money_flow'][df['money_flow'] > 0].rolling(window=20).sum()
    down_money_flow = df['money_flow'][df['money_flow'] < 0].rolling(window=20).sum().abs()
    df['money_flow_ratio'] = up_money_flow / down_money_flow
    
    # Generate the final alpha factor
    alpha_factor = (
        df['daily_return'] +
        df['intraday_return'] +
        df['true_range'] +
        df['price_volatility'] +
        df['volume_change'] +
        df['volume_price_relationship'] +
        df['high_low_range'] +
        df['close_to_high_ratio'] +
        df['close_to_low_ratio'] +
        df['money_flow_ratio']
    )
    
    return alpha_factor
```
