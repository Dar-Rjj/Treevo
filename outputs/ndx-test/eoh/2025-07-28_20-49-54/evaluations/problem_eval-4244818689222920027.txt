import pandas as pd

def heuristics_v2(df):
    # Calculate the 20-day high minus low
    high_low_diff = df['high'].rolling(window=20).max() - df['low'].rolling(window=20).min()
    
    # Calculate the 14-day Average True Range (ATR)
    tr = pd.concat([df['high'] - df['low'], 
                    (df['high'] - df['close'].shift()).abs(), 
                    (df['low'] - df['close'].shift()).abs()], axis=1).max(axis=1)
    atr = tr.rolling(window=14).mean()
    
    # Combine the factors
    heuristics_matrix = high_low_diff * 0.7 + atr * 0.3
    
    return heuristics_matrix
