def heuristics_v2(df):
    short_sma = df['close'].rolling(window=5).mean()
    long_sma = df['close'].rolling(window=15).mean()
    vwap_smoothed = (df['close'] * df['volume']).rolling(window=7).sum() / df['volume'].rolling(window=7).sum()
    sma_ratio = short_sma / long_sma
    heuristics_matrix = (sma_ratio + vwap_smoothed).rank(pct=True)
    return heuristics_matrix
