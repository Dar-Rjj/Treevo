import pandas as pd

def heuristics_v2(df):
    # Calculate the rate of change (ROC) over a 10-day period
    roc = df['close'].pct_change(periods=10)
    
    # Calculate the average true range (ATR) over a 14-day period
    tr = df[['high', 'low']].diff().abs().max(axis=1)
    atr = tr.rolling(window=14).mean()
    
    # Apply a custom heuristic to combine the ROC and ATR
    heuristics_matrix = (roc - atr).rank(pct=True)
    
    return heuristics_matrix
