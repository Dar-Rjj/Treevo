import pandas as pd

def heuristics_v2(df):
    # Calculate short-term and long-term simple moving averages
    short_sma = df['close'].rolling(window=10).mean()
    long_sma = df['close'].rolling(window=30).mean()

    # Calculate the ratio of the difference between open and close prices to the 10-day average volume
    oc_av_ratio = (df['open'] - df['close']) / df['volume'].rolling(window=10).mean()

    # Apply a custom heuristic to combine the SMA difference and the open-close to average volume ratio
    heuristics_matrix = (short_sma - long_sma + oc_av_ratio).rank(pct=True)

    return heuristics_matrix
