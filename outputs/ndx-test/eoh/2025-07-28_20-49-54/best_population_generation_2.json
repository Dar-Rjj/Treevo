{
     "algorithm": "The new algorithm calculates a composite factor using the difference between 9-period and 21-period exponential moving averages, combined with a modified price-volume relationship based on a 5-day rolling volume average, then ranks the stocks based on this factor.",
     "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate short-term and long-term exponential moving averages\n    short_ema = df['close'].ewm(span=9, adjust=False).mean()\n    long_ema = df['close'].ewm(span=21, adjust=False).mean()\n    \n    # Calculate the modified price-volume relationship\n    pv_relationship_modified = (df['close'] * df['volume']) / df['volume'].rolling(window=5).mean()\n    \n    # Compute the difference between short and long exponential moving averages\n    ema_diff = short_ema - long_ema\n    \n    # Apply a custom heuristic to combine the EMA difference and modified price-volume relationship\n    heuristics_matrix = (ema_diff + pv_relationship_modified).rank(pct=True)\n    \n    return heuristics_matrix",
     "objective": -0.07352,
     "other_inf": null
}