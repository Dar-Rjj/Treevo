[
     {
          "algorithm": "The new algorithm calculates a composite factor using the exponential moving average of the closing price over a 10-day period combined with the standard deviation of the true range over a 14-day period, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    # Calculate the 10-period Exponential Moving Average (EMA) of the closing price\n    ema_10 = df['close'].ewm(span=10, adjust=False).mean()\n    \n    # Calculate the 14-period True Range (TR)\n    tr = df[['high', 'low', 'close']].apply(lambda x: max(x[0], x[1]) - min(x[0], x[1]), axis=1)\n    \n    # Calculate the 14-period Standard Deviation of the True Range (TR)\n    std_tr_14 = tr.rolling(window=14).std()\n    \n    # Apply a custom heuristic to combine the EMA and Standard Deviation of TR\n    heuristics_matrix = (ema_10 + std_tr_14).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.14141,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor by integrating the ratio of the low price to the volume-weighted average price (VWAP) with the exponential moving average (EMA) of the closing price, and then ranks stock performance based on this adjusted heuristic.",
          "code": "def heuristics_v2(df):\n    # Calculate the volume weighted average price (VWAP)\n    vwap = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()\n    \n    # Calculate the low-to-VWAP ratio\n    lv_ratio = df['low'] / vwap\n    \n    # Compute the exponential moving average (EMA) of the closing price\n    ema_close = df['close'].ewm(span=10, adjust=False).mean()\n    \n    # Apply a custom heuristic to combine the low-to-VWAP ratio and the EMA of the closing price\n    heuristics_matrix = (lv_ratio + ema_close).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.14098,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor by integrating the ratio of high price to low price with the exponential moving average (EMA) of the closing price, then ranks stock performance based on this custom heuristic.",
          "code": "def heuristics_v2(df):\n    # Calculate the volume weighted average price (VWAP)\n    vwap = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()\n    \n    # Calculate the high-to-low price ratio\n    hl_ratio = df['high'] / df['low']\n    \n    # Compute the exponential moving average (EMA) of the closing price\n    ema_close = df['close'].ewm(span=10, adjust=False).mean()\n    \n    # Apply a custom heuristic to combine the high-to-low price ratio and the EMA of the closing price\n    heuristics_matrix = (hl_ratio + ema_close).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.14093,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the ratio of 10-period and 20-period exponential moving averages, combined with a smoothed price-volume momentum indicator based on a 5-day rolling volume sum, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    short_ema = df['close'].ewm(span=10, adjust=False).mean()\n    long_ema = df['close'].ewm(span=20, adjust=False).mean()\n    pv_momentum_smoothed = (df['close'] * df['volume']).rolling(window=5).sum() / df['volume'].rolling(window=5).sum()\n    ema_ratio = short_ema / long_ema\n    heuristics_matrix = (ema_ratio + pv_momentum_smoothed).rank(pct=True)\n    return heuristics_matrix",
          "objective": -0.14066,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the ratio of 10-period and 30-period exponential moving averages, combined with a smoothed price-volume momentum indicator based on a 5-day rolling volume sum, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    # Calculate short-term and long-term exponential moving averages\n    short_ema = df['close'].ewm(span=10, adjust=False).mean()\n    long_ema = df['close'].ewm(span=30, adjust=False).mean()\n    \n    # Calculate the smoothed price-volume momentum\n    pv_momentum_smoothed = (df['close'] * df['volume']).rolling(window=5).sum() / df['volume'].rolling(window=5).sum()\n    \n    # Compute the ratio between short and long exponential moving averages\n    ema_ratio = short_ema / long_ema\n    \n    # Apply a custom heuristic to combine the EMA ratio and smoothed price-volume momentum\n    heuristics_matrix = (ema_ratio + pv_momentum_smoothed).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.14065,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the exponential moving average of the closing price over a 20-day period combined with the standard deviation of the true range over a 21-day period, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    # Calculate the 20-period Exponential Moving Average (EMA) of the closing price\n    ema_20 = df['close'].ewm(span=20, adjust=False).mean()\n    \n    # Calculate the 21-period True Range (TR)\n    tr = df[['high', 'low', 'close']].apply(lambda x: max(x[0], x[1]) - min(x[0], x[1]), axis=1)\n    \n    # Calculate the 21-period Standard Deviation of the True Range (TR)\n    std_tr_21 = tr.rolling(window=21).std()\n    \n    # Apply a custom heuristic to combine the EMA and Standard Deviation of TR\n    heuristics_matrix = (ema_20 + std_tr_21).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.14023,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the ratio of 15-period and 30-period exponential moving averages, combined with a smoothed price-volume momentum indicator based on a 7-day rolling volume sum, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    short_ema = df['close'].ewm(span=15, adjust=False).mean()\n    long_ema = df['close'].ewm(span=30, adjust=False).mean()\n    pv_momentum_smoothed = (df['close'] * df['volume']).rolling(window=7).sum() / df['volume'].rolling(window=7).sum()\n    ema_ratio = short_ema / long_ema\n    heuristics_matrix = (ema_ratio + pv_momentum_smoothed).rank(pct=True)\n    return heuristics_matrix",
          "objective": -0.13983,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the ratio of 13-period and 26-period exponential moving averages, combined with a smoothed price-volume momentum indicator based on a 7-day rolling volume sum, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    # Calculate short-term and long-term exponential moving averages\n    short_ema = df['close'].ewm(span=13, adjust=False).mean()\n    long_ema = df['close'].ewm(span=26, adjust=False).mean()\n    \n    # Calculate the smoothed price-volume momentum\n    pv_momentum_smoothed = (df['close'] * df['volume']).rolling(window=7).sum() / df['volume'].rolling(window=7).sum()\n    \n    # Compute the ratio between short and long exponential moving averages\n    ema_ratio = short_ema / long_ema\n    \n    # Apply a custom heuristic to combine the EMA ratio and smoothed price-volume momentum\n    heuristics_matrix = (ema_ratio + pv_momentum_smoothed).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.13982,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the ratio of 14-period and 28-period exponential moving averages, combined with a weighted sum of price-volume momentum indicators based on both 7-day and 14-day rolling volume sums, then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    # Calculate short-term and long-term exponential moving averages\n    short_ema = df['close'].ewm(span=14, adjust=False).mean()\n    long_ema = df['close'].ewm(span=28, adjust=False).mean()\n    \n    # Calculate the smoothed price-volume momentum for 7-day and 14-day windows\n    pv_momentum_smoothed_7 = (df['close'] * df['volume']).rolling(window=7).sum() / df['volume'].rolling(window=7).sum()\n    pv_momentum_smoothed_14 = (df['close'] * df['volume']).rolling(window=14).sum() / df['volume'].rolling(window=14).sum()\n    \n    # Compute the ratio between short and long exponential moving averages\n    ema_ratio = short_ema / long_ema\n    \n    # Apply a custom heuristic to combine the EMA ratio and both smoothed price-volume momentums\n    heuristics_matrix = (ema_ratio + 0.5 * pv_momentum_smoothed_7 + 0.5 * pv_momentum_smoothed_14).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.13962,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a composite factor using the 20-period exponential moving average (EMA) of the closing price, combined with the ratio of the current volume to the 5-day average volume, and then ranks the stocks based on this factor.",
          "code": "def heuristics_v2(df):\n    # Calculate the 20-period exponential moving average of the closing price\n    ema_20 = df['close'].ewm(span=20, adjust=False).mean()\n    \n    # Calculate the 5-period average volume\n    avg_volume_5 = df['volume'].rolling(window=5).mean()\n    \n    # Calculate the volume ratio (current volume / 5-day average volume)\n    volume_ratio = df['volume'] / avg_volume_5\n    \n    # Combine the EMA and volume ratio\n    heuristics_matrix = (ema_20 + volume_ratio).rank(pct=True)\n    \n    return heuristics_matrix",
          "objective": -0.13871,
          "other_inf": null
     }
]