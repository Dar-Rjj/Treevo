import pandas as pd

def heuristics_v2(df):
    high_low = df['high'] - df['low']
    high_close = abs(df['high'] - df['close'].shift())
    low_close = abs(df['low'] - df['close'].shift())
    tr = pd.concat([high_low, high_close, low_close], axis=1).max(axis=1)
    atr_14 = tr.rolling(window=14).mean()
    atr_28 = tr.rolling(window=28).mean()
    atr_diff = atr_14 - atr_28
    wma_50 = df['close'].ewm(span=50, adjust=False).mean()
    wma_200 = df['close'].ewm(span=200, adjust=False).mean()
    wma_difference = wma_50 - wma_200
    heuristics_matrix = atr_diff + wma_difference
    return heuristics_matrix
