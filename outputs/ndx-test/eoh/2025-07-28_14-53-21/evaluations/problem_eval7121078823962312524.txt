import pandas as pd

def heuristics_v2(df):
    def sma(series, window):
        return series.rolling(window=window).mean()

    def adx(high, low, close, period=14):
        tr = pd.Series(abs(high - low)).rolling(window=period).mean()
        plus_dm = (high.diff(1) > 0) & (high.diff(1) > low.diff(1))
        minus_dm = (low.diff(1) < 0) & (low.diff(1) < high.diff(1))
        plus_di = 100 * (sma(plus_dm * tr, period) / sma(tr, period))
        minus_di = 100 * (sma(minus_dm * tr, period) / sma(tr, period))
        dx = 100 * (abs(plus_di - minus_di) / (plus_di + minus_di))
        return dx.rolling(window=period).mean()

    sma_14 = sma(df['close'], window=14)
    sma_28 = sma(df['close'], window=28)
    sma_diff = sma_14 - sma_28
    adx_values = adx(df['high'], df['low'], df['close'])

    heuristics_matrix = 0.5 * sma_diff + 0.5 * adx_values
    return heuristics_matrix
