import pandas as pd

def heuristics_v2(df):
    def bollinger_bands_width(series, window=20, n_std=2):
        rolling_mean = series.rolling(window=window).mean()
        rolling_std = series.rolling(window=window).std()
        upper_band = rolling_mean + (rolling_std * n_std)
        lower_band = rolling_mean - (rolling_std * n_std)
        return (upper_band - lower_band) / rolling_mean

    def volume_momentum_rsi(series, window=14):
        delta = series.diff(1)
        gain = (delta.where(delta > 0, 0)).fillna(0)
        loss = (-delta.where(delta < 0, 0)).fillna(0)
        avg_gain = gain.rolling(window=window).mean()
        avg_loss = loss.rolling(window=window).mean()
        rs = avg_gain / avg_loss
        rsi = 100 - (100 / (1 + rs))
        return rsi

    close_prices = df['close']
    volume = df['volume']

    bb_width = bollinger_bands_width(close_prices)
    vol_mom_rsi = volume_momentum_rsi(volume)

    heuristics_matrix = 0.5 * bb_width + 0.5 * vol_mom_rsi
    return heuristics_matrix
