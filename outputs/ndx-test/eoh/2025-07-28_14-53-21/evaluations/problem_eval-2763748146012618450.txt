def heuristics_v2(df):
    # Calculate Stochastic Oscillator
    high_14 = df['high'].rolling(window=14).max()
    low_14 = df['low'].rolling(window=14).min()
    k_percent = 100 * (df['close'] - low_14) / (high_14 - low_14)
    
    # Dynamic Trend Following Indicator (simplified version using moving averages crossover)
    short_mavg = df['close'].rolling(window=7).mean()
    long_mavg = df['close'].rolling(window=28).mean()
    trend_indicator = short_mavg - long_mavg
    
    # Dynamic weight allocation based on the standard deviation of daily returns over the last 14 days
    std_dev = df['close'].pct_change().rolling(window=14).std()
    weight_k = (std_dev.max() - std_dev) / (std_dev.max() - std_dev.min())
    weight_trend = 1 - weight_k
    heuristics_matrix = weight_k * k_percent + weight_trend * trend_indicator

    return heuristics_matrix
