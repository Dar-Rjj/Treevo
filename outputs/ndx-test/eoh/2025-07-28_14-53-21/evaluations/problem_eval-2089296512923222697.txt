def heuristics_v2(df):
    # Calculate Positive and Negative Volume Flow
    df['volume_change'] = df['volume'].diff()
    pos_volume_flow = (df['volume_change'] > 0) * df['volume']
    neg_volume_flow = (df['volume_change'] < 0) * df['volume']
    total_pos_volume = pos_volume_flow.rolling(window=20).sum()
    total_neg_volume = neg_volume_flow.rolling(window=20).sum().abs()
    volume_ratio = total_pos_volume / total_neg_volume

    # Calculate Aroon Oscillator
    df['aroon_up'] = df['high'].rolling(window=25).apply(lambda x: (x.argmax() - 24) / 24 * 100, raw=True)
    df['aroon_down'] = df['low'].rolling(window=25).apply(lambda x: (x.argmin() - 24) / 24 * 100, raw=True)
    aroon_oscillator = df['aroon_up'] - df['aroon_down']

    # Calculate 10-Day High Minus Low
    price_range = df['high'].rolling(window=10).max() - df['low'].rolling(window=10).min()

    # Combine all factors into a single heuristic factor
    heuristics_matrix = volume_ratio + aroon_oscillator + price_range

    return heuristics_matrix
