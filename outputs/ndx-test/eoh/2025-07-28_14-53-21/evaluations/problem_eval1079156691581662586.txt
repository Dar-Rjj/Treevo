def heuristics_v2(df):
    # Calculate 12-period EMA
    ema_12 = df['close'].ewm(span=12, adjust=False).mean()
    # Calculate 26-period EMA
    ema_26 = df['close'].ewm(span=26, adjust=False).mean()
    # Calculate MACD line
    macd = ema_12 - ema_26
    # Calculate 9-period EMA of MACD for signal line
    signal = macd.ewm(span=9, adjust=False).mean()
    # Calculate Histogram
    histogram = macd - signal
    
    # Calculate Volume Ratio
    volume_ratio = df['volume'] / df['volume'].shift(1)
    
    # Combine MACD histogram and Volume Ratio into a single heuristic factor
    heuristics_matrix = 0.5 * histogram + 0.5 * volume_ratio
    
    return heuristics_matrix
