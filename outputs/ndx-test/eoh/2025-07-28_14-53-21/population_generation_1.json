[
     {
          "algorithm": "The algorithm calculates a weighted sum of the relative strength index (RSI) and the moving average convergence divergence (MACD), combined with a smoothed volatility factor, to produce an interpretable alpha factor.",
          "code": "def heuristics_v2(df):\n    # Calculate RSI\n    delta = df['close'].diff(1)\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    rsi = 100 - (100 / (1 + rs))\n\n    # Calculate MACD\n    exp12 = df['close'].ewm(span=12, adjust=False).mean()\n    exp26 = df['close'].ewm(span=26, adjust=False).mean()\n    macd = exp12 - exp26\n    signal = macd.rolling(window=9).mean()\n\n    # Calculate smoothed volatility as the exponential moving average of the standard deviation of the last 20 days' returns\n    daily_returns = df['close'].pct_change()\n    volatility = daily_returns.rolling(window=20).std().ewm(span=5, adjust=False).mean()\n\n    # Combine RSI, MACD signal line, and smoothed volatility into a single heuristic factor\n    heuristics_matrix = rsi + signal - volatility\n\n    return heuristics_matrix",
          "objective": -0.01896,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm computes a novel factor by incorporating the exponential moving average crossover signal with the difference between the 12-day and 26-day exponential moving averages of the closing price, combined with the relative strength index (RSI) over a 14-day period.",
          "code": "import pandas as pd\nimport numpy as np\n\ndef heuristics_v2(df):\n    ema_12 = df['close'].ewm(span=12, adjust=False).mean()\n    ema_26 = df['close'].ewm(span=26, adjust=False).mean()\n    ema_crossover = ema_12 - ema_26\n    delta = df['close'].diff()\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    rsi = 100 - (100 / (1 + rs))\n    heuristics_matrix = (ema_crossover + rsi) / 2\n    return heuristics_matrix",
          "objective": -0.01833,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm modifies the original by using a 20-period RSI, a (5,35) MACD, and smoothing the volatility over 10 days to create a unique alpha factor.",
          "code": "def heuristics_v2(df):\n    # Calculate RSI\n    delta = df['close'].diff(1)\n    gain = (delta.where(delta > 0, 0)).rolling(window=20).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=20).mean()\n    rs = gain / loss\n    rsi = 100 - (100 / (1 + rs))\n\n    # Calculate MACD\n    exp5 = df['close'].ewm(span=5, adjust=False).mean()\n    exp35 = df['close'].ewm(span=35, adjust=False).mean()\n    macd = exp5 - exp35\n    signal = macd.rolling(window=9).mean()\n\n    # Calculate smoothed volatility as the exponential moving average of the standard deviation of the last 20 days' returns\n    daily_returns = df['close'].pct_change()\n    volatility = daily_returns.rolling(window=20).std().ewm(span=10, adjust=False).mean()\n\n    # Combine RSI, MACD signal line, and smoothed volatility into a single heuristic factor\n    heuristics_matrix = rsi + signal - volatility\n\n    return heuristics_matrix",
          "objective": -0.01768,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm computes a factor by combining the 10-day and 30-day exponential moving averages of the closing price, with a 21-day RSI, weighted by their respective differences.",
          "code": "def heuristics_v2(df):\n    ema_10 = df['close'].ewm(span=10, adjust=False).mean()\n    ema_30 = df['close'].ewm(span=30, adjust=False).mean()\n    ema_diff = ema_10 - ema_30\n    delta = df['close'].diff()\n    gain = (delta.where(delta > 0, 0)).rolling(window=21).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=21).mean()\n    rs = gain / loss\n    rsi = 100 - (100 / (1 + rs))\n    heuristics_matrix = (ema_diff + rsi) / 2\n    return heuristics_matrix",
          "objective": -0.01618,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm computes a novel factor by combining the 12-day and 26-day exponential moving averages crossover with the rate of change (ROC) over a 14-day period, instead of using RSI.",
          "code": "import pandas as pd\nimport numpy as pd\n\ndef heuristics_v2(df):\n    ema_12 = df['close'].ewm(span=12, adjust=False).mean()\n    ema_26 = df['close'].ewm(span=26, adjust=False).mean()\n    ema_crossover = ema_12 - ema_26\n    roc = df['close'].pct_change(periods=14)\n    heuristics_matrix = (ema_crossover + roc) / 2\n    return heuristics_matrix",
          "objective": -0.01562,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm calculates a weighted sum of the relative strength index (RSI) and the price-to-volume ratio, combined with a volatility factor, to produce an interpretable alpha factor.",
          "code": "def heuristics_v2(df):\n    # Calculate RSI\n    delta = df['close'].diff(1)\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    rsi = 100 - (100 / (1 + rs))\n\n    # Calculate price-to-volume ratio\n    price_to_volume = df['close'] / df['volume']\n\n    # Calculate volatility as the standard deviation of the last 20 days' returns\n    volatility = df['close'].pct_change().rolling(window=20).std()\n\n    # Combine RSI, price-to-volume, and volatility into a single heuristic factor\n    heuristics_matrix = rsi + price_to_volume - volatility\n\n    return heuristics_matrix",
          "objective": -0.01558,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm, called Trend-Momentum Heuristics, integrates moving average convergence divergence (MACD) and relative strength index (RSI) to generate a novel alpha factor reflecting both trend-following and momentum characteristics.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def macd(series, fast=12, slow=26, signal=9):\n        exp1 = series.ewm(span=fast, adjust=False).mean()\n        exp2 = series.ewm(span=slow, adjust=False).mean()\n        macd = exp1 - exp2\n        signal_line = macd.ewm(span=signal, adjust=False).mean()\n        return macd - signal_line\n\n    def rsi(series, periods=14):\n        delta = series.diff(1)\n        gain = delta.where(delta > 0, 0)\n        loss = -delta.where(delta < 0, 0)\n        avg_gain = gain.rolling(window=periods, min_periods=1).mean()\n        avg_loss = loss.rolling(window=periods, min_periods=1).mean()\n        rs = avg_gain / avg_loss\n        return 100 - (100 / (1 + rs))\n    \n    close_prices = df['close']\n    macd_values = macd(close_prices)\n    rsi_values = rsi(close_prices)\n    heuristics_matrix = 0.5 * macd_values + 0.5 * rsi_values\n    return heuristics_matrix",
          "objective": -0.01518,
          "other_inf": null
     },
     {
          "algorithm": "The Enhanced Trend-Momentum Heuristics algorithm combines a modified version of the MACD, which uses a different set of periods, with the RSI to create a factor that emphasizes long-term trends and short-term momentum.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def modified_macd(series, fast=18, slow=36, signal=12):\n        exp1 = series.ewm(span=fast, adjust=False).mean()\n        exp2 = series.ewm(span=slow, adjust=False).mean()\n        macd = exp1 - exp2\n        signal_line = macd.ewm(span=signal, adjust=False).mean()\n        return macd - signal_line\n\n    def rsi(series, periods=14):\n        delta = series.diff(1)\n        gain = delta.where(delta > 0, 0)\n        loss = -delta.where(delta < 0, 0)\n        avg_gain = gain.rolling(window=periods, min_periods=1).mean()\n        avg_loss = loss.rolling(window=periods, min_periods=1).mean()\n        rs = avg_gain / avg_loss\n        return 100 - (100 / (1 + rs))\n    \n    close_prices = df['close']\n    modified_macd_values = modified_macd(close_prices)\n    rsi_values = rsi(close_prices)\n    heuristics_matrix = 0.6 * modified_macd_values + 0.4 * rsi_values\n    return heuristics_matrix",
          "objective": -0.01507,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm, called Volatility-Volume Heuristics, combines the Bollinger Bands width with a volume momentum indicator to capture the stock's price volatility and recent trading activity.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def bollinger_bands_width(series, window=20, n_std=2):\n        rolling_mean = series.rolling(window=window).mean()\n        rolling_std = series.rolling(window=window).std()\n        upper_band = rolling_mean + (rolling_std * n_std)\n        lower_band = rolling_mean - (rolling_std * n_std)\n        return (upper_band - lower_band) / rolling_mean\n\n    def volume_momentum(series, window=10):\n        return series / series.rolling(window=window).mean()\n\n    close_prices = df['close']\n    volume = df['volume']\n\n    bb_width = bollinger_bands_width(close_prices)\n    vol_mom = volume_momentum(volume)\n\n    heuristics_matrix = 0.5 * bb_width + 0.5 * vol_mom\n    return heuristics_matrix",
          "objective": -0.01503,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm, called Enhanced Trend-Momentum Heuristics, integrates a weighted MACD with an adaptive RSI to generate a more nuanced alpha factor that better captures trend-following and momentum characteristics.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def macd(series, fast=12, slow=26, signal=9):\n        exp1 = series.ewm(span=fast, adjust=False).mean()\n        exp2 = series.ewm(span=slow, adjust=False).mean()\n        macd = exp1 - exp2\n        signal_line = macd.ewm(span=signal, adjust=False).mean()\n        return macd - signal_line\n\n    def rsi(series, periods=14):\n        delta = series.diff(1)\n        gain = (delta + delta.abs()) / 2\n        loss = (delta.abs() - delta) / 2\n        avg_gain = gain.rolling(window=periods, min_periods=1).mean()\n        avg_loss = loss.rolling(window=periods, min_periods=1).mean()\n        rs = avg_gain / avg_loss\n        rsi = 100 - (100 / (1 + rs))\n        # Adaptive RSI\n        rsi = rsi.ewm(span=periods, adjust=False).mean()\n        return rsi\n\n    close_prices = df['close']\n    macd_values = macd(close_prices)\n    rsi_values = rsi(close_prices)\n    heuristics_matrix = 0.6 * macd_values + 0.4 * rsi_values\n    return heuristics_matrix",
          "objective": -0.01486,
          "other_inf": null
     }
]