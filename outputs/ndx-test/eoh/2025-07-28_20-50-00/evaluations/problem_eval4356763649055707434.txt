import pandas as pd

def heuristics_v2(df):
    # Calculate 5-day and 20-day EMA for Close Prices
    ema_5 = df['close'].ewm(span=5, adjust=False).mean()
    ema_20 = df['close'].ewm(span=20, adjust=False).mean()

    # Calculate the difference between 5-day and 20-day EMA
    ema_diff = ema_5 - ema_20

    # Calculate 30-day Momentum for Volume
    mom_30_volume = df['volume'] - df['volume'].shift(30)

    # Calculate 14-day Rate of Change (ROC) for Close Prices
    roc_14 = (df['close'] - df['close'].shift(14)) / df['close'].shift(14) * 100

    # Combine all elements into a final heuristic
    heuristics_matrix = ema_diff + mom_30_volume - roc_14
    
    return heuristics_matrix
