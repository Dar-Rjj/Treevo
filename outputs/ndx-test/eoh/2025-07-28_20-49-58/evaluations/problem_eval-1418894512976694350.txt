def heuristics_v2(df):
    def calculate_roc(column, n):
        return (column - column.shift(n)) / column.shift(n)

    # Calculate ROC over a 20-day period
    roc = calculate_roc(df['close'], 20)
    
    # Calculate 50-day and 10-day simple moving averages
    sma_50 = df['close'].rolling(window=50).mean()
    sma_10 = df['close'].rolling(window=10).mean()
    
    # Calculate the relative difference between the 50-day and 10-day SMAs
    sma_diff = (sma_50 - sma_10) / sma_10
    
    # Calculate the Average Directional Movement Index (ADX) over a 14-day period
    tr = df['high'] - df['low']
    plus_dm = df['high'].diff().fillna(0)
    minus_dm = df['low'].diff().fillna(0)
    plus_dm[plus_dm < 0] = 0
    minus_dm[minus_dm > 0] = 0
    minus_dm = -minus_dm
    tr_sum = tr.rolling(window=14).sum()
    plus_dm_sum = plus_dm.rolling(window=14).sum()
    minus_dm_sum = minus_dm.rolling(window=14).sum()
    plus_di = 100 * (plus_dm_sum / tr_sum)
    minus_di = 100 * (minus_dm_sum / tr_sum)
    dx = 100 * (abs(plus_di - minus_di) / (plus_di + minus_di))
    adx = dx.rolling(window=14).mean()
    
    # Adjust the heuristics matrix with ROC, SMA difference, and ADX
    heuristics_matrix = roc + sma_diff + adx
    
    return heuristics_matrix
