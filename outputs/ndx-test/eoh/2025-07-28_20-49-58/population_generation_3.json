[
     {
          "algorithm": "The new algorithm computes the ROC over a 20-day period, includes a 5-day moving average of the closing price in the VWAP calculation, and refines the heuristics matrix by integrating a momentum factor based on the 20-day ROC, along with an additional term that captures volatility using the standard deviation of the last 10 days' closing prices.",
          "code": "def heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n    \n    # Calculate ROC over a 20-day period\n    roc = calculate_roc(df['close'], 20)\n    \n    # Calculate 5-day moving average of the closing price\n    ma_5 = df['close'].rolling(window=5).mean()\n    \n    # Calculate VWAP with 5-day moving average\n    tp = (df['high'] + df['low'] + ma_5) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Capture the 10-day volatility of the closing prices\n    vol_10 = df['close'].rolling(window=10).std()\n    \n    # Adjust the heuristics matrix with momentum and volatility\n    heuristics_matrix = roc + (vwap - df['close']) + roc.rolling(window=5).mean() - vol_10\n    \n    return heuristics_matrix",
          "objective": -0.03404,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the 20-day rate of change (ROC) of the closing price, then combines it with the difference between the 5-day moving average of volume-weighted average price (VWAP) and a 10-day simple moving average (SMA) of the closing price to enhance the predictive power.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n\n    # Calculate ROC over a 20-day period\n    roc = calculate_roc(df['close'], 20)\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Calculate 5-day moving average of VWAP\n    vwap_ma5 = vwap.rolling(window=5).mean()\n    \n    # Calculate 10-day simple moving average of the closing price\n    sma10 = df['close'].rolling(window=10).mean()\n    \n    # Combine factors\n    heuristics_matrix = roc + (vwap_ma5 - sma10)\n    \n    return heuristics_matrix",
          "objective": -0.0332,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the ROC over a 30-day period, incorporates a 10-day moving average of the closing price into the VWAP calculation, and adjusts the final heuristic matrix by incorporating a momentum factor derived from the 30-day ROC.",
          "code": "def heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n\n    # Calculate ROC over a 30-day period\n    roc = calculate_roc(df['close'], 30)\n    \n    # Calculate 10-day moving average of the closing price\n    ma_10 = df['close'].rolling(window=10).mean()\n    \n    # Calculate VWAP with 10-day moving average\n    tp = (df['high'] + df['low'] + ma_10) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Adjust the heuristics matrix with momentum\n    heuristics_matrix = roc + (vwap - df['close']) + roc.rolling(window=10).mean()\n    \n    return heuristics_matrix",
          "objective": -0.03306,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the rate of change (ROC) over a 15-day period and combines it with the relative difference between the 30-day exponentially weighted moving average (EWMA) and the volume-weighted average price (VWAP).",
          "code": "def heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n\n    # Calculate ROC over a 15-day period\n    roc = calculate_roc(df['close'], 15)\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Calculate 30-day EWMA\n    ewma = df['close'].ewm(span=30, adjust=False).mean()\n    \n    # Combine factors\n    heuristics_matrix = roc + (ewma - vwap) / vwap\n    \n    return heuristics_matrix",
          "objective": -0.03301,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm modifies the original by using a 30-day period for ROC and incorporating a 10-day moving average of the closing price into the VWAP calculation, aiming to smooth out medium-term volatility.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n\n    # Calculate ROC over a 30-day period\n    roc = calculate_roc(df['close'], 30)\n    \n    # Calculate 10-day moving average of the closing price\n    ma_10 = df['close'].rolling(window=10).mean()\n    \n    # Calculate VWAP with 10-day moving average\n    tp = (df['high'] + df['low'] + ma_10) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Combine factors\n    heuristics_matrix = roc + (vwap - df['close'])\n    \n    return heuristics_matrix",
          "objective": -0.03298,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the 20-day rate of change (ROC) of the closing price, combines it with the difference between a 20-day simple moving average (SMA) of the volume-weighted average price (VWAP) and the closing price, and then adds the 10-day momentum of the closing price to capture an additional layer of short-term momentum.",
          "code": "def heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n    \n    # Calculate ROC over a 20-day period\n    roc = calculate_roc(df['close'], 20)\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Calculate 20-day SMA of VWAP\n    vwap_sma20 = vwap.rolling(window=20).mean()\n    \n    # Calculate 10-day momentum\n    momentum_10 = df['close'] - df['close'].shift(10)\n    \n    # Combine factors\n    heuristics_matrix = roc + (vwap_sma20 - df['close']) + momentum_10\n    \n    return heuristics_matrix",
          "objective": -0.03286,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the 10-day rate of change (ROC) of the closing price and combines it with the difference between a 10-day moving average of the volume-weighted average price (VWAP) and the closing price, aiming to create an alpha factor that better captures short-term momentum and mean reversion.",
          "code": "def heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n\n    # Calculate ROC over a 10-day period\n    roc = calculate_roc(df['close'], 10)\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Calculate 10-day moving average of VWAP\n    vwap_ma10 = vwap.rolling(window=10).mean()\n    \n    # Combine factors\n    heuristics_matrix = roc + (vwap_ma10 - df['close'])\n    \n    return heuristics_matrix",
          "objective": -0.03279,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes the 20-day rate of change (ROC) of the average daily trading range (high minus low), then combines it with the difference between a 10-day exponential moving average (EMA) of the closing price and the 30-day volume-weighted average price (VWAP) to form a novel alpha factor.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n    \n    # Calculate ROC over a 20-day period of the average daily trading range\n    avg_range = df['high'] - df['low']\n    roc = calculate_roc(avg_range, 20)\n    \n    # Calculate 10-day EMA of the closing price\n    ema10 = df['close'].ewm(span=10, adjust=False).mean()\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Combine factors\n    heuristics_matrix = roc + (ema10 - vwap)\n    \n    return heuristics_matrix",
          "objective": -0.03273,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the 10-day rate of change (ROC) of the closing price, combines it with the difference between a 30-day simple moving average (SMA) of the volume-weighted average price (VWAP) and the closing price, and then adds the 5-day momentum of the closing price to emphasize a stronger short-term momentum focus.",
          "code": "def heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n    \n    # Calculate ROC over a 10-day period\n    roc = calculate_roc(df['close'], 10)\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Calculate 30-day SMA of VWAP\n    vwap_sma30 = vwap.rolling(window=30).mean()\n    \n    # Calculate 5-day momentum\n    momentum_5 = df['close'] - df['close'].shift(5)\n    \n    # Combine factors\n    heuristics_matrix = roc + (vwap_sma30 - df['close']) + momentum_5\n    \n    return heuristics_matrix",
          "objective": -0.03272,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm combines the momentum captured by the rate of change (ROC) of the closing price with the volume-weighted average price (VWAP) to generate a novel and interpretable alpha factor.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    def calculate_roc(column, n):\n        return (column - column.shift(n)) / column.shift(n)\n\n    # Calculate ROC over a 10-day period\n    roc = calculate_roc(df['close'], 10)\n    \n    # Calculate VWAP\n    tp = (df['high'] + df['low'] + df['close']) / 3\n    vwap = (df['volume'] * tp).cumsum() / df['volume'].cumsum()\n    \n    # Combine factors\n    heuristics_matrix = roc + (vwap - df['close'])\n    \n    return heuristics_matrix",
          "objective": -0.03266,
          "other_inf": null
     }
]