```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the difference between today's close and yesterday's close
    daily_return = df['close'].diff()
    
    # Calculate the 10-day standard deviation of daily returns
    volatility = daily_return.rolling(window=10).std()
    
    # Calculate a momentum factor as the 30-day cumulative return
    momentum = (df['close'] / df['close'].shift(30)) - 1
    
    # Calculate long-term trend by comparing today's close with the 200-day moving average
    long_term_trend = df['close'] / df['close'].rolling(window=200).mean() - 1
    
    # Calculate exponential smoothing for the close price to add stability
    exp_smoothing = df['close'].ewm(span=5).mean()
    
    # Calculate market sentiment using the ratio of volume to the 10-day average volume
    volume_ratio = df['volume'] / df['volume'].rolling(window=10).mean()
    
    # Combine the momentum, long-term trend, and market sentiment
    factor = (momentum * 0.4 + long_term_trend * 0.3 + volume_ratio * 0.3) - (volatility / volatility.mean())
    
    return factor
```
