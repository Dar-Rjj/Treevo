```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the momentum by comparing today's close with the 5-day moving average of the close
    momentum = df['close'] - df['close'].rolling(window=5).mean()
    
    # Determine if the close is in the upper half of the range (high - low) to capture the trend strength
    is_upper_half = (df['close'] - df['low']) > 0.5 * (df['high'] - df['low'])
    
    # Calculate the volume change relative to the average volume over the last 5 days
    avg_volume_5d = df['volume'].rolling(window=5).mean()
    volume_change = (df['volume'] - avg_volume_5d) / (avg_volume_5d + 1e-7)
    
    # Calculate the average true range (ATR) over the last 14 days to smooth out volatility
    df['tr_high_low'] = df['high'] - df['low']
    df['tr_high_close_prev'] = (df['high'] - df['close'].shift()).abs()
    df['tr_low_close_prev'] = (df['low'] - df['close'].shift()).abs()
    df['tr'] = df[['tr_high_low', 'tr_high_close_prev', 'tr_low_close_prev']].max(axis=1)
    atr_14 = df['tr'].rolling(window=14).mean()
    
    # Final alpha factor: Combine the momentum, the position of the close price in the day's range, and the volume change, adjusted by ATR
    alpha_factor = momentum * is_upper_half.astype(int) * volume_change / (atr_14 + 1e-7)
    
    return alpha_factor
```
