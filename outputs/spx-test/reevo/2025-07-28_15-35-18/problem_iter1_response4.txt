```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the difference between the closing price of the current day and the average closing price over the last 10 days
    avg_close_10_days = df['close'].rolling(window=10).mean()
    diff_close_avg = df['close'] - avg_close_10_days
    
    # Calculate the ratio of the trading volume of the current day to the maximum trading volume over the last 5 days
    max_volume_5_days = df['volume'].rolling(window=5).max()
    volume_ratio = df['volume'] / (max_volume_5_days + 1e-7)
    
    # Combine the two calculated features into a single factor
    factor = (diff_close_avg * volume_ratio).fillna(0)
    return factor
```
