```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the percentage change in closing price over the last 5 days (short-term momentum)
    short_term_momentum = df['close'].pct_change(periods=5)
    
    # Calculate the percentage change in closing price over the last 20 days (long-term momentum)
    long_term_momentum = df['close'].pct_change(periods=20)
    
    # Identify reversal signals: short-term momentum is negative and long-term momentum is positive
    reversal_signal = (short_term_momentum < 0) & (long_term_momentum > 0)
    
    # Compute the average volume over the last 10 days
    avg_volume_10d = df['volume'].rolling(window=10).mean()
    
    # Compare current volume to average volume for the last 10 days
    volume_ratio = df['volume'] / avg_volume_10d
    
    # Compute the difference between open and close prices
    open_close_diff = df['open'] - df['close']
    
    # Determine if the stock tends to gap up or down
    gap_up = (open_close_diff > 0)
    gap_down = (open_close_diff < 0)
    
    # Calculate the range (high - low) for each day
    daily_range = df['high'] - df['low']
    
    # Compute the average daily range over the last 30 days
    avg_daily_range_30d = daily_range.rolling(window=30).mean()
    
    # Calculate the ratio of today's volume to the average volume
    volume_ratio_today = df['volume'] / avg_volume_10d
    
    # Multiply the ratio by the percentage change in closing price
    volume_adjusted_return = volume_ratio_today * df['close'].pct_change()

    # Combine all the heuristics into a single alpha factor
    alpha_factor = (
        short_term_momentum +
        long_term_momentum * reversal_signal +
        volume_ratio * open_close_diff +
        (gap_up * 1 + gap_down * -1) +
        (daily_range / avg_daily_range_30d) +
        volume_adjusted_return
    )
    
    return alpha_factor
```
