```python
import pandas as pd

def heuristics_v2(df):
    # Calculate Intraday Return
    df['intraday_return'] = (df['close'] - df['open']) / df['open']
    
    # Calculate Intraday Volatility
    df['high_low_diff'] = df['high'] - df['low']
    mean_high_low = df['high_low_diff'].rolling(window=20).mean()
    std_high_low = df['high_low_diff'].rolling(window=20).std()
    
    # Adjust Intraday Return by Intraday Volatility
    df['adjusted_intraday_return'] = df['intraday_return'] / (mean_high_low + std_high_low)
    
    # Determine Range-to-Range Ratio
    df['range_to_range_ratio'] = df['high_low_diff'] / df['high_low_diff'].shift(1)
    
    # Integrate Volume Sensitivity
    df['volume_ratio'] = df['volume'] / df['volume'].shift(1)
    df['adjusted_range_to_range_ratio'] = df['range_to_range_ratio'] * df['volume_ratio']
    
    # Combine Adjusted Intraday Return and Adjusted Range-to-Range Ratio
    df['combined_intraday_factors'] = df['adjusted_intraday_return'] * df['adjusted_range_to_range_ratio']
    
    # Detect Volume Shock
    df['volume_change'] = df['volume'] - df['volume'].shift(1)
    df['volume_shock'] = df['volume_change'] > df['volume_change'].quantile(0.95)
    
    # Calculate N-Day Relative Strength Index (RSI)
    df['upward_change'] = df.apply(lambda row: row['close'] - row['close'].shift(1) if row['close'] > row['close'].shift(1) else 0, axis=1)
    df['downward_change'] = df.apply(lambda row: row['close'].shift(1) - row['close'] if row['close'] < row['close'].shift(1) else 0, axis=1)
    avg_upward = df['upward_change'].rolling(window=14).mean()
    avg_downward = df['downward_change'].rolling(window=14).mean().abs()
    rs = avg_upward / avg_downward
    df['rsi'] = 100 - (100 / (1 + rs))
    
    # Calculate Simple Moving Average (SMA) of Close Prices
    df['sma_20'] = df['close'].rolling(window=20).mean()
    
    # Calculate Momentum Factor
    df['momentum_factor'] = df['close'] - df['sma_20']
    
    # Volume-Adjusted Momentum
    df['volume_adjusted_momentum'] = (df['rsi'] * df['volume']) + (df['intraday_return'] * df['volume_ratio'])
    
    # Final Combination
    df['final_combination'] = df['volume_adjusted_momentum'] * df['combined_intraday_factors'] * df['momentum_factor']
    
    # Adjust for Volume Impact and Enhanced Price Volatility
    df['volume_trend'] = df['volume'] - df['volume'].shift(1)
    df['atr_20'] = (df['high'] - df['low']).rolling(window=20).mean() + abs(df['close'] - df['close'].shift(1)).rolling(window=20).mean() + abs(df['close'] - df['high']).rolling(window=20).mean()
    df['average_volume_20'] = df['volume'].rolling(window=20).mean()
    df['average_high_low_range_20'] = (df['high'] - df['low']).rolling(window=20).mean()
    df['combined_volatility'] = df['average_volume_20'] * df['average_high_low_range_20']
    
    # Final Adjustment
    df['alpha_factor'] = df['final_combination'] * df['volume_trend'] * df['combined_volatility']
    
    return df['alpha_factor']

# Example usage:
# df = pd.read_csv('stock_data.csv')
# alpha_factor = heuristics_v2(df)
```
