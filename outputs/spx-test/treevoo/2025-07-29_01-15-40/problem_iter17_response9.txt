```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the difference between high and low price
    df['range'] = df['high'] - df['low']
    
    # Calculate the percentage of the range that the close is above the low
    df['close_pct_range'] = (df['close'] - df['low']) / df['range']
    
    # Calculate a simple moving average of the close price
    df['sma_close_5'] = df['close'].rolling(window=5).mean()
    
    # Calculate the distance of the current close from the 5-day SMA, in terms of the range
    df['sma_distance'] = (df['close'] - df['sma_close_5']) / df['range']
    
    # Factor: combination of the close position within the day's range and its distance from the 5-day SMA
    factor = (df['close_pct_range'] + df['sma_distance']) / 2
    
    return factor
```
