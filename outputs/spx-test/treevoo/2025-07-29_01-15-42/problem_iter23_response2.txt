```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the price range and the real body
    price_range = df['high'] - df['low']
    real_body = abs(df['close'] - df['open'])

    # Determine if the day is a bullish or bearish candle
    bullish_candle = (df['close'] > df['open']).astype(int)
    bearish_candle = (df['close'] < df['open']).astype(int)

    # Calculate the upper and lower shadow
    upper_shadow = df['high'] - df[['open', 'close']].max(axis=1)
    lower_shadow = df[['open', 'close']].min(axis=1) - df['low']

    # Heuristic: Relative Shadow Length
    # This heuristic compares the length of the upper and lower shadows relative to the total price range.
    # It is designed to identify days with long shadows, which may indicate a potential reversal.
    upper_shadow_ratio = upper_shadow / price_range
    lower_shadow_ratio = lower_shadow / price_range

    # Final factor: Combine the relative shadow length with the direction of the candle
    # Positive values indicate a bullish signal, negative values indicate a bearish signal.
    factor = (bullish_candle * upper_shadow_ratio) - (bearish_candle * lower_shadow_ratio)

    return factor
```
