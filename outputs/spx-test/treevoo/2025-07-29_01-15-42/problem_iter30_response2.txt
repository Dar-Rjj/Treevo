```python
import pandas as pd

def heuristics_v2(df):
    # Short-term and long-term exponential moving averages
    short_ema = df['close'].ewm(span=5, adjust=False).mean()
    long_ema = df['close'].ewm(span=20, adjust=False).mean()
    
    # Rate of Change (ROC)
    roc = (df['close'] - df['close'].shift(10)) / df['close'].shift(10)
    
    # On-Balance Volume (OBV)
    obv = (df['close'] > df['close'].shift(1)).astype(int) * df['volume'] - (df['close'] < df['close'].shift(1)).astype(int) * df['volume']
    obv = obv.cumsum()
    
    # Volume Price Trend (VPT)
    vpt = (df['volume'] * (df['close'] - df['close'].shift(1))).cumsum()
    
    # Bollinger Bands
    ma_20 = df['close'].rolling(window=20).mean()
    std_20 = df['close'].rolling(window=20).std()
    bollinger_band = (df['close'] - ma_20) / (2 * std_20)
    
    # Donchian Channels
    donchian_high = df['high'].rolling(window=20).max()
    donchian_low = df['low'].rolling(window=20).min()
    donchian_channel = (df['close'] - donchian_low) / (donchian_high - donchian_low)
    
    # Inside Bar
    inside_bar = (df['high'] < df['high'].shift(1)) & (df['low'] > df['low'].shift(1))
    
    # Pin Bar
    pin_bar_up = (df['high'] - df['low']) / (df['high'] - df['open'])
    pin_bar_down = (df['high'] - df['low']) / (df['close'] - df['low'])
    pin_bar = (pin_bar_up > 3) | (pin_bar_down > 3)
    
    # Composite Factor: Combine Trend and Volume
    avg_vol_5 = df['volume'].rolling(window=5).mean()
    avg_vol_20 = df['volume'].rolling(window=20).mean()
    composite_trend_volume = (short_ema - long_ema) * (avg_vol_5 / avg_vol_20)
    
    # Composite Factor: Combine Volatility and Momentum
    composite_volatility_momentum = bollinger_band * roc
    
    # Generate the final alpha factor
    alpha_factor = composite_trend_volume + composite_volatility_momentum
    
    return alpha_factor
```
