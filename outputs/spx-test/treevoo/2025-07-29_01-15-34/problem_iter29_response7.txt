```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # 50-day SMA of closing prices
    sma_50 = df['close'].rolling(window=50).mean()
    
    # Raw alpha factor (difference between close price and 50-day SMA)
    raw_alpha = df['close'] - sma_50
    
    # 20-day EMA of volume
    ema_volume_20 = df['volume'].ewm(span=20, adjust=False).mean()
    
    # Volume-based alpha factor (today's volume divided by 20-day EMA of volume)
    volume_factor = df['volume'] / ema_volume_20
    
    # Composite alpha factor (raw alpha factor multiplied by volume factor)
    composite_alpha = raw_alpha * volume_factor
    
    # 30-day EMA of high prices
    ema_high_30 = df['high'].ewm(span=30, adjust=False).mean()
    
    # 30-day EMA of low prices
    ema_low_30 = df['low'].ewm(span=30, adjust=False).mean()
    
    # Trend-following alpha factor (difference between 30-day EMA of high and low prices)
    trend_alpha = ema_high_30 - ema_low_30
    
    # Enhanced composite alpha factor (composite alpha factor plus trend-following alpha factor)
    enhanced_composite_alpha = composite_alpha + trend_alpha
    
    return enhanced_composite_alpha
```
