```txt
Volume-Weighted True Range Momentum with Exponential Smoothing and Volume Trend
├── Calculate Day-to-Day Log Return of Close Price
│   ├── Take natural logarithm of (Close price on day t / Close price on day t-1)
├── Calculate True Range
│   ├── Use High, Low, and Previous Close prices
├── Compute Volume-Weighted Moving Sum of Log Returns
│   ├── Multiply the log return by the volume of day t
│   ├── Sum over a window of n days [t-n, t]
├── Compute Volume-Adjusted Factor
│   ├── Divide moving sum of log returns by the sum of volume over the same window [t-n, t]
├── Compute Average True Range (ATR)
│   ├── Sum of True Ranges
│   └── Divide by number of days
├── Incorporate Volume Weight
│   ├── Multiply ATR by Volume-Adjusted Factor
├── Apply Exponential Smoothing
│   ├── Assign weights exponentially decreasing from the most recent to the oldest in the window
│   └── Multiply the volume-adjusted factor and ATR by the weight for each day and sum
├── Incorporate Volume Trend
    ├── Calculate the ratio of the current day's volume to the average volume over the window [t-n, t]
    └── Multiply the exponentially smoothed result by the volume trend ratio
├── Introduce Price Momentum
    ├── Calculate the simple moving average of close prices over the window [t-m, t]
    └── Subtract the moving average from the current day's close price
└── Combine Momentum and Volume-Weighted Factors
    ├── Multiply the price momentum by the volume-weighted ATR
```
