```txt
Volume-Weighted True Range and High-to-Low Range Momentum with Exponential Smoothing
├── Calculate High-to-Low Range
│   ├── Use High price
│   └── Use Low price
├── Compute Volume-Weighted High-to-Low Range
│   ├── Use High-to-Low Range
│   └── Use Volume
├── Compute 7-day EMA of Volume-Weighted High-to-Low Range
│   ├── Use Volume-Weighted High-to-Low Range
│   └── Use 7-day Span
├── Compute 21-day EMA of Volume-Weighted High-to-Low Range
│   ├── Use Volume-Weighted High-to-Low Range
│   └── Use 21-day Span
├── Compute the Ratio of 7-day EMA to 21-day EMA
│   ├── Use 7-day EMA
│   └── Use 21-day EMA
├── Calculate Day-to-Day Log Return of Close Price
│   ├── Take natural logarithm of (Close price on day t / Close price on day t-1)
├── Calculate True Range
│   ├── Use High price
│   ├── Use Low price
│   └── Use Previous Close price
├── Compute Volume-Weighted Moving Sum of Log Returns
│   ├── Multiply the log return by the volume of day t
│   ├── Sum over a window of n days [t-n, t]
├── Compute Volume-Adjusted Factor
│   ├── Divide moving sum of log returns by the sum of volume over the same window [t-n, t]
├── Compute Average True Range (ATR)
│   ├── Sum of True Ranges
│   └── Divide by number of days
├── Derive Momentum Indicator
│   ├── Use Current Close price
│   └── Use Close price from N days ago
├── Incorporate Volume Weight
│   ├── Use Volume
│   └── Multiply by the Momentum Indicator
└── Apply Exponential Smoothing
    ├── Assign weights exponentially decreasing from the most recent to the oldest in the window
    └── Multiply the volume-adjusted factor and ATR by the weight for each day and sum
```
