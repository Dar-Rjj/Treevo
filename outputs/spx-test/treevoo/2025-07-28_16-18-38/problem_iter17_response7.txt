```python
import pandas as pd

def heuristics_v2(df):
    # Calculate Short-Term and Long-Term Simple Moving Averages (SMA)
    short_term_sma = df['close'].rolling(window=10).mean()
    long_term_sma = df['close'].rolling(window=30).mean()
    
    # Momentum Indicator
    momentum = short_term_sma - long_term_sma
    
    # Daily Returns
    daily_returns = df['close'].pct_change()
    
    # Standard Deviation of Daily Returns (Volatility)
    volatility = daily_returns.rolling(window=20).std()
    
    # Inside Bars
    inside_bars = (df['high'] < df['high'].shift(1)) & (df['low'] > df['low'].shift(1))
    
    # Outside Bars
    outside_bars = (df['high'] > df['high'].shift(1)) & (df['low'] < df['low'].shift(1))
    
    # Sum of Volume for Days with Positive and Negative Returns
    positive_volume = df[df['close'].diff() > 0]['volume'].rolling(window=20).sum()
    negative_volume = df[df['close'].diff() < 0]['volume'].rolling(window=20).sum()
    
    # Ratio of Positive to Negative Volume Sums
    volume_ratio = positive_volume / negative_volume
    
    # Recent Support and Resistance Levels
    support = df['low'].rolling(window=20).min()
    resistance = df['high'].rolling(window=20).max()
    
    # Flag Breakout Points
    breakout = (df['close'] > resistance) | (df['close'] < support)
    
    # Identify Volume Spikes
    volume_spike = (df['volume'] > df['volume'].rolling(window=20).mean() * 2)
    volume_spike_score = volume_spike * (df['volume'] / df['volume'].rolling(window=20).mean())
    
    # Open and Close Gaps
    open_gap = df['open'] - df['close'].shift(1)
    gap_up = open_gap > 0
    gap_down = open_gap < 0
    average_true_range = df['high'].rolling(window=14).max() - df['low'].rolling(window=14).min()
    gap_size = open_gap.abs() / average_true_range
    
    # Volume-Weighted Average Price (VWAP)
    vwap = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()
    vwap_signal = (df['close'] > vwap).astype(int) - (df['close'] < vwap).astype(int)
    
    # Market Sentiment
    positive_days = (df['close'].diff() > 0).rolling(window=20).mean()
    negative_days = (df['close'].diff() < 0).rolling(window=20).mean()
    sentiment_score = positive_days - negative_days
    
    # RSI (Relative Strength Index)
    gains = daily_returns.clip(lower=0).rolling(window=14).mean()
    losses = daily_returns.clip(upper=0).rolling(window=14).mean().abs()
    rs = gains / losses
    rsi = 100 - (100 / (1 + rs))
    rsi_signal = (rsi > 70).astype(int) - (rsi < 30).astype(int)
    
    # MACD (Moving Average Convergence Divergence)
    macd_line = df['close'].ewm(span=12, adjust=False).mean() - df['close'].ewm(span=26, adjust=False).mean()
    signal_line = macd_line.ewm(span=9, adjust=False).mean()
    macd_signal = (macd_line > signal_line).astype(int) - (macd_line < signal_line).astype(int)
    
    # Bollinger Bands
    middle_band = df['close'].rolling(window=20).mean()
    upper_band = middle_band + 2 * volatility
    lower_band = middle_band - 2 * volatility
    bollinger_signal = (df['close'] > upper_band).astype(int) - (df['close'] < lower_band).astype(int)
    
    # Combine all signals into a single alpha factor
    alpha_factor = (
        momentum +
        volatility +
        inside_bars.astype(int) -
        outside_bars.astype(int) +
        volume_ratio +
        breakout.astype(int) +
        volume_spike_score +
        gap_size +
        vwap_signal +
        sentiment_score +
        rsi_signal +
        macd_signal +
        bollinger_signal
    )
    
    return alpha_factor
```
