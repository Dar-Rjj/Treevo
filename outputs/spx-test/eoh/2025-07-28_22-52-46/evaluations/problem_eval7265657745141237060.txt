def heuristics_v2(df):
    # Compute daily return
    df['daily_return'] = df['close'].pct_change()
    
    # Compute RSI
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    rsi = 100 - (100 / (1 + rs))
    
    # Compute the ratio of positive to negative returns
    pos_returns = (df['daily_return'] > 0).rolling(window=14).sum()
    neg_returns = (df['daily_return'] <= 0).rolling(window=14).sum()
    pos_neg_ratio = pos_returns / neg_returns
    
    # Compute Aroon Oscillator
    aroon_up = df['high'].rolling(window=14).apply(lambda x: (x.argmax() + 1) / 14 * 100, raw=True)
    aroon_down = df['low'].rolling(window=14).apply(lambda x: (x.argmin() + 1) / 14 * 100, raw=True)
    aroon_oscillator = aroon_up - aroon_down
    
    # Rolling 30-day historical correlations with future 5-day returns
    corr_rsi = rsi.rolling(window=30).corr(df['close'].shift(-5).pct_change().shift(1)).abs()
    corr_pos_neg_ratio = pos_neg_ratio.rolling(window=30).corr(df['close'].shift(-5).pct_change().shift(1)).abs()
    corr_aroon_oscillator = aroon_oscillator.rolling(window=30).corr(df['close'].shift(-5).pct_change().shift(1)).abs()
    
    # Generate heuristic matrix
    heuristics_matrix = (rsi * corr_rsi +
                         pos_neg_ratio * corr_pos_neg_ratio +
                         aroon_oscillator * corr_aroon_oscillator)
    
    return heuristics_matrix
