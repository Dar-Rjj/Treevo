def heuristics_v2(df):
    # Compute daily return
    df['daily_return'] = df['close'].pct_change()
    
    # Calculate percentage price change from the previous close
    df['price_change'] = (df['close'] - df['close'].shift(1)) / df['close'].shift(1)
    
    # Calculate today's volume relative to the average volume over the past 20 days
    df['volume_ratio'] = df['volume'] / df['volume'].rolling(window=20).mean()
    
    # Calculate the high-low spread
    df['high_low_spread'] = df['high'] - df['low']
    
    # Historical mean returns
    mean_returns = {
        'price_change': (df['price_change'] * df['daily_return'].shift(-1)).mean(),
        'volume_ratio': (df['volume_ratio'] * df['daily_return'].shift(-1)).mean(),
        'high_low_spread': (df['high_low_spread'] * df['daily_return'].shift(-1)).mean()
    }
    
    # Generate heuristic matrix
    heuristics_matrix = (df['price_change'] * mean_returns['price_change'] +
                         df['volume_ratio'] * mean_returns['volume_ratio'] +
                         df['high_low_spread'] * mean_returns['high_low_spread'])
    
    return heuristics_matrix
