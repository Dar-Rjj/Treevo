def heuristics_v2(df):
    # Calculate the 10-day average of (high + low) / 2
    df['avg_high_low_10'] = ((df['high'] + df['low']) / 2).rolling(window=10).mean()
    
    # Calculate the ratio of close to 10-day average of (high + low) / 2
    df['close_to_avg_ratio'] = df['close'] / df['avg_high_low_10']
    
    # Calculate 5-day momentum of the closing price
    df['momentum_5'] = df['close'] - df['close'].shift(5)
    
    # Generate heuristic matrix
    heuristics_matrix = df['close_to_avg_ratio'] * df['momentum_5']
    
    return heuristics_matrix
