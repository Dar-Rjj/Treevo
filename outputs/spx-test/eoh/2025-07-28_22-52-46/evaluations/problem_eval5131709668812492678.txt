import pandas as pd

def heuristics_v2(df):
    # Momentum: difference between the 20-day and 60-day exponential moving averages
    ema_20 = df['close'].ewm(span=20, adjust=False).mean()
    ema_60 = df['close'].ewm(span=60, adjust=False).mean()
    momentum = ema_20 - ema_60
    
    # Price action relative to historical trading range over 30 days
    high_30 = df['high'].rolling(window=30).max()
    low_30 = df['low'].rolling(window=30).min()
    trading_range_position = (df['close'] - low_30) / (high_30 - low_30)
    
    # Combine features into a single heuristic
    heuristics_matrix = momentum + (trading_range_position * 100)
    
    return heuristics_matrix
