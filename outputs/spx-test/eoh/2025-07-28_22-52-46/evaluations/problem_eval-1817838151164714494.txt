import pandas as pd

def heuristics_v2(df):
    heuristics_matrix = pd.Series(index=df.index)
    
    # Simple moving averages
    sma_5 = df['close'].rolling(window=5).mean()
    sma_20 = df['close'].rolling(window=20).mean()
    
    # Exponential moving average
    ema_10 = df['close'].ewm(span=10, adjust=False).mean()
    
    # Volatility (standard deviation of daily returns over the last 20 days)
    volatility = df['close'].pct_change().rolling(window=20).std()
    
    # Volume trend
    volume_trend = df['volume'].rolling(window=5).mean() / df['volume'].rolling(window=20).mean()
    
    # Combine features into a single heuristic
    heuristics_matrix = (sma_5 - sma_20) + (ema_10 - df['close']) + (volatility * 100) + (volume_trend - 1)
    
    return heuristics_matrix
