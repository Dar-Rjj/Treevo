def heuristics_v2(df):
    # Momentum: difference between the 21-day and 63-day exponential moving averages
    ema_21 = df['close'].ewm(span=21, adjust=False).mean()
    ema_63 = df['close'].ewm(span=63, adjust=False).mean()
    momentum = ema_21 - ema_63
    
    # Price action relative to 30-day historical trading range
    high_30 = df['high'].rolling(window=30).max()
    low_30 = df['low'].rolling(window=30).min()
    trading_range_position = (df['close'] - low_30) / (high_30 - low_30)
    
    # Combine features into a single heuristic
    heuristics_matrix = momentum + (trading_range_position * 100)
    
    return heuristics_matrix
