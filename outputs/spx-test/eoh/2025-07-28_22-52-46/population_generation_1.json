[
     {
          "algorithm": "The new algorithm computes a weighted sum of momentum, simple moving average crossovers, and volume trends, with weights based on their historical Sharpe ratios rather than correlations, to predict future returns.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios['momentum'] +\n                         df['sma_crossover'] * sharpe_ratios['sma_crossover'] +\n                         df['volume_trend'] * sharpe_ratios['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.05401,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm computes a weighted combination of technical indicators and volume trends to generate alpha factors, where the weights are determined by the historical correlation of each indicator with future returns.}\n\n```python\nimport pandas as pd\n\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate price relative to SMA\n    df['price_to_sma_10'] = df['close'] / df['sma_10']\n    df['price_to_sma_30'] = df['close'] / df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical return correlations\n    corr_with_returns = {'momentum': df['momentum'].corr(df['daily_return'].shift(-1)), \n                         'price_to_sma_10': df['price_to_sma_10'].corr(df['daily_return'].shift(-1)),\n                         'price_to_sma_30': df['price_to_sma_30'].corr(df['daily_return'].shift(-1)),\n                         'volume_trend': df['volume_trend'].corr(df['daily_return'].shift(-1))",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate price relative to SMA\n    df['price_to_sma_10'] = df['close'] / df['sma_10']\n    df['price_to_sma_30'] = df['close'] / df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical return correlations\n    corr_with_returns = {'momentum': df['momentum'].corr(df['daily_return'].shift(-1)), \n                         'price_to_sma_10': df['price_to_sma_10'].corr(df['daily_return'].shift(-1)),\n                         'price_to_sma_30': df['price_to_sma_30'].corr(df['daily_return'].shift(-1)),\n                         'volume_trend': df['volume_trend'].corr(df['daily_return'].shift(-1))}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * corr_with_returns['momentum'] +\n                         df['price_to_sma_10'] * corr_with_returns['price_to_sma_10'] +\n                         df['price_to_sma_30'] * corr_with_returns['price_to_sma_30'] +\n                         df['volume_trend'] * corr_with_returns['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.03068,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the ratio of the sum of the absolute differences between the high and low prices to the average of the opening and closing prices, then applies a 10-day moving average to this ratio for a more stable signal.",
          "code": "def heuristics_v2(df):\n    # Compute the numerator (|High - Low|) and the denominator (Open + Close)/2\n    num = abs(df['high'] - df['low'])\n    denom = (df['open'] + df['close']) / 2\n    \n    # Calculate the base heuristic\n    base_heuristic = num / denom\n    \n    # Apply a 10-day moving average to smooth the series\n    heuristics_matrix = base_heuristic.rolling(window=10).mean()\n    \n    return heuristics_matrix",
          "objective": -0.02851,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted combination of technical indicators and volume trends to generate alpha factors, where the weights are determined by the historical correlation of each indicator with future returns, but it uses 20-day and 60-day simple moving averages instead of 10-day and 30-day.}\n\n```python\nimport pandas as pd\n\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_20'] = df['close'].rolling(window=20).mean()\n    df['sma_60'] = df['close'].rolling(window=60).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate price relative to SMA\n    df['price_to_sma_20'] = df['close'] / df['sma_20']\n    df['price_to_sma_60'] = df['close'] / df['sma_60']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=60).mean()\n    \n    # Historical return correlations\n    corr_with_returns = {'momentum': df['momentum'].corr(df['daily_return'].shift(-1)), \n                         'price_to_sma_20': df['price_to_sma_20'].corr(df['daily_return'].shift(-1)),\n                         'price_to_sma_60': df['price_to_sma_60'].corr(df['daily_return'].shift(-1)),\n                         'volume_trend': df['volume_trend'].corr(df['daily_return'].shift(-1))",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_20'] = df['close'].rolling(window=20).mean()\n    df['sma_60'] = df['close'].rolling(window=60).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate price relative to SMA\n    df['price_to_sma_20'] = df['close'] / df['sma_20']\n    df['price_to_sma_60'] = df['close'] / df['sma_60']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=60).mean()\n    \n    # Historical return correlations\n    corr_with_returns = {'momentum': df['momentum'].corr(df['daily_return'].shift(-1)), \n                         'price_to_sma_20': df['price_to_sma_20'].corr(df['daily_return'].shift(-1)),\n                         'price_to_sma_60': df['price_to_sma_60'].corr(df['daily_return'].shift(-1)),\n                         'volume_trend': df['volume_trend'].corr(df['daily_return'].shift(-1))}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * corr_with_returns['momentum'] +\n                         df['price_to_sma_20'] * corr_with_returns['price_to_sma_20'] +\n                         df['price_to_sma_60'] * corr_with_returns['price_to_sma_60'] +\n                         df['volume_trend'] * corr_with_returns['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.02674,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates the ratio of the difference between the high and low prices to the average of the opening and closing prices, then applies a 7-day moving average to this ratio.",
          "code": "def heuristics_v2(df):\n    # Compute the numerator (High - Low) and the denominator (Open + Close)/2\n    num = df['high'] - df['low']\n    denom = (df['open'] + df['close']) / 2\n    \n    # Calculate the base heuristic\n    base_heuristic = num / denom\n    \n    # Apply a 7-day moving average to smooth the series\n    heuristics_matrix = base_heuristic.rolling(window=7).mean()\n    \n    return heuristics_matrix",
          "objective": -0.02555,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a momentum-based alpha factor by combining the rate of change in closing prices with an indicator of trading volume pressure, aiming to capture the strength and sustainability of price movements.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Calculate the 14-day rate of change in closing prices\n    df['roc'] = df['close'].pct_change(periods=14)\n    \n    # Calculate the Chaikin Money Flow (CMF) over 14 days\n    money_flow_multiplier = ((df['close'] - df['low']) - (df['high'] - df['close'])) / (df['high'] - df['low'])\n    money_flow_volume = money_flow_multiplier * df['volume']\n    cmf = money_flow_volume.rolling(window=14).sum() / df['volume'].rolling(window=14).sum()\n    \n    # Generate the heuristic matrix\n    heuristics_matrix = df['roc'] + cmf\n    \n    return heuristics_matrix",
          "objective": -0.02282,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes the ratio of the difference between the high and low prices to the adjusted close price, then applies a 5-day moving average on this ratio to smooth out short-term fluctuations.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Compute the numerator (High - Low) and the denominator (Close)\n    num = df['high'] - df['low']\n    denom = df['close']\n    \n    # Calculate the base heuristic\n    base_heuristic = num / denom\n    \n    # Apply a 5-day moving average to smooth the series\n    heuristics_matrix = base_heuristic.rolling(window=5).mean()\n    \n    return heuristics_matrix",
          "objective": -0.02276,
          "other_inf": null
     },
     {
          "algorithm": "The algorithm computes the ratio of the difference between the high and low prices to the average of the open and close prices, aiming to capture volatility relative to price levels, and then applies a 3-day moving average on this ratio to smooth out short-term fluctuations.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Compute the numerator (High - Low) and the denominator (Open + Close)/2\n    num = df['high'] - df['low']\n    denom = (df['open'] + df['close']) / 2\n    \n    # Calculate the base heuristic\n    base_heuristic = num / denom\n    \n    # Apply a 3-day moving average to smooth the series\n    heuristics_matrix = base_heuristic.rolling(window=3).mean()\n    \n    return heuristics_matrix",
          "objective": -0.02005,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm blends a 21-day and 63-day simple moving average difference with the stock's closing price position relative to its 30-day trading range, aiming to better capture short to medium-term trend momentum and volatility-adjusted returns.",
          "code": "def heuristics_v2(df):\n    # Momentum: difference between the 21-day and 63-day simple moving averages\n    sma_21 = df['close'].rolling(window=21).mean()\n    sma_63 = df['close'].rolling(window=63).mean()\n    momentum = sma_21 - sma_63\n    \n    # Price action relative to 30-day historical trading range\n    high_30 = df['high'].rolling(window=30).max()\n    low_30 = df['low'].rolling(window=30).min()\n    trading_range_position = (df['close'] - low_30) / (high_30 - low_30)\n    \n    # Combine features into a single heuristic\n    heuristics_matrix = momentum + (trading_range_position * 100)\n    \n    return heuristics_matrix",
          "objective": -0.01957,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm combines a 20-day and 60-day exponential moving average for momentum, along with the position of the closing price relative to its 30-day high and low, to gauge trend strength and volatility-adjusted return.",
          "code": "import pandas as pd\n\ndef heuristics_v2(df):\n    # Momentum: difference between the 20-day and 60-day exponential moving averages\n    ema_20 = df['close'].ewm(span=20, adjust=False).mean()\n    ema_60 = df['close'].ewm(span=60, adjust=False).mean()\n    momentum = ema_20 - ema_60\n    \n    # Price action relative to historical trading range over 30 days\n    high_30 = df['high'].rolling(window=30).max()\n    low_30 = df['low'].rolling(window=30).min()\n    trading_range_position = (df['close'] - low_30) / (high_30 - low_30)\n    \n    # Combine features into a single heuristic\n    heuristics_matrix = momentum + (trading_range_position * 100)\n    \n    return heuristics_matrix",
          "objective": -0.01901,
          "other_inf": null
     }
]