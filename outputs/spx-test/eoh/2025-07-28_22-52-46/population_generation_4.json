[
     {
          "algorithm": "The new algorithm adjusts the original by incorporating a weighted sum of momentum, simple moving average crossovers, and volume trends, with weights adjusted dynamically based on their rolling 30-day historical Sharpe ratios, to predict future returns.",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Rolling 30-day historical Sharpe ratios\n    sharpe_ratios_momentum = (df['momentum'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['momentum'].rolling(window=30).std()\n    sharpe_ratios_sma_crossover = (df['sma_crossover'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['sma_crossover'].rolling(window=30).std()\n    sharpe_ratios_volume_trend = (df['volume_trend'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['volume_trend'].rolling(window=30).std()\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios_momentum +\n                         df['sma_crossover'] * sharpe_ratios_sma_crossover +\n                         df['volume_trend'] * sharpe_ratios_volume_trend)\n    \n    return heuristics_matrix",
          "objective": -0.06519,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm calculates a weighted sum of normalized momentum, normalized simple moving average crossovers, and normalized volume trends, with weights dynamically adjusted based on their rolling 30-day correlations with future returns.",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Rolling 30-day historical correlations with future returns\n    corr_momentum = df['momentum'].rolling(window=30).corr(df['daily_return'].shift(-1))\n    corr_sma_crossover = df['sma_crossover'].rolling(window=30).corr(df['daily_return'].shift(-1))\n    corr_volume_trend = df['volume_trend'].rolling(window=30).corr(df['daily_return'].shift(-1))\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * corr_momentum +\n                         df['sma_crossover'] * corr_sma_crossover +\n                         df['volume_trend'] * corr_volume_trend)\n    \n    return heuristics_matrix",
          "objective": -0.0615,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted sum of 20-day momentum, 50 and 100-day exponential moving average crossovers, and 20-day volume trends, with weights based on their historical Sharpe ratios.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute exponential moving averages for close price\n    df['ema_50'] = df['close'].ewm(span=50, adjust=False).mean()\n    df['ema_100'] = df['close'].ewm(span=100, adjust=False).mean()\n    \n    # Calculate 20-day momentum\n    df['momentum'] = df['close'] - df['close'].shift(20)\n    \n    # Calculate EMA crossover\n    df['ema_crossover'] = df['ema_50'] - df['ema_100']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'ema_crossover': (df['ema_crossover'] * df['daily_return'].shift(-1)).mean() / df['ema_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute exponential moving averages for close price\n    df['ema_50'] = df['close'].ewm(span=50, adjust=False).mean()\n    df['ema_100'] = df['close'].ewm(span=100, adjust=False).mean()\n    \n    # Calculate 20-day momentum\n    df['momentum'] = df['close'] - df['close'].shift(20)\n    \n    # Calculate EMA crossover\n    df['ema_crossover'] = df['ema_50'] - df['ema_100']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'ema_crossover': (df['ema_crossover'] * df['daily_return'].shift(-1)).mean() / df['ema_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios['momentum'] +\n                         df['ema_crossover'] * sharpe_ratios['ema_crossover'] +\n                         df['volume_trend'] * sharpe_ratios['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.06142,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted sum of 10-day momentum, 30 and 60-day exponential moving average crossovers, and 10-day volume trends, with weights based on their historical Sharpe ratios.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute exponential moving averages for close price\n    df['ema_30'] = df['close'].ewm(span=30, adjust=False).mean()\n    df['ema_60'] = df['close'].ewm(span=60, adjust=False).mean()\n    \n    # Calculate 10-day momentum\n    df['momentum'] = df['close'] - df['close'].shift(10)\n    \n    # Calculate EMA crossover\n    df['ema_crossover'] = df['ema_30'] - df['ema_60']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=20).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'ema_crossover': (df['ema_crossover'] * df['daily_return'].shift(-1)).mean() / df['ema_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute exponential moving averages for close price\n    df['ema_30'] = df['close'].ewm(span=30, adjust=False).mean()\n    df['ema_60'] = df['close'].ewm(span=60, adjust=False).mean()\n    \n    # Calculate 10-day momentum\n    df['momentum'] = df['close'] - df['close'].shift(10)\n    \n    # Calculate EMA crossover\n    df['ema_crossover'] = df['ema_30'] - df['ema_60']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=20).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'ema_crossover': (df['ema_crossover'] * df['daily_return'].shift(-1)).mean() / df['ema_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios['momentum'] +\n                         df['ema_crossover'] * sharpe_ratios['ema_crossover'] +\n                         df['volume_trend'] * sharpe_ratios['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.0612,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm modifies the original by incorporating a weighted sum of momentum, simple moving average crossovers, and volume trends, with dynamic weights based on their rolling 30-day historical Sharpe ratios, and further includes a weighted MACD (Moving Average Convergence Divergence) signal to enhance predictive power.",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n\n    # MACD\n    df['ema_12'] = df['close'].ewm(span=12, adjust=False).mean()\n    df['ema_26'] = df['close'].ewm(span=26, adjust=False).mean()\n    df['macd'] = df['ema_12'] - df['ema_26']\n    df['signal_line'] = df['macd'].ewm(span=9, adjust=False).mean()\n    \n    # Rolling 30-day historical Sharpe ratios\n    sharpe_ratios_momentum = (df['momentum'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['momentum'].rolling(window=30).std()\n    sharpe_ratios_sma_crossover = (df['sma_crossover'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['sma_crossover'].rolling(window=30).std()\n    sharpe_ratios_volume_trend = (df['volume_trend'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['volume_trend'].rolling(window=30).std()\n    sharpe_ratios_macd = (df['macd'] * df['daily_return'].shift(-1)).rolling(window=30).mean() / df['macd'].rolling(window=30).std()\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios_momentum +\n                         df['sma_crossover'] * sharpe_ratios_sma_crossover +\n                         df['volume_trend'] * sharpe_ratios_volume_trend +\n                         df['macd'] * sharpe_ratios_macd)\n    \n    return heuristics_matrix",
          "objective": -0.05968,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm combines the momentum and volatility factors, adjusting the weights of RSI and Bollinger Bands width by their historical Information Ratios (IR) to predict future returns.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Calculate RSI\n    delta = df['close'].diff()\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    df['rsi'] = 100 - (100 / (1 + rs))\n    \n    # Calculate Bollinger Bands\n    df['sma_20'] = df['close'].rolling(window=20).mean()\n    df['std_20'] = df['close'].rolling(window=20).std()\n    df['bb_width'] = 2 * df['std_20']\n    \n    # Historical Information Ratios\n    ir_ratios = {\n        'rsi': (df['rsi'] * df['daily_return'].shift(-1)).mean() / (df['rsi'] * df['daily_return'].shift(-1)).std(),\n        'bb_width': (df['bb_width'] * df['daily_return'].shift(-1)).mean() / (df['bb_width'] * df['daily_return'].shift(-1)).std()\n    ",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Calculate RSI\n    delta = df['close'].diff()\n    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()\n    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()\n    rs = gain / loss\n    df['rsi'] = 100 - (100 / (1 + rs))\n    \n    # Calculate Bollinger Bands\n    df['sma_20'] = df['close'].rolling(window=20).mean()\n    df['std_20'] = df['close'].rolling(window=20).std()\n    df['bb_width'] = 2 * df['std_20']\n    \n    # Historical Information Ratios\n    ir_ratios = {\n        'rsi': (df['rsi'] * df['daily_return'].shift(-1)).mean() / (df['rsi'] * df['daily_return'].shift(-1)).std(),\n        'bb_width': (df['bb_width'] * df['daily_return'].shift(-1)).mean() / (df['bb_width'] * df['daily_return'].shift(-1)).std()\n    }\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['rsi'] * ir_ratios['rsi'] + df['bb_width'] * ir_ratios['bb_width'])\n    \n    return heuristics_matrix",
          "objective": -0.05963,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted sum of 20-day momentum, 50 and 100-day simple moving average crossovers, and 20-day volume trends, with weights based on their historical Sharpe ratios.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_50'] = df['close'].rolling(window=50).mean()\n    df['sma_100'] = df['close'].rolling(window=100).mean()\n    \n    # Calculate 20-day momentum\n    df['momentum'] = df['close'] - df['close'].shift(20)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_50'] - df['sma_100']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_50'] = df['close'].rolling(window=50).mean()\n    df['sma_100'] = df['close'].rolling(window=100).mean()\n    \n    # Calculate 20-day momentum\n    df['momentum'] = df['close'] - df['close'].shift(20)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_50'] - df['sma_100']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios['momentum'] +\n                         df['sma_crossover'] * sharpe_ratios['sma_crossover'] +\n                         df['volume_trend'] * sharpe_ratios['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.05642,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted sum of the 7-day and 25-day momentum, simple moving average crossovers for 15-day and 40-day periods, and volume trends over 7-day and 25-day windows, with weights based on their historical Sharpe ratios, to predict future returns.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_15'] = df['close'].rolling(window=15).mean()\n    df['sma_40'] = df['close'].rolling(window=40).mean()\n    \n    # Calculate momentums\n    df['momentum_7'] = df['close'] - df['close'].shift(7)\n    df['momentum_25'] = df['close'] - df['close'].shift(25)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_15'] - df['sma_40']\n    \n    # Volume trends\n    df['volume_trend_7'] = df['volume'].rolling(window=7).mean() / df['volume'].rolling(window=25).mean()\n    df['volume_trend_25'] = df['volume'].rolling(window=25).mean() / df['volume'].rolling(window=40).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {\n        'momentum_7': (df['momentum_7'] * df['daily_return'].shift(-1)).mean() / df['momentum_7'].std(),\n        'momentum_25': (df['momentum_25'] * df['daily_return'].shift(-1)).mean() / df['momentum_25'].std(),\n        'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n        'volume_trend_7': (df['volume_trend_7'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_7'].std(),\n        'volume_trend_25': (df['volume_trend_25'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_25'].std()\n    ",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_15'] = df['close'].rolling(window=15).mean()\n    df['sma_40'] = df['close'].rolling(window=40).mean()\n    \n    # Calculate momentums\n    df['momentum_7'] = df['close'] - df['close'].shift(7)\n    df['momentum_25'] = df['close'] - df['close'].shift(25)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_15'] - df['sma_40']\n    \n    # Volume trends\n    df['volume_trend_7'] = df['volume'].rolling(window=7).mean() / df['volume'].rolling(window=25).mean()\n    df['volume_trend_25'] = df['volume'].rolling(window=25).mean() / df['volume'].rolling(window=40).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {\n        'momentum_7': (df['momentum_7'] * df['daily_return'].shift(-1)).mean() / df['momentum_7'].std(),\n        'momentum_25': (df['momentum_25'] * df['daily_return'].shift(-1)).mean() / df['momentum_25'].std(),\n        'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n        'volume_trend_7': (df['volume_trend_7'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_7'].std(),\n        'volume_trend_25': (df['volume_trend_25'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_25'].std()\n    }\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum_7'] * sharpe_ratios['momentum_7'] +\n                         df['momentum_25'] * sharpe_ratios['momentum_25'] +\n                         df['sma_crossover'] * sharpe_ratios['sma_crossover'] +\n                         df['volume_trend_7'] * sharpe_ratios['volume_trend_7'] +\n                         df['volume_trend_25'] * sharpe_ratios['volume_trend_25'])\n    \n    return heuristics_matrix",
          "objective": -0.05416,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted sum of momentum, simple moving average crossovers, and volume trends, with weights based on their historical Sharpe ratios rather than correlations, to predict future returns.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentum\n    df['momentum'] = df['close'] - df['close'].shift(5)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trend\n    df['volume_trend'] = df['volume'].rolling(window=10).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {'momentum': (df['momentum'] * df['daily_return'].shift(-1)).mean() / df['momentum'].std(),\n                     'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n                     'volume_trend': (df['volume_trend'] * df['daily_return'].shift(-1)).mean() / df['volume_trend'].std()}\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum'] * sharpe_ratios['momentum'] +\n                         df['sma_crossover'] * sharpe_ratios['sma_crossover'] +\n                         df['volume_trend'] * sharpe_ratios['volume_trend'])\n    \n    return heuristics_matrix",
          "objective": -0.05401,
          "other_inf": null
     },
     {
          "algorithm": "The new algorithm computes a weighted sum of the 5-day and 20-day momentum, simple moving average crossovers for 10-day and 30-day periods, and volume trends over 5-day and 20-day windows, with weights based on their historical Sharpe ratios, to predict future returns.}\n\n```python\ndef heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentums\n    df['momentum_5'] = df['close'] - df['close'].shift(5)\n    df['momentum_20'] = df['close'] - df['close'].shift(20)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trends\n    df['volume_trend_5'] = df['volume'].rolling(window=5).mean() / df['volume'].rolling(window=20).mean()\n    df['volume_trend_20'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {\n        'momentum_5': (df['momentum_5'] * df['daily_return'].shift(-1)).mean() / df['momentum_5'].std(),\n        'momentum_20': (df['momentum_20'] * df['daily_return'].shift(-1)).mean() / df['momentum_20'].std(),\n        'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n        'volume_trend_5': (df['volume_trend_5'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_5'].std(),\n        'volume_trend_20': (df['volume_trend_20'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_20'].std()\n    ",
          "code": "def heuristics_v2(df):\n    # Compute daily return\n    df['daily_return'] = df['close'].pct_change()\n    \n    # Compute simple moving averages for close price\n    df['sma_10'] = df['close'].rolling(window=10).mean()\n    df['sma_30'] = df['close'].rolling(window=30).mean()\n    \n    # Calculate momentums\n    df['momentum_5'] = df['close'] - df['close'].shift(5)\n    df['momentum_20'] = df['close'] - df['close'].shift(20)\n    \n    # Calculate SMA crossover\n    df['sma_crossover'] = df['sma_10'] - df['sma_30']\n    \n    # Volume trends\n    df['volume_trend_5'] = df['volume'].rolling(window=5).mean() / df['volume'].rolling(window=20).mean()\n    df['volume_trend_20'] = df['volume'].rolling(window=20).mean() / df['volume'].rolling(window=30).mean()\n    \n    # Historical Sharpe ratios\n    sharpe_ratios = {\n        'momentum_5': (df['momentum_5'] * df['daily_return'].shift(-1)).mean() / df['momentum_5'].std(),\n        'momentum_20': (df['momentum_20'] * df['daily_return'].shift(-1)).mean() / df['momentum_20'].std(),\n        'sma_crossover': (df['sma_crossover'] * df['daily_return'].shift(-1)).mean() / df['sma_crossover'].std(),\n        'volume_trend_5': (df['volume_trend_5'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_5'].std(),\n        'volume_trend_20': (df['volume_trend_20'] * df['daily_return'].shift(-1)).mean() / df['volume_trend_20'].std()\n    }\n    \n    # Generate heuristic matrix\n    heuristics_matrix = (df['momentum_5'] * sharpe_ratios['momentum_5'] +\n                         df['momentum_20'] * sharpe_ratios['momentum_20'] +\n                         df['sma_crossover'] * sharpe_ratios['sma_crossover'] +\n                         df['volume_trend_5'] * sharpe_ratios['volume_trend_5'] +\n                         df['volume_trend_20'] * sharpe_ratios['volume_trend_20'])\n    \n    return heuristics_matrix",
          "objective": -0.0526,
          "other_inf": null
     }
]