import pandas as pd

def heuristics_v2(df):
    df['price_change_momentum'] = df['close'].pct_change().rolling(window=10).mean()
    df['vwap'] = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()
    df['close_to_vwap_ratio'] = df['close'] / df['vwap']
    df['heuristic_factor'] = df['price_change_momentum'] + df['close_to_vwap_ratio'] - 1
    heuristics_matrix = df['heuristic_factor'].dropna()
    return heuristics_matrix
