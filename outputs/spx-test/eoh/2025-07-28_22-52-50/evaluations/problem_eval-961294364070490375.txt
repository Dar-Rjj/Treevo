import pandas as pd

def heuristics_v2(df):
    # Calculate simple moving averages
    short_window = 10
    long_window = 50
    df['SMA_Short'] = df['close'].rolling(window=short_window).mean()
    df['SMA_Long'] = df['close'].rolling(window=long_window).mean()

    # Momentum calculation (price change over a period)
    momentum_period = 14
    df['Momentum'] = df['close'].pct_change(momentum_period)

    # Volatility (standard deviation of daily returns)
    vol_period = 20
    df['Volatility'] = df['close'].pct_change().rolling(window=vol_period).std()

    # Combined heuristic: Difference between short and long SMAs, adjusted by momentum and volatility
    heuristics_matrix = (df['SMA_Short'] - df['SMA_Long']) + df['Momentum'] - df['Volatility']

    return heuristics_matrix
