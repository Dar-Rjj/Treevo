def heuristics_v2(df):
    # Calculate percentage change in closing price over 10 days
    pct_change_10 = df['close'].pct_change(periods=10)
    
    # Calculate 5-period and 20-period moving averages of volume
    ma_volume_5 = df['volume'].rolling(window=5).mean()
    ma_volume_20 = df['volume'].rolling(window=20).mean()
    volume_ratio = ma_volume_5 / ma_volume_20
    
    # Calculate 10-period and 30-period EMAs
    ema_10 = df['close'].ewm(span=10, adjust=False).mean()
    ema_30 = df['close'].ewm(span=30, adjust=False).mean()
    ema_diff = ema_10 - ema_30
    
    # Combined heuristic: percentage change in closing price, volume ratio, and EMA difference
    heuristics_matrix = pct_change_10 + volume_ratio * ema_diff

    return heuristics_matrix
