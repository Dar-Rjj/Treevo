import pandas as pd

def heuristics_v2(df):
    # Calculate simple moving averages
    df['SMA_5'] = df['close'].rolling(window=5).mean()
    df['SMA_10'] = df['close'].rolling(window=10).mean()
    df['SMA_20'] = df['close'].rolling(window=20).mean()

    # Calculate momentum indicators
    df['Momentum_5'] = df['close'] - df['close'].shift(5)
    df['Momentum_10'] = df['close'] - df['close'].shift(10)

    # Calculate volume trends
    df['Volume_Ratio'] = df['volume'] / df['volume'].shift(1)

    # Calculate price change
    df['Price_Change'] = df['close'].pct_change()

    # Construct the heuristics matrix
    heuristics_matrix = df[['SMA_5', 'SMA_10', 'SMA_20', 'Momentum_5', 'Momentum_10', 'Volume_Ratio', 'Price_Change']].dropna()

    return heuristics_matrix
