import pandas as pd

def heuristics_v2(df):
    close = df['close']
    high_low_avg = (df['high'] + df['low']) / 2
    ratio = close / high_low_avg.rolling(window=10).mean()
    heuristics_matrix = ratio.ewm(span=5, adjust=False).mean()
    return heuristics_matrix
