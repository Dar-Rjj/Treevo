import pandas as pd

def heuristics_v2(df):
    # Calculate the momentum of closing prices
    close_momentum = df['close'].pct_change(periods=3)
    # Calculate the weighted moving average of volume over a 5-day window
    weights = [0.1, 0.2, 0.3, 0.2, 0.1]
    volume_wma = df['volume'].rolling(window=5).apply(lambda x: (x * weights).sum(), raw=True)
    # Generate the heuristics matrix as the product of the two values
    heuristics_matrix = close_momentum * volume_wma
    return heuristics_matrix
