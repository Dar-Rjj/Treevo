def heuristics_v2(df):
    min_close_20 = df['close'].rolling(window=20).min()
    max_close_20 = df['close'].rolling(window=20).max()
    moving_avg_5 = df['close'].rolling(window=5).mean()
    adjusted_close = df['close'] - moving_avg_5
    ratio_min = (adjusted_close / min_close_20) ** 2
    ratio_max = - (adjusted_close / max_close_20) ** 2
    heuristics_matrix = (ratio_min + ratio_max).dropna()
    return heuristics_matrix
