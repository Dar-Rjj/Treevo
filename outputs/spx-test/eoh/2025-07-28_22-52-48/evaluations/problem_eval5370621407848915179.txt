def heuristics_v2(df):
    def compute_roc(price_series, n=10):
        return price_series.pct_change(n)

    def compute_atr(high_series, low_series, close_series, n=14):
        tr = high_series - low_series
        atr = tr.rolling(window=n).mean()
        return atr

    def compute_sma(price_series, n=5):
        return price_series.rolling(window=n).mean()

    close_prices = df['close']
    high_prices = df['high']
    low_prices = df['low']

    roc_values = compute_roc(close_prices)
    atr_values = compute_atr(high_prices, low_prices, close_prices)
    sma_values = compute_sma(close_prices)

    # Heuristic matrix: weighted combination of ROC and ATR with momentum adjustment
    heuristics_matrix = (roc_values + atr_values) * (close_prices / sma_values)
    return heuristics_matrix
