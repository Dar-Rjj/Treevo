import pandas as pd

def heuristics_v2(df):
    def compute_wma(price_series, weights):
        wma = (price_series * weights).sum() / weights.sum()
        return price_series.rolling(window=len(weights)).apply(lambda x: (x * weights).sum() / weights.sum(), raw=True)
    
    def compute_roc(series, periods=14):
        roc = series.pct_change(periods=periods)
        return roc
    
    def compute_rsi(series, periods=14):
        delta = series.diff(1)
        up, down = delta.copy(), delta.copy()
        up[up < 0] = 0
        down[down > 0] = 0
        roll_up = up.rolling(window=periods).mean()
        roll_down = down.abs().rolling(window=periods).mean()
        rs = roll_up / roll_down
        rsi = 100.0 - (100.0 / (1.0 + rs))
        return rsi
    
    close_prices = df['close']
    volume = df['volume']
    
    weights = [1, 2, 3, 4, 5]
    wma_values = compute_wma(close_prices, weights)
    roc_values = compute_roc(volume)
    rsi_values = compute_rsi(close_prices)
    
    # Heuristic matrix: combination of WMA, ROC, and RSI
    heuristics_matrix = (wma_values + roc_values + rsi_values) / 3
    return heuristics_matrix
