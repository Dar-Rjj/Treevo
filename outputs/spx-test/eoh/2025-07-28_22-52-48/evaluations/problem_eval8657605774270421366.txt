import pandas as pd

def heuristics_v2(df):
    def compute_atr(df, periods=14):
        high_low = df['high'] - df['low']
        high_close = (df['high'] - df['close'].shift()).abs()
        low_close = (df['low'] - df['close'].shift()).abs()
        ranges = pd.concat([high_low, high_close, low_close], axis=1)
        true_range = ranges.max(axis=1)
        atr = true_range.rolling(window=periods).mean()
        return atr

    close_prices = df['close']
    df['price_change'] = close_prices.diff(1)
    df['volume_ma_5'] = df['volume'].rolling(window=5).mean()
    atr_values = compute_atr(df)
    
    # Heuristic matrix: combination of price change, ATR, and volume
    heuristics_matrix = (df['price_change'] / atr_values) * df['volume_ma_5']
    return heuristics_matrix
