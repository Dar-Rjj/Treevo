def heuristics_v2(df):
    def momentum(df, n):
        return (df['close'] / df['close'].shift(n)) - 1

    def volatility(df, n):
        return df['close'].pct_change().rolling(window=n).std()

    def volume_ratio(df, n):
        return df['volume'] / df['volume'].rolling(window=n).mean()

    N = 20
    mom = momentum(df, N)
    vol = volatility(df, N)
    vr = volume_ratio(df, N)
    heuristics_matrix = (mom + vol - vr)  # Simple combination of factors
    return heuristics_matrix
