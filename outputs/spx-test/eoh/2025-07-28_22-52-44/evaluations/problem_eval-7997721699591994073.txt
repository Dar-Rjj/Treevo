def heuristics_v2(df):
    # Calculate the absolute difference between consecutive days' close prices
    abs_diff = df['close'].diff().abs()
    # Apply an exponential weighted sum to the absolute differences and the close prices
    abs_diff_ewm = abs_diff.ewm(span=20, adjust=False).sum()
    close_ewm = df['close'].ewm(span=20, adjust=False).sum()
    # Calculate the ratio of the exponentially weighted sum of absolute differences to the exponentially weighted sum of close prices
    heuristics_matrix = abs_diff_ewm / close_ewm
    return heuristics_matrix
