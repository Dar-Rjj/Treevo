def heuristics_v2(df):
    # Calculate the 5-day rate of change (ROC) of the close price
    df['roc_5'] = df['close'].pct_change(periods=5)
    # Calculate the 30-day simple moving average (SMA) of the volume
    df['sma_volume_30'] = df['volume'].rolling(window=30).mean()
    # Compute the ratio of current volume to the 30-day SMA of volume
    df['volume_ratio'] = df['volume'] / df['sma_volume_30']
    # Construct the heuristics matrix integrating both factors
    heuristics_matrix = 0.6 * df['roc_5'] + 0.4 * df['volume_ratio']
    return heuristics_matrix
