def heuristics_v2(df):
    # Calculate the absolute difference between consecutive days' high and low prices
    abs_diff_high_low = (df['high'] - df['low']).abs()
    # Calculate the 20-day EMA of the absolute differences and the close prices
    ema_abs_diff_high_low = abs_diff_high_low.ewm(span=20, adjust=False).mean()
    ema_close = df['close'].ewm(span=20, adjust=False).mean()
    # Calculate the ratio of the EMA of absolute differences to the EMA of close prices
    heuristics_matrix = ema_abs_diff_high_low / ema_close
    return heuristics_matrix
