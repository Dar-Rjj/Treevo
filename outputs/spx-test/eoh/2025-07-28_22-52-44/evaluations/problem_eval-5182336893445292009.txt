def heuristics_v2(df):
    # Calculate the 5-day ROC of the close price
    roc_5 = df['close'].pct_change(periods=5)
    
    # Calculate the 20-day ROC of the close price
    roc_20 = df['close'].pct_change(periods=20)
    
    # Calculate the 10-day ATR
    tr = pd.DataFrame({'tr': df[['high', 'low']].apply(lambda x: x['high'] - x['low'], axis=1)})
    atr_10 = tr.rolling(window=10).mean().pct_change(periods=10).fillna(0)
    
    # Combine the factors
    heuristics_matrix = roc_5 + roc_20 - atr_10['tr']
    
    return heuristics_matrix
