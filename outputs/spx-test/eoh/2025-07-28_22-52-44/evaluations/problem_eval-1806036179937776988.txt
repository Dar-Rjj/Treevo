def heuristics_v2(df):
    # Calculate the 20-day moving average of close prices
    ma_20 = df['close'].rolling(window=20).mean()
    # Calculate the absolute difference between each day's close price and the 20-day moving average
    abs_diff_ma = (df['close'] - ma_20).abs()
    # Average the absolute differences over a 20-day rolling window
    abs_diff_avg = abs_diff_ma.rolling(window=20).mean()
    # Sum the close prices over a 20-day rolling window
    close_sum = df['close'].rolling(window=20).sum()
    # Calculate the ratio of the average of absolute differences to the sum of close prices
    heuristics_matrix = abs_diff_avg / close_sum
    return heuristics_matrix
