def heuristics_v2(df):
    # Calculate the 50-day moving average of the closing price
    ma_50 = df['close'].rolling(window=50).mean()
    
    # Calculate the trend strength as the difference between the current close and the 50-day MA
    trend_strength = df['close'] - ma_50
    
    # Calculate the True Range
    tr = df[['high', 'low']].diff(axis=1).iloc[:, 0].abs()
    tr = tr.combine((df['high'] - df['close'].shift(1)).abs(), max)
    tr = tr.combine((df['low'] - df['close'].shift(1)).abs(), max)
    
    # Calculate the Average True Range (ATR) over a 14-day period
    atr = tr.rolling(window=14).mean()
    
    # Calculate the activity intensity factor
    activity_intensity = df['volume'] / atr
    
    # Combine the factors into a single heuristic score for each day
    heuristics_matrix = trend_strength + activity_intensity
    
    return heuristics_matrix
