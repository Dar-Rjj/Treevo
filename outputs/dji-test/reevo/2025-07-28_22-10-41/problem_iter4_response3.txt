```python
def heuristics_v2(df: pd.DataFrame) -> pd.Series:
    # Calculate the price change from open to close
    price_change = df['close'] - df['open']
    
    # Calculate the average of high and low prices for the day
    avg_price = (df['high'] + df['low']) / 2
    
    # Calculate the relative price movement as the ratio of the price change to the average price
    relative_movement = price_change / (avg_price + 1e-7)
    
    # Calculate the liquidity as the volume divided by the average price
    liquidity = df['volume'] / (avg_price + 1e-7)
    
    # Calculate the volatility as the standard deviation of the price change over a 5-day window
    volatility = price_change.rolling(window=5).std().fillna(0)
    
    # Calculate the trend strength using the difference between the 10-day moving average and 30-day moving average
    ma_10 = df['close'].rolling(window=10).mean().fillna(0)
    ma_30 = df['close'].rolling(window=30).mean().fillna(0)
    trend_strength = (ma_10 - ma_30) / (avg_price + 1e-7)
    
    # Calculate the smoothed momentum as the difference in close prices over the last 5 days, then smooth it with a 3-day rolling mean
    momentum_5_days = df['close'].diff(periods=5)
    smoothed_momentum = momentum_5_days.rolling(window=3).mean().fillna(0)
    
    # Combine the factors into an alpha factor
    alpha_factor = relative_movement * liquidity * (volatility + 1e-7) * trend_strength * smoothed_momentum
    
    return alpha_factor
```
