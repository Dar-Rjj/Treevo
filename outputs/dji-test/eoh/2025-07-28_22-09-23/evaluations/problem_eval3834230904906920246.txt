def heuristics_v2(df):
    def ppo(series, short=12, long=26):
        ema_short = series.ewm(span=short, adjust=False).mean()
        ema_long = series.ewm(span=long, adjust=False).mean()
        return ((ema_short - ema_long) / ema_long) * 100
    
    vwap = (df['volume'] * (df['high'] + df['low'] + df['close']) / 3).cumsum() / df['volume'].cumsum()
    close_ppo = ppo(df['close'])
    avg_true_range = (df['high'] - df['low']).rolling(window=14).mean()
    
    heuristics_matrix = close_ppo * vwap * avg_true_range
    return heuristics_matrix
