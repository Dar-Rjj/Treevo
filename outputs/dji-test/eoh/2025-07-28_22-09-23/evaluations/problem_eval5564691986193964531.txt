def heuristics_v2(df):
    # Momentum of price changes
    momentum = df['close'].pct_change(periods=10)
    
    # Relative position to 30-day average
    short_avg = df['close'].rolling(window=30).mean()
    relative_position = df['close'] / short_avg
    
    # Adjusted volatility measure
    avg_volatility = (df['high'] - df['low']).rolling(window=60).mean()
    
    # Long-term volume trend
    long_term_volume_trend = df['volume'].rolling(window=100).mean() / df['volume']
    
    # Combine factors
    heuristics_matrix = momentum * relative_position * avg_volatility * long_term_volume_trend
    return heuristics_matrix
