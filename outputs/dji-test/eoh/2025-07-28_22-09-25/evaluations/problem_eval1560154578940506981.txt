def heuristics_v2(df):
    def custom_heuristic(row):
        # Calculate the 20-day simple moving average
        sma_20 = df['close'].rolling(window=20).mean()
        # Compute the difference between the current close and the 20-day SMA
        diff = df['close'] - sma_20
        # Apply a 10-day SMA to the differences for smoothing
        smoothed_diff = diff.rolling(window=10).mean()
        return smoothed_diff

    heuristics_matrix = custom_heuristic(df)
    return heuristics_matrix
