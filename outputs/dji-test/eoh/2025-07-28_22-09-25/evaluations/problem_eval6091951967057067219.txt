def heuristics_v2(df):
    avg_open_close_10 = (df['open'] + df['close']).rolling(window=10).mean() / 2
    median_high_30 = df['high'].rolling(window=30).median()
    heuristics_matrix = avg_open_close_10 - median_high_30
    return heuristics_matrix
