def heuristics_v2(df):
    # Calculate the 20-day Accumulation/Distribution Oscillator (ADOSC)
    money_flow_multiplier = ((df['close'] - df['low']) - (df['high'] - df['close'])) / (df['high'] - df['low'])
    money_flow_volume = money_flow_multiplier * df['volume']
    adosc_20 = money_flow_volume.rolling(window=20).sum()
    
    # Calculate the 14-day Bollinger Band Width
    sma_close_14 = df['close'].rolling(window=14).mean()
    std_dev_14 = df['close'].rolling(window=14).std()
    bollinger_band_width_14 = (sma_close_14 + 2 * std_dev_14) - (sma_close_14 - 2 * std_dev_14)
    
    # Calculate the 30-day Simple Moving Average (SMA) of the closing price
    sma_close_30 = df['close'].rolling(window=30).mean()
    
    # Heuristic combination: Weighted sum of ADOSC, Bollinger Band Width, and SMA of the closing price
    heuristics_matrix = (adosc_20 * 0.3 + bollinger_band_width_14 * 0.4 + sma_close_30 * 0.3) * (df['close'] / df['close'].ewm(span=50, adjust=False).mean())
    return heuristics_matrix
