def heuristics_v2(df):
    # Calculate RSI
    delta = df['close'].diff()
    up_gain = delta.where(delta > 0, 0)
    down_loss = -delta.where(delta < 0, 0)
    avg_gain = up_gain.rolling(window=14).mean()
    avg_loss = down_loss.rolling(window=14).mean()
    rs = avg_gain / avg_loss
    rsi = 100 - (100 / (1 + rs))
    
    # Calculate the 50-day SMA of high prices
    sma_high_50 = df['high'].rolling(window=50).mean()
    
    # Compute the ratio of close price to 50-day SMA of high prices
    close_to_sma_high_ratio = df['close'] / sma_high_50
    
    # Combine RSI and the close-to-SMA-high-ratio into a heuristics matrix
    heuristics_matrix = rsi * close_to_sma_high_ratio
    
    return heuristics_matrix
