```txt
Enhanced Momentum, Intraday Activity, and Market Sentiment Indicator
├── Calculate Smoothed Momentum
│   ├── Subtract Close price 21 days ago from Today's Close
│   └── Average the result with Raw Momentum (10-day)
├── Incorporate Volume Change
│   ├── Calculate Volume Factor
│   │   ├── Divide Today's Volume by Average Volume of the last 21 days
├── Adjust for Volatility
│   ├── Calculate Short-Term Price Volatility
│   │   ├── Use standard deviation of Close prices over the past 21 days
│   ├── Weigh Smoothed Momentum by Inverse of Volatility
│   └── Apply Volume Factor to Final Momentum
├── Calculate Intraday Range Indicator
│   ├── Use High price
│   └── Use Low price
│       └── Subtract to get the range
│           └── Multiply by Volume Factor
├── Integrate Volume Weighted Average Price (VWAP)
│   ├── Compute Daily VWAP
│   │   ├── Sum of (Close price * Volume)
│   │   └── Sum of Volumes
│   │       └── Divide for weighted average
│   └── Calculate the difference between Close price and VWAP
│       └── Multiply by Inverse of Volatility
├── Calculate Market Sentiment
│   ├── Compute Average Amount
│   │   ├── Average the amount of transactions over the past 21 days
│   ├── Calculate Sentiment Ratio
│   │   ├── Divide Today's Amount by Average Amount
└── Combine Indicators
    ├── Adjusted Momentum (from Adjust for Volatility)
    ├── Intraday Range (volume-weighted)
    ├── VWAP Difference (volatility-adjusted)
    └── Market Sentiment (sentiment ratio)
        └── Use directly without normalization
```
