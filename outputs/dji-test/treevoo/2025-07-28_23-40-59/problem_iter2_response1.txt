```python
import pandas as pd

def heuristics_v2(df, N=20, M=10, LMA_period=200, SMA_period=50, EMA_smoothing=10):
    # Calculate Price Momentum
    price_momentum = df['close'].pct_change(N)
    
    # Confirm with Volume Trends
    avg_volume = df['volume'].rolling(window=M).mean()
    latest_volume = df['volume']
    volume_trend_score = (latest_volume > avg_volume).astype(int) - (latest_volume < avg_volume).astype(int)
    
    # Calculate Long-Term and Short-Term Moving Averages
    LMA = df['close'].rolling(window=LMA_period).mean()
    SMA = df['close'].rolling(window=SMA_period).mean()
    
    # Calculate Difference Between LMA and SMA
    diff_LMA_SMA = LMA - SMA
    
    # Apply Volume-Weighted Filter
    volume_weighted_diff = diff_LMA_SMA * df['volume']
    
    # Sum of Volume-Weighted Differences
    sum_volume_weighted_diff = volume_weighted_diff.rolling(window=EMA_smoothing).sum()
    
    # Smooth with Exponential Moving Average
    smoothed_factor = sum_volume_weighted_diff.ewm(span=EMA_smoothing, adjust=False).mean()
    
    # Final Factor: Combine Price Momentum and Volume-Weighted Confirmation
    factor = price_momentum * volume_trend_score * smoothed_factor
    
    return factor.dropna()

# Example usage:
# df = pd.read_csv('your_data.csv', index_col='date', parse_dates=True)
# factor_values = heuristics_v2(df)
```
