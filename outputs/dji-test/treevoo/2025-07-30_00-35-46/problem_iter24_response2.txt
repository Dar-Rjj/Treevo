```python
import pandas as pd

def heuristics(df):
    # Momentum-based Factors
    short_sma = df['close'].rolling(window=5).mean()
    long_sma = df['close'].rolling(window=20).mean()
    sma_crossover = short_sma - long_sma

    # Volume-related Factors
    vwap = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()
    short_vol_ma = df['volume'].rolling(window=5).mean()
    long_vol_ma = df['volume'].rolling(window=20).mean()
    volume_oscillator = short_vol_ma / long_vol_ma

    # Volatility-based Factors
    true_range = df[['high', 'low']].apply(lambda x: max(x['high'] - x['low'], 
                                                          abs(x['high'] - df['close'].shift(1)), 
                                                          abs(x['low'] - df['close'].shift(1))), axis=1)
    atr = true_range.rolling(window=14).mean()

    # Trend-following Factors
    typical_price = (df['high'] + df['low'] + df['close']) / 3
    mean_deviation = typical_price.rolling(window=14).apply(lambda x: x - x.mean()).abs().mean()
    cci = (typical_price - typical_price.rolling(window=14).mean()) / (0.015 * mean_deviation)

    # Breakout-related Factors
    high_n = df['high'].rolling(window=20).max()
    low_n = df['low'].rolling(window=20).min()
    bollinger_mid = df['close'].rolling(window=20).mean()
    bollinger_std = df['close'].rolling(window=20).std()
    bollinger_upper = bollinger_mid + 2 * bollinger_std
    bollinger_lower = bollinger_mid - 2 * bollinger_std

    # Price Pattern Factors
    price_momentum = df['close'] - df['close'].shift(14)
    price_change_ratio = df['close'] / df['close'].shift(14)

    # Combined Factors
    factor = (sma_crossover * 0.3) + (vwap * 0.2) + (cci * 0.2) + (price_momentum * 0.1) + (volume_oscillator * 0.1) + (atr * 0.1)
    
    return factor
```
