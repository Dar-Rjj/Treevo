```python
import pandas as pd

def heuristics_v2(df, short_window=10, long_window=50, vwap_window=20, atr_window=14, dmi_window=14, cci_window=20, donchian_window=20, bollinger_window=20, n_periods=20):
    # Calculate Simple Moving Averages (SMA)
    df['SMA_short'] = df['close'].rolling(window=short_window).mean()
    df['SMA_long'] = df['close'].rolling(window=long_window).mean()
    df['SMA_crossover'] = df['SMA_short'] - df['SMA_long']
    
    # Calculate Volume Weighted Average Price (VWAP)
    df['cumulative_volume_price'] = (df['close'] * df['volume']).cumsum()
    df['cumulative_volume'] = df['volume'].cumsum()
    df['VWAP'] = df['cumulative_volume_price'] / df['cumulative_volume']
    
    # Calculate Volume Oscillator
    df['Volume_SMA_short'] = df['volume'].rolling(window=short_window).mean()
    df['Volume_SMA_long'] = df['volume'].rolling(window=long_window).mean()
    df['Volume_Oscillator'] = df['Volume_SMA_short'] / df['Volume_SMA_long']
    
    # Calculate True Range
    df['prev_close'] = df['close'].shift(1)
    df['tr1'] = df['high'] - df['low']
    df['tr2'] = (df['high'] - df['prev_close']).abs()
    df['tr3'] = (df['low'] - df['prev_close']).abs()
    df['true_range'] = df[['tr1', 'tr2', 'tr3']].max(axis=1)
    
    # Calculate Average True Range (ATR)
    df['ATR'] = df['true_range'].rolling(window=atr_window).mean()
    
    # Calculate Directional Movement Index (DMI)
    df['up_move'] = df['high'] - df['high'].shift(1)
    df['down_move'] = df['low'].shift(1) - df['low']
    df['+DM'] = df.apply(lambda x: max(x['up_move'], 0) if x['up_move'] > x['down_move'] and x['up_move'] > 0 else 0, axis=1)
    df['-DM'] = df.apply(lambda x: max(x['down_move'], 0) if x['down_move'] > x['up_move'] and x['down_move'] > 0 else 0, axis=1)
    df['+DI'] = (df['+DM'].rolling(window=dmi_window).sum() / df['true_range'].rolling(window=dmi_window).sum()) * 100
    df['-DI'] = (df['-DM'].rolling(window=dmi_window).sum() / df['true_range'].rolling(window=dmi_window).sum()) * 100
    df['DMI'] = df['+DI'] - df['-DI']
    
    # Calculate Commodity Channel Index (CCI)
    df['typical_price'] = (df['high'] + df['low'] + df['close']) / 3
    df['TP_sma'] = df['typical_price'].rolling(window=cci_window).mean()
    df['mean_dev'] = df['typical_price'].rolling(window=cci_window).apply(lambda x: x.mad())
    df['CCI'] = (df['typical_price'] - df['TP_sma']) / (0.015 * df['mean_dev'])
    
    # Calculate Donchian Channels
    df['Donchian_High'] = df['high'].rolling(window=donchian_window).max()
    df['Donchian_Low'] = df['low'].rolling(window=donchian_window).min()
    
    # Calculate Bollinger Bands
    df['Bollinger_Middle'] = df['close'].rolling(window=bollinger_window).mean()
    df['Bollinger_Std'] = df['close'].rolling(window=bollinger_window).std()
    df['Bollinger_Upper'] = df['Bollinger_Middle'] + 2 * df['Bollinger_Std']
    df['Bollinger_Lower'] = df['Bollinger_Middle'] - 2 * df['Bollinger_Std']
    
    # Calculate Price Momentum
    df['Price_Momentum'] = df['close'] - df['close'].shift(n_periods)
    
    # Calculate Price Change Ratio
    df['Price_Change_Ratio'] = df['close'] / df
