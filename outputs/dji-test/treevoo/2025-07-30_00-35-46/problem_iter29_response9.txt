```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate Base Intraday Return
    base_intraday_return = (df['close'] - df['open']) / df['open']
    
    # Compute High-Low Momentum Component
    high_low_momentum = (df['high'] - df['low']) / df['open']
    
    # Average Intraday and High-Low Momentum
    avg_momentum = (base_intraday_return + high_low_momentum) / 2
    
    # Adjust for Volume and Amount Impact
    volume_ratio = df['volume'] / df['volume'].shift(1)
    amount_ratio = df['amount'] / df['amount'].shift(1)
    adjusted_momentum = avg_momentum * (volume_ratio * amount_ratio)
    
    # Apply Volume Shock Filter
    adjusted_momentum = adjusted_momentum.where(volume_ratio > 1.5, avg_momentum)
    
    # Smooth the Adjusted Momentum
    smoothed_momentum = adjusted_momentum.ewm(span=5).mean()
    
    # On-Balance Volume (OBV) Calculation
    obv = df['volume'].copy()
    obv[0] = 0
    for i in range(1, len(obv)):
        if df['close'][i] > df['close'][i-1]:
            obv[i] = obv[i-1] + df['volume'][i]
        elif df['close'][i] < df['close'][i-1]:
            obv[i] = obv[i-1] - df['volume'][i]
        else:
            obv[i] = obv[i-1]
    
    # Weight OBV by MACD Line and Signal Line Difference
    macd_line = df['close'].ewm(span=12).mean() - df['close'].ewm(span=26).mean()
    signal_line = macd_line.ewm(span=9).mean()
    weight = abs(macd_line - signal_line)
    final_obv_factor = obv * weight
    
    # True Range
    true_range = df[['high', 'low']].apply(lambda x: max(x['high'] - x['low'], 
                                                           abs(x['high'] - df['close'].shift(1)), 
                                                           abs(x['low'] - df['close'].shift(1))), axis=1)
    
    # Average True Range (ATR)
    atr = true_range.ewm(span=14).mean()
    
    # Directional Movement Index (DMI)
    up_move = df['high'] - df['high'].shift(1)
    down_move = df['low'].shift(1) - df['low']
    plus_dm = up_move.where(up_move > down_move, 0).where(up_move > 0, 0)
    minus_dm = down_move.where(down_move > up_move, 0).where(down_move > 0, 0)
    tr_sum = true_range.rolling(window=14).sum()
    plus_di = 100 * (plus_dm.rolling(window=14).sum() / tr_sum)
    minus_di = 100 * (minus_dm.rolling(window=14).sum() / tr_sum)
    dmi_diff = plus_di - minus_di
    
    # Combined Alpha Factor
    combined_alpha = (smoothed_momentum * final_obv_factor) + (atr * dmi_diff)
    
    return combined_alpha
```
