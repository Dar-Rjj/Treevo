```txt
Intraday Momentum and Volume Shock with Enhanced EMA Cross Signal and OBV Factor
├── Intraday Momentum
│   ├── High-Low Difference
│   │   ├── Use High price
│   │   └── Use Low price
│   └── Open-Close Return
│       ├── Use Open price
│       └── Use Close price
│   └── Combine Returns
│       └── Weighted Average of High-Low and Open-Close
├── Volume and Amount Shock Filter
│   ├── Volume Change
│   │   ├── Use Current Volume
│   │   └── Use Previous Day Volume
│   ├── Amount Change
│   │   ├── Use Current Amount
│   │   └── Use Previous Day Amount
│   └── Compute Volume and Amount Ratio
│       ├── Current Volume / Previous Day Volume
│       └── Current Amount / Previous Day Amount
│   └── Apply Dual Threshold
│       ├── Set Volume Shock Threshold (e.g., 1.5)
│       ├── Set Amount Shock Threshold (e.g., 1.5)
│       └── Include Intraday Momentum if Both Ratios > Respective Thresholds
├── Trend Confirmation
│   ├── Moving Average Crossover
│   │   ├── Short-Term Moving Average (e.g., 5 days)
│   │   │   ├── Use Close prices
│   │   └── Long-Term Moving Average (e.g., 20 days)
│   │       ├── Use Close prices
│   │   └── Crossover Signal
│   │       ├── Generate Buy Signal if Short-Term > Long-Term
│   │       └── Generate Sell Signal if Short-Term < Long-Term
│   └── Integrate with Intraday Momentum
│       ├── If Crossover is Bullish, Amplify Intraday Momentum
│       └── If Crossover is Bearish, Dampen Intraday Momentum
├── Calculate Intraday Price Range
│   └── Subtract Low from High to get Range
├── Adjust for Volume
│   ├── Divide Volume by Mean of last 5 days Volume
│   └── Add 1 to avoid division by zero
├── Combine Intraday Range and Volume Adjustment
│   └── Multiply Intraday Range by Volume Adjustment
├── Smoothing
│   └── Apply Exponential Moving Average (EMA) with Span of 5
├── Calculate EMA Cross Signal
│   ├── EMA of Close Price over Short Period (last 5 days)
│   └── EMA of Close Price over Long Period (last 20 days)
├── Determine Momentum
│   ├── Compare Short and Long EMA
│   │   ├── If Short EMA > Long EMA, mark as Bullish
│   │   └── If Short EMA < Long EMA, mark as Bearish
├── Calculate On-Balance Volume (OBV)
│   ├── Initialize OBV to 0
│   ├── If Close > Previous Close, increment OBV by Volume
│   ├── If Close < Previous Close, decrement OBV by Volume
│   └── If Close = Previous Close, leave OBV unchanged
├── Weight OBV by Difference between Short and Long EMA
│   └── Weight = |Short EMA - Long EMA|
├── Multiply OBV by Weight
│   └── Final OBV Factor = OBV * Weight
├── Apply Dynamic Volume Shock Filter
    ├── Determine Volume Change
    │   ├── Use Current Volume
    │   └── Use Average of Last 5 Days Volume
    ├── Compute Volume Ratio
    │   ├── Current Volume / Average of Last 5 Days Volume
    └── Include Smoothed Intraday Momentum if Volume Ratio > 1.8
└── Final Alpha Factor
    └── Final Alpha Factor = Smoothed Intraday Momentum * Final OBV Factor (if Volume Ratio > 1.8)
├── Introduce Volatility Factor
    ├── Calculate Daily Volatility
    │   ├── Daily Volatility = Standard Deviation of Daily Returns (last 20 days)
    └── Integrate Volatility into Final Alpha Factor
        └── Final Alpha Factor = Final Alpha Factor * (1 + Daily Volatility)
```
