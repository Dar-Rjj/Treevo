```python
import pandas as pd
import numpy as np

def heuristics_v2(df, n=10, m=5):
    # Calculate modified PPUV (mPPUV)
    df['mPPUV'] = (df['close'] - df['open']) / (df['high'] - df['low']) * (df['close'] / df['volume'])
    
    # Intraday Momentum
    high_low_diff = df['high'] - df['low']
    open_close_return = df['close'] - df['open']
    weight_high_low = 0.6
    weight_open_close = 0.4
    intraday_momentum = (weight_high_low * high_low_diff + weight_open_close * open_close_return).rolling(window=m).mean()
    intraday_momentum_transformed = intraday_momentum ** 2
    
    # Incorporate intraday momentum into mPPUV
    df['enhanced_mPPUV'] = df['mPPUV'] * intraday_momentum_transformed
    
    # n-day mPPUV momentum
    df['mPPUV_mom'] = df['mPPUV'] - df['mPPUV'].shift(n)
    
    # Volume and Amount Stability
    volume_std = df['volume'].rolling(window=n).std()
    amount_std = df['amount'].rolling(window=n).std()
    df['volume_stability'] = 1 / (volume_std + 1e-6)  # Add small constant to avoid division by zero
    df['amount_stability'] = 1 / (amount_std + 1e-6)
    
    # Volume and Amount Shock Filter
    df['volume_ratio'] = df['volume'] / df['volume'].shift(1)
    df['amount_ratio'] = df['amount'] / df['amount'].shift(1)
    volume_shock_threshold = 1.5
    amount_shock_threshold = 1.5
    df['shock_filter'] = (df['volume_ratio'] > volume_shock_threshold) & (df['amount_ratio'] > amount_shock_threshold)
    
    # Apply shock filter to enhanced mPPUV
    df['filtered_enhanced_mPPUV'] = df['enhanced_mPPUV'] * df['shock_filter']
    
    # Long-term trend analysis with smoothed AHLR and sAHLR
    df['AHLR'] = (df['high'] - df['low']) / df['close']
    df['sAHLR'] = df['AHLR'].rolling(window=m).mean()
    df['TF'] = df['sAHLR'] - df['sAHLR'].shift(n)
    
    # Combine enhanced mPPUV and TF
    combined_factor = 0.7 * df['filtered_enhanced_mPPUV'] + 0.3 * df['TF']
    
    # Enhance relative strength (RS) factor with percentage change in high and low prices
    positive_changes = (df['high'] - df['low']).clip(lower=0)
    negative_changes = (df['high'] - df['low']).clip(upper=0)
    df['eRS'] = positive_changes.rolling(window=n).sum() / (-negative_changes.rolling(window=n).sum()).abs()
    
    # Compute a comprehensive alpha factor
    alpha_factor = 0.6 * combined_factor + 0.4 * df['eRS']
    
    return alpha_factor
```
