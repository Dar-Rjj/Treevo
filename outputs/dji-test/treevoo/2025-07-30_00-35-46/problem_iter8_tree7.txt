```txt
Crossover Alpha Factor: Intraday Momentum with Volume and Amount Shock Filter Enhanced by MACD and OBV

├── Calculate Intraday Momentum
│   ├── Compute High-Low Difference
│   │   ├── Use High price
│   │   └── Use Low price
│   ├── Compute Open-Close Return
│   │   ├── Use Open price
│   │   └── Use Close price
│   └── Combine High-Low and Open-Close Returns
│       ├── Weighted Average of High-Low Difference and Open-Close Return
│       │   ├── Assign Weight to High-Low Difference
│       │   └── Assign Weight to Open-Close Return
│       └── Introduce Non-Linear Transformation
│           ├── Apply a Power Function (e.g., x^2)

├── Apply Volume and Amount Shock Filter
    ├── Determine Volume Change
    │   ├── Use Current Volume
    │   └── Use Previous Day Volume
    ├── Compute Volume Ratio
    │   ├── Current Volume / Previous Day Volume
    ├── Determine Amount Change
    │   ├── Use Current Amount
    │   └── Use Previous Day Amount
    ├── Compute Amount Ratio
    │   ├── Current Amount / Previous Day Amount
    ├── Threshold Filter
    │   ├── Set a Volume Shock Threshold (e.g., 1.5)
    │   ├── Set an Amount Shock Threshold (e.g., 1.5)
    │   └── Include Intraday Momentum if (Volume Ratio > Volume Threshold) AND (Amount Ratio > Amount Threshold)
    └── Introduce Smoothing Factor
        ├── Apply Exponential Moving Average (EMA) to Volume and Amount Ratios
        │   ├── Set EMA Alpha (e.g., 0.2)

├── Adjust for Volume
    ├── Use Volume
    └── Divide Volume by Median of last 5 days Volume
        └── Add 1 to avoid division by zero

├── Combine Intraday Range and Volume Adjustment
    ├── Multiply Intraday Range by Volume Adjustment

├── Smoothing
    ├── Apply Simple Moving Average (SMA) with Span of 5
        └── On the combined Intraday Range and Volume Adjustment

├── Calculate Moving Average Convergence Divergence (MACD)
    ├── Short-term EMA of Close Price
    │   └── Use Close price (last 12 days)
    └── Long-term EMA of Close Price
        └── Use Close price (last 26 days)
    ├── Calculate MACD Line
    │   └── Subtract Long-term EMA from Short-term EMA
    └── Signal Line
        └── 9-day EMA of MACD Line

├── Determine Momentum
    ├── Compare MACD Line and Signal Line
    └── Categorize as Bullish or Bearish
        ├── If MACD Line > Signal Line, mark as Bullish
        └── If MACD Line < Signal Line, mark as Bearish

├── Calculate On-Balance Volume (OBV)
    ├── Initialize OBV to 0
    ├── If Close > Previous Close, increment OBV by Volume
    ├── If Close < Previous Close, decrement OBV by Volume
    └── If Close = Previous Close, leave OBV unchanged

├── Weight OBV by the Difference between MACD Line and Signal Line
    └── Weight = |MACD Line - Signal Line|

├── Multiply OBV by Weight
    └── Final OBV Factor = OBV * Weight

├── Combine Smoothed Intraday Momentum with OBV Factor
    ├── Multiply Smoothed Intraday Momentum by OBV Factor

└── Final Alpha Factor
    └── Final Alpha Factor = Smoothed Intraday Momentum * OBV Factor
```
