```python
import pandas as pd

def heuristics_v2(df):
    # Momentum-based Factors
    short_ema = df['close'].ewm(span=12, adjust=False).mean()
    long_ema = df['close'].ewm(span=26, adjust=False).mean()
    ema_crossover = short_ema - long_ema
    
    # Relative Strength Index (RSI)
    delta = df['close'].diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=14).mean()
    rs = gain / loss
    rsi = 100 - (100 / (1 + rs))
    
    # Volume-related Factors
    # On-Balance Volume (OBV)
    obv = (df['close'] > df['close'].shift(1)) * df['volume'] - (df['close'] < df['close'].shift(1)) * df['volume']
    obv = obv.cumsum()
    
    # Volume Price Trend (VPT)
    vpt = ((df['close'] - df['close'].shift(1)) / df['close'].shift(1)) * df['volume']
    vpt = vpt.cumsum()
    
    # Volatility-based Factors
    true_range = df[['high', 'low']].max(axis=1) - df[['high', 'low']].min(axis=1)
    atr = true_range.ewm(span=14, adjust=False).mean()
    
    # Trend-following Factors
    # Directional Movement Index (DMI)
    up_move = df['high'] - df['high'].shift(1)
    down_move = df['low'].shift(1) - df['low']
    pos_dm = (up_move > down_move) * up_move
    neg_dm = (down_move > up_move) * down_move
    tr_14 = true_range.rolling(window=14).sum()
    pos_di = 100 * (pos_dm.rolling(window=14).sum() / tr_14)
    neg_di = 100 * (neg_dm.rolling(window=14).sum() / tr_14)
    dmi = pos_di - neg_di
    
    # Rate of Change (ROC)
    roc = (df['close'] - df['close'].shift(14)) / df['close'].shift(14) * 100
    
    # Breakout-related Factors
    # Donchian Channels
    highest_high = df['high'].rolling(window=20).max()
    lowest_low = df['low'].rolling(window=20).min()
    donchian_midline = (highest_high + lowest_low) / 2
    
    # Keltner Channels
    typical_price = (df['high'] + df['low'] + df['close']) / 3
    keltner_middle = typical_price.ewm(span=20, adjust=False).mean()
    keltner_upper = keltner_middle + 2 * atr
    keltner_lower = keltner_middle - 2 * atr
    
    # Price Pattern Factors
    price_momentum = df['close'] - df['close'].shift(10)
    price_change_ratio = df['close'] / df['close'].shift(10)
    
    # Combined Factors
    # Custom Composite Factor
    composite_factor = 0.5 * ema_crossover + 0.3 * obv + 0.2 * roc
    
    return composite_factor
```
