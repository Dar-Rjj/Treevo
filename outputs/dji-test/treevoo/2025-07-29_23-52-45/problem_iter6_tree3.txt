```txt
Volume-Weighted and Price Momentum Factor with Enhanced Indicators
├── Calculate Short-Term Return
│   ├── Use Close price of day t
│   └── Use Close price of day t-n (n=5)
│       └── Subtract and divide by Close price of day t
├── Calculate Long-Term Return
│   ├── Use Close price of day t
│   └── Use Close price of day t-m (m=60)
│       └── Subtract and divide by Close price of day t
├── Volume-Weighted Short-Term Return
│   ├── Use calculated Short-Term Return
│   └── Weight by Volume
│       ├── Use Volume of day t
│       └── Multiply Short-Term Return by Volume
├── Volume-Weighted Long-Term Return
│   ├── Use calculated Long-Term Return
│   └── Weight by Volume
│       ├── Use Volume of day t
│       └── Multiply Long-Term Return by Volume
├── Momentum Factor
│   ├── Use Volume-Weighted Short-Term Return
│   └── Subtract Volume-Weighted Long-Term Return
├── Reversal Indicator
│   ├── Use Momentum Factor
│   └── Invert the Sign
│       └── Create contrarian signal
├── Calculate Price Change
│   ├── Use High price of day t
│   └── Subtract Low price of day t
├── Volume Adjusted Price Change
│   ├── Multiply by Volume
│   │   ├── Use Volume of day t
│   │   └── Multiply Price Change by Volume
└── Enhanced Momentum Calculation
    ├── Smoothed Momentum Calculation
    │   ├── Rolling Average of Adjusted Price Change
    │   │   ├── Set window (e.g., 10 days)
    │   │   └── Compute Rolling Average
    │   └── Compute First Difference
    │       ├── Current Window Average
    │       └── Previous Window Average
    └── Momentum Trend Indicator
        ├── Calculate Moving Average of Momentum Factor
        │   ├── Set window (e.g., 20 days)
        │   └── Compute Moving Average
        └── Compare to Momentum Factor
            ├── If Momentum Factor > Moving Average
            │   └── Strong Uptrend Signal
            ├── If Momentum Factor < Moving Average
            │   └── Strong Downtrend Signal
            └── Otherwise
                └── Sideways or Neutral Signal
```
