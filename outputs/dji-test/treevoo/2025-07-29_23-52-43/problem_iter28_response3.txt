```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Log returns
    df['log_return_open_close'] = np.log(df['close'] / df['open'])
    df['log_return_high_low'] = np.log(df['high'] / df['low'])

    # Momentum indicators
    df['sma_5'] = df['close'].rolling(window=5).mean()
    df['sma_20'] = df['close'].rolling(window=20).mean()
    df['ema_12'] = df['close'].ewm(span=12, adjust=False).mean()
    df['ema_26'] = df['close'].ewm(span=26, adjust=False).mean()

    # Volatility measures
    df['true_range'] = df[['high', 'low', 'close']].apply(lambda x: max(x[0], x[1]) - min(x[0], x[1]), axis=1)
    df['atr_14'] = df['true_range'].rolling(window=14).mean()
    df['log_return_close'] = np.log(df['close']).diff()
    df['historical_vol_30'] = df['log_return_close'].rolling(window=30).std() * np.sqrt(252)

    # Price Oscillators
    def rsi(series, period=14):
        delta = series.diff(1)
        up = delta.clip(lower=0)
        down = -delta.clip(upper=0)
        ema_up = up.ewm(com=period-1, adjust=False).mean()
        ema_down = down.ewm(com=period-1, adjust=False).mean()
        rs = ema_up / ema_down
        return 100 - (100 / (1 + rs))

    df['rsi_14'] = rsi(df['close'], 14)

    # Stochastic Oscillator
    low_14 = df['low'].rolling(window=14).min()
    high_14 = df['high'].rolling(window=14).max()
    df['%K'] = (df['close'] - low_14) / (high_14 - low_14) * 100
    df['%D'] = df['%K'].rolling(window=3).mean()

    # Volume-based Alpha Factors
    df['obv'] = (np.sign(df['close'].diff()) * df['volume']).cumsum()
    
    # Chaikin Money Flow
    df['money_flow_multiplier'] = ((df['close'] - df['low']) - (df['high'] - df['close'])) / (df['high'] - df['low'])
    df['money_flow_volume'] = df['money_flow_multiplier'] * df['volume']
    df['cmf_20'] = df['money_flow_volume'].rolling(window=20).sum() / df['volume'].rolling(window=20).sum()

    # Money Flow Index
    typical_price = (df['high'] + df['low'] + df['close']) / 3
    money_flow = typical_price * df['volume']
    positive_money_flow = np.where(typical_price > typical_price.shift(1), money_flow, 0)
    negative_money_flow = np.where(typical_price < typical_price.shift(1), money_flow, 0)
    positive_mf_sum = pd.Series(positive_money_flow).rolling(window=14).sum()
    negative_mf_sum = pd.Series(negative_money_flow).rolling(window=14).sum()
    df['mfi_14'] = 100 - (100 / (1 + (positive_mf_sum / negative_mf_sum)))

    # VWAP
    df['vwap'] = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()

    # Combine factors into a single alpha factor
    alpha_factor = (df['log_return_open_close'] + 
                    df['log_return_high_low'] + 
                    (df['sma_5'] - df['sma_20']) + 
                    (df['ema_12'] - df['ema_26']) + 
                    df['atr_14'] + 
                    df['historical_vol_30'] + 
                    df['rsi_14'] + 
                    df['%K'] + 
                    df['%D'] + 
                    df['obv'] + 
                    df['cmf_20'] + 
                    df['mfi_14'] + 
                    df['vwap'])

    return alpha_factor
```
