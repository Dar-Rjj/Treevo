```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the ratio of close to high (C/H)
    df['C_H_ratio'] = df['close'] / df['high']
    
    # Calculate the rolling average of C/H ratios over a 10-day window
    df['rolling_C_H_avg'] = df['C_H_ratio'].rolling(window=10).mean()
    
    # Calculate the cumulative sum of C/H ratios over a 10-day period
    df['cumulative_C_H_sum'] = df['C_H_ratio'].rolling(window=10).sum()
    
    # Calculate the volume-weighted price difference (VWAP-like metric)
    df['VWAP_like'] = (df['high'] - df['low']) * df['volume']
    
    # Calculate the gap between opening and closing prices (O-C)
    df['O_C_gap'] = df['open'] - df['close']
    
    # Calculate the cumulative effect of consecutive O-C gaps over a 5-day period
    df['cumulative_O_C_gap'] = df['O_C_gap'].rolling(window=5).sum()
    
    # Compare the O-C gap with the previous day's gap to identify directional changes
    df['O_C_gap_change'] = df['O_C_gap'] - df['O_C_gap'].shift(1)
    
    # Calculate the simple moving average (SMA) of close prices over a 20-day window
    df['SMA_close'] = df['close'].rolling(window=20).mean()
    
    # Calculate the deviation of the current close from the SMA
    df['SMA_deviation'] = df['close'] - df['SMA_close']
    
    # Calculate the slope of the SMA
    df['SMA_slope'] = df['SMA_close'].diff()
    
    # Calculate the volume-weighted moving average (VWMA) of close prices over a 20-day window
    df['VWMA_close'] = (df['close'] * df['volume']).rolling(window=20).sum() / df['volume'].rolling(window=20).sum()
    
    # Calculate the standard deviation of close prices over a 20-day window
    df['std_close'] = df['close'].rolling(window=20).std()
    
    # Calculate the number of volume spikes at support and resistance levels
    df['support'] = df['low'].rolling(window=20).min()
    df['resistance'] = df['high'].rolling(window=20).max()
    df['volume_spike_support'] = ((df['low'] == df['support']) & (df['volume'] > df['volume'].shift(1))).astype(int)
    df['volume_spike_resistance'] = ((df['high'] == df['resistance']) & (df['volume'] > df['volume'].shift(1))).astype(int)
    
    # Combine multiple factors into a single alpha factor
    df['alpha_factor'] = (df['rolling_C_H_avg'] + 
                          df['cumulative_C_H_sum'] + 
                          df['VWAP_like'] + 
                          df['cumulative_O_C_gap'] + 
                          df['O_C_gap_change'] + 
                          df['SMA_deviation'] + 
                          df['SMA_slope'] + 
                          df['VWMA_close'] + 
                          df['std_close'] + 
                          df['volume_spike_support'] + 
                          df['volume_spike_resistance'])
    
    return df['alpha_factor']
```
