```txt
Calculate Intraday Return
├── Open price
└── Close price

Calculate Reversal Signal
├── Intraday Return
└── Sign of the Return
    ├── Positive
    │   └── -1
    └── Negative
        └── 1

Calculate Average True Range (ATR)
├── High, Low, and Previous Close
└── Sum of Absolute Values

Multiply ATR by Reversal Signal
├── ATR
└── Reversal Signal

Exponential Moving Average (EMA) of ATR * Reversal
├── ATR * Reversal Signal
└── Short Period

Calculate Simple Moving Averages
├── Use Close price
└── Select 50-day, 100-day, and 200-day periods

Subtract Longer SMA from Shorter SMA
├── 100-day SMA - 200-day SMA
└── 50-day SMA - 100-day SMA

Calculate Daily Price Return
├── Use Close price of current day (t)
└── Use Close price of previous day (t-1)

Calculate 20-Day Weighted Moving Average of Returns
├── Sum of (Daily Price Return * Volume) over 20 days
│   ├── Iterate over the last 20 days
│   │   ├── Daily Price Return
│   │   └── Use Volume
│   └── Accumulate the sum
└── Divide by the sum of Volumes over 20 days
    ├── Iterate over the last 20 days
    │   ├── Use Volume
    │   └── Accumulate the sum
    └── Divide the accumulated weighted returns by the total volume

Combine Momentum and Volume Indicators
├── Multiply 20-Day Weighted Moving Average by a constant (e.g., 0.3)
├── Multiply 100-day SMA - 200-day SMA difference by a constant (e.g., 0.2)
├── Multiply 50-day SMA - 100-day SMA difference by a constant (e.g., 0.2)
└── Add the EMA of ATR * Reversal
```
