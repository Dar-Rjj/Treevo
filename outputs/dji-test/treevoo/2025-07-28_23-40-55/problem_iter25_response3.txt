```python
import pandas as pd
import numpy as np

def heuristics_v2(df):
    # Calculate short and long SMAs
    df['SMA_5'] = df['close'].rolling(window=5).mean()
    df['SMA_20'] = df['close'].rolling(window=20).mean()
    
    # Momentum indicator: difference between short and long SMA
    df['momentum'] = df['SMA_5'] - df['SMA_20']
    
    # ATR calculation
    df['H-L'] = df['high'] - df['low']
    df['H-C_prev'] = abs(df['high'] - df['close'].shift(1))
    df['L-C_prev'] = abs(df['low'] - df['close'].shift(1))
    df['TR'] = df[['H-L', 'H-C_prev', 'L-C_prev']].max(axis=1)
    df['ATR_14'] = df['TR'].rolling(window=14).mean()
    
    # OBV calculation
    df['obv'] = (np.sign(df['close'].diff()) * df['volume']).fillna(0).cumsum()
    
    # Gap size percentage
    df['gap_size'] = (df['open'] - df['close'].shift(1)) / df['close'].shift(1) * 100
    
    # Golden Cross and Death Cross
    df['SMA_50'] = df['close'].rolling(window=50).mean()
    df['SMA_200'] = df['close'].rolling(window=200).mean()
    df['golden_cross'] = (df['SMA_50'] > df['SMA_200']) & (df['SMA_50'].shift(1) < df['SMA_200'].shift(1))
    df['death_cross'] = (df['SMA_50'] < df['SMA_200']) & (df['SMA_50'].shift(1) > df['SMA_200'].shift(1))
    
    # Close to daily range ratio
    df['daily_range'] = df['high'] - df['low']
    df['close_to_range'] = df['close'] / df['daily_range']
    
    # Combine all factors into a single alpha factor
    df['alpha_factor'] = (df['momentum'] + 
                          df['ATR_14'] + 
                          df['obv'] + 
                          df['gap_size'] + 
                          (df['golden_cross'].astype(int) - df['death_cross'].astype(int)) +
                          df['close_to_range'])
    
    return df['alpha_factor']

# Example usage:
# df = pd.read_csv('your_data.csv', index_col='date', parse_dates=True)
# alpha_factor = heuristics_v2(df)
```
