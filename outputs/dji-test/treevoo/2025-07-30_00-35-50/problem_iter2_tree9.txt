```txt
Volume-Adjusted Momentum, Volatility, and Trend Reversal Composite Factor
├── Calculate Daily Log Return
│   ├── Use Close price of day t
│   └── Subtract Close price of day (t-1)
│       └── Take natural log
├── Weight by Volume
│   ├── Use Volume of day t
│   └── Multiply by Daily Log Return
├── Moving Average of Volume-Weighted Log Returns
│   ├── Sum Volume-Weighted Log Returns over the past N days
│   └── Divide by Sum of Volumes over the past N days
├── Volatility Component
│   ├── Calculate Standard Deviation of Volume-Weighted Log Returns
│   │   ├── Use Volume-Weighted Log Returns over the past M days
│   │   └── Compute Standard Deviation
│   └── Subtract from Moving Average
├── Identify Positive and Negative Returns
│   ├── Determine positive return days
│   │   └── Filter where Daily Log Return > 0
│   └── Determine negative return days
│       └── Filter where Daily Log Return <= 0
├── Calculate Sum of Upward Volume
│   ├── Use Volume on positive return days
│   └── Sum up the volumes
├── Calculate Sum of Downward Volume
│   ├── Use Volume on negative return days
│   └── Sum up the volumes
├── Compute Trend Reversal Signal
│   ├── Divide Sum of Upward Volume by Total Volume
│   │   └── Total Volume = Sum of Upward Volume + Sum of Downward Volume
│   ├── Divide Sum of Downward Volume by Total Volume
│   └── Generate Reversal Signal
│       ├── Compare the ratios
│       │   ├── If Upward Volume Ratio > Downward Volume Ratio, signal potential trend reversal
│       │   └── Otherwise, no significant trend reversal
│       └── Multiply the comparison result by the Daily Log Return
│           ├── If positive, amplify the return
│           └── If negative, dampen the return
└── Combine Components
    ├── Use Moving Average
    ├── Subtract Adjusted Volatility
    └── Multiply by Trend Reversal Signal
```
