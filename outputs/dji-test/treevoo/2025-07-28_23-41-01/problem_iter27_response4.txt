```python
import pandas as pd

def heuristics_v2(df):
    n = 20  # Number of periods for momentum and volatility calculations
    
    # Calculate Price Momentum
    df['price_momentum'] = df['close'].diff(n)
    
    # Calculate Volume Momentum
    df['volume_momentum'] = df['volume'].pct_change(periods=n)
    
    # Evaluate High-Low Range Expansion
    df['high_low_range'] = df['high'] - df['low']
    df['range_expansion'] = df['high_low_range'].diff(n).sum()
    
    # Estimate Volatility using Close Prices
    df['log_returns'] = df['close'].apply(np.log).diff()
    df['volatility'] = df['log_returns'].rolling(window=n).std()
    
    # Calculate Average True Range (ATR) for Assessing Volatility
    df['tr1'] = df['high'] - df['low']
    df['tr2'] = abs(df['high'] - df['close'].shift(1))
    df['tr3'] = abs(df['low'] - df['close'].shift(1))
    df['true_range'] = df[['tr1', 'tr2', 'tr3']].max(axis=1)
    df['atr'] = df['true_range'].rolling(window=n).mean()
    
    # Determine Money Flow Index (MFI)
    df['typical_price'] = (df['high'] + df['low'] + df['close']) / 3
    df['money_flow'] = df['typical_price'] * df['volume']
    df['positive_money_flow'] = df['money_flow'] * (df['typical_price'] > df['typical_price'].shift(1))
    df['negative_money_flow'] = df['money_flow'] * (df['typical_price'] < df['typical_price'].shift(1))
    df['mfi'] = df['positive_money_flow'].rolling(window=n).sum() / df['negative_money_flow'].rolling(window=n).sum()
    
    # Measure Volume Relative Strength
    df['average_volume'] = df['volume'].rolling(window=n).mean()
    df['volume_relative_strength'] = df['volume'] / df['average_volume']
    
    # Analyze Turnover Rate
    df['turnover_rate'] = df['volume'] / df['amount']
    
    # Identify Bullish Divergences
    df['bullish_divergence'] = (df['close'] < df['close'].shift(n)) & (df['volume'] > df['volume'].shift(n))
    
    # Identify Bearish Divergences
    df['bearish_divergence'] = (df['close'] > df['close'].shift(n)) & (df['volume'] < df['volume'].shift(n))
    
    # Evaluate Breakout Patterns
    df['high_breakout'] = df['high'] > df['high'].rolling(window=n).max().shift(1)
    df['low_breakout'] = df['low'] < df['low'].rolling(window=n).min().shift(1)
    
    # Combine factors into a single alpha factor
    df['alpha_factor'] = (
        df['price_momentum'] +
        df['volume_momentum'] +
        df['range_expansion'] +
        df['volatility'] +
        df['atr'] +
        df['mfi'] +
        df['volume_relative_strength'] +
        df['turnover_rate'] +
        df['bullish_divergence'].astype(int) -
        df['bearish_divergence'].astype(int) +
        df['high_breakout'].astype(int) -
        df['low_breakout'].astype(int)
    )
    
    return df['alpha_factor']
```
