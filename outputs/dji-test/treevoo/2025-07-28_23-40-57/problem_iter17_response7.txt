```python
import pandas as pd

def heuristics_v2(df):
    # Calculate the daily price change
    df['price_change'] = df['close'] - df['open']
    
    # Calculate the daily trading range
    df['trading_range'] = df['high'] - df['low']
    
    # Calculate the percentage of the price change relative to the trading range
    df['pct_change_range'] = (df['price_change'] / df['trading_range']).fillna(0)
    
    # Calculate the volume weighted price
    df['vwap'] = (df['close'] * df['volume']).cumsum() / df['volume'].cumsum()
    
    # Calculate the factor as a combination of percentage change and volume weighted price
    factor = df['pct_change_range'] + df['vwap'].pct_change().fillna(0)
    
    return factor
```
